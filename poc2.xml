<?xml version="1.0"?>
<issue xmlns="http://pkp.sfu.ca" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" published="1" current="0" access_status="1" xsi:schemaLocation="http://pkp.sfu.ca native.xsd">
  <id type="internal" advice="ignore">10</id>
  <id type="doi" advice="update">10.56727/bsm.v8i1</id>
  <issue_identification>
    <volume>22</volume>
    <number>266</number>
    <year>2024</year>
    <title locale="en_US">Lol POC</title>
  </issue_identification>
  <date_published>2023-06-02</date_published>
  <last_modified>2023-07-03</last_modified>
  <sections>
    <section ref="VOL.8 NO.1" seq="12" editor_restricted="0" meta_indexed="1" meta_reviewed="1" abstracts_not_required="0" hide_title="0" hide_author="0" abstract_word_count="0">
      <id type="internal" advice="ignore">15</id>
      <abbrev locale="en_US">VOL.8 NO.1</abbrev>
      <title locale="en_US">VOLUME 8 NOMOR 1 (2023)</title>
    </section>
  </sections>
  <covers>
    <cover locale="en_US">
      <cover_image>../../conf.php</cover_image>
      <cover_image_alt_text/>
      <embed encoding="base64">PD9waHAKLy9EZWZhdWx0IENvbmZpZ3VyYXRpb24KJENPTkZJRyA9ICd7ImxhbmciOiJlbiIsImVycm9yX3JlcG9ydGluZyI6ZmFsc2UsInNob3dfaGlkZGVuIjpmYWxzZSwiaGlkZV9Db2xzIjpmYWxzZSwidGhlbWUiOiJsaWdodCJ9JzsKCi8qKgogKiBIM0sgLSBUaW55IEZpbGUgTWFuYWdlciBWMi41LjUKICogQGF1dGhvciBDQ1AgUHJvZ3JhbW1lcnMKICogQGdpdGh1YiBodHRwczovL2dpdGh1Yi5jb20vcHJhc2F0aG1hbmkvdGlueWZpbGVtYW5hZ2VyCiAqIEBsaW5rIGh0dHBzOi8vdGlueWZpbGVtYW5hZ2VyLmdpdGh1Yi5pbwogKi8KCi8vVEZNIHZlcnNpb24KZGVmaW5lKCdWRVJTSU9OJywgJzIuNS41Jyk7CgovL0FwcGxpY2F0aW9uIFRpdGxlCmRlZmluZSgnQVBQX1RJVExFJywgJ1RpbnkgRmlsZSBNYW5hZ2VyJyk7CgovLyAtLS0gRURJVCBCRUxPVyBDT05GSUdVUkFUSU9OIENBUkVGVUxMWSAtLS0KCi8vIEF1dGggd2l0aCBsb2dpbi9wYXNzd29yZAovLyBzZXQgdHJ1ZS9mYWxzZSB0byBlbmFibGUvZGlzYWJsZSBpdAovLyBJcyBpbmRlcGVuZGVudCBmcm9tIElQIHdoaXRlLSBhbmQgYmxhY2tsaXN0aW5nCiR1c2VfYXV0aCA9IHRydWU7CgovLyBMb2dpbiB1c2VyIG5hbWUgYW5kIHBhc3N3b3JkCi8vIFVzZXJzOiBhcnJheSgnVXNlcm5hbWUnID0+ICdQYXNzd29yZCcsICdVc2VybmFtZTInID0+ICdQYXNzd29yZDInLCAuLi4pCi8vIEdlbmVyYXRlIHNlY3VyZSBwYXNzd29yZCBoYXNoIC0gaHR0cHM6Ly90aW55ZmlsZW1hbmFnZXIuZ2l0aHViLmlvL2RvY3MvcHdkLmh0bWwKJGF1dGhfdXNlcnMgPSBhcnJheSgKICAgICdhZG1pbicgPT4gJyQyeSQxMCRNOFRxakN1V1dKSkF3VkhodWtYZEt1aVkxREZqbE9WcnlwSmhjV1VycEdramJUdEVOZTFsMicsIC8vYWRtaW5AMTIzCiAgICAndXNlcicgPT4gJyQyeSQxMCRNOFRxakN1V1dKSkF3VkhodWtYZEt1aVkxREZqbE9WcnlwSmhjV1VycEdramJUdEVOZTFsMicgLy8xMjM0NQopOwoKLy8gUmVhZG9ubHkgdXNlcnMKLy8gZS5nLiBhcnJheSgndXNlcnMnLCAnZ3Vlc3QnLCAuLi4pCiRyZWFkb25seV91c2VycyA9IGFycmF5KAogICAgJ3VzZXInCik7CgovLyBHbG9iYWwgcmVhZG9ubHksIGluY2x1ZGluZyB3aGVuIGF1dGggaXMgbm90IGJlaW5nIHVzZWQKJGdsb2JhbF9yZWFkb25seSA9IGZhbHNlOwoKLy8gdXNlciBzcGVjaWZpYyBkaXJlY3RvcmllcwovLyBhcnJheSgnVXNlcm5hbWUnID0+ICdEaXJlY3RvcnkgcGF0aCcsICdVc2VybmFtZTInID0+ICdEaXJlY3RvcnkgcGF0aCcsIC4uLikKJGRpcmVjdG9yaWVzX3VzZXJzID0gYXJyYXkoKTsKCi8vIEVuYWJsZSBoaWdobGlnaHQuanMgKGh0dHBzOi8vaGlnaGxpZ2h0anMub3JnLykgb24gdmlldydzIHBhZ2UKJHVzZV9oaWdobGlnaHRqcyA9IHRydWU7CgovLyBoaWdobGlnaHQuanMgc3R5bGUKLy8gZm9yIGRhcmsgdGhlbWUgdXNlICdpci1ibGFjaycKJGhpZ2hsaWdodGpzX3N0eWxlID0gJ3ZzJzsKCi8vIEVuYWJsZSBhY2UuanMgKGh0dHBzOi8vYWNlLmM5LmlvLykgb24gdmlldydzIHBhZ2UKJGVkaXRfZmlsZXMgPSB0cnVlOwoKLy8gRGVmYXVsdCB0aW1lem9uZSBmb3IgZGF0ZSgpIGFuZCB0aW1lKCkKLy8gRG9jIC0gaHR0cDovL3BocC5uZXQvbWFudWFsL2VuL3RpbWV6b25lcy5waHAKJGRlZmF1bHRfdGltZXpvbmUgPSAnRXRjL1VUQyc7IC8vIFVUQwoKLy8gUm9vdCBwYXRoIGZvciBmaWxlIG1hbmFnZXIKLy8gdXNlIGFic29sdXRlIHBhdGggb2YgZGlyZWN0b3J5IGkuZTogJy92YXIvd3d3L2ZvbGRlcicgb3IgJF9TRVJWRVJbJ0RPQ1VNRU5UX1JPT1QnXS4nL2ZvbGRlcicKJHJvb3RfcGF0aCA9ICRfU0VSVkVSWydET0NVTUVOVF9ST09UJ107CgovLyBSb290IHVybCBmb3IgbGlua3MgaW4gZmlsZSBtYW5hZ2VyLlJlbGF0aXZlIHRvICRodHRwX2hvc3QuIFZhcmlhbnRzOiAnJywgJ3BhdGgvdG8vc3ViZm9sZGVyJwovLyBXaWxsIG5vdCB3b3JraW5nIGlmICRyb290X3BhdGggd2lsbCBiZSBvdXRzaWRlIG9mIHNlcnZlciBkb2N1bWVudCByb290CiRyb290X3VybCA9ICcnOwoKLy8gU2VydmVyIGhvc3RuYW1lLiBDYW4gc2V0IG1hbnVhbGx5IGlmIHdyb25nCi8vICRfU0VSVkVSWydIVFRQX0hPU1QnXS4nL2ZvbGRlcicKJGh0dHBfaG9zdCA9ICRfU0VSVkVSWydIVFRQX0hPU1QnXTsKCi8vIGlucHV0IGVuY29kaW5nIGZvciBpY29udgokaWNvbnZfaW5wdXRfZW5jb2RpbmcgPSAnVVRGLTgnOwoKLy8gZGF0ZSgpIGZvcm1hdCBmb3IgZmlsZSBtb2RpZmljYXRpb24gZGF0ZQovLyBEb2MgLSBodHRwczovL3d3dy5waHAubmV0L21hbnVhbC9lbi9mdW5jdGlvbi5kYXRlLnBocAokZGF0ZXRpbWVfZm9ybWF0ID0gJ20vZC9ZIGc6aSBBJzsKCi8vIFBhdGggZGlzcGxheSBtb2RlIHdoZW4gdmlld2luZyBmaWxlIGluZm9ybWF0aW9uCi8vICdmdWxsJyA9PiBzaG93IGZ1bGwgcGF0aAovLyAncmVsYXRpdmUnID0+IHNob3cgcGF0aCByZWxhdGl2ZSB0byByb290X3BhdGgKLy8gJ2hvc3QnID0+IHNob3cgcGF0aCBvbiB0aGUgaG9zdAokcGF0aF9kaXNwbGF5X21vZGUgPSAnZnVsbCc7CgovLyBBbGxvd2VkIGZpbGUgZXh0ZW5zaW9ucyBmb3IgY3JlYXRlIGFuZCByZW5hbWUgZmlsZXMKLy8gZS5nLiAndHh0LGh0bWwsY3NzLGpzJwokYWxsb3dlZF9maWxlX2V4dGVuc2lvbnMgPSAnJzsKCi8vIEFsbG93ZWQgZmlsZSBleHRlbnNpb25zIGZvciB1cGxvYWQgZmlsZXMKLy8gZS5nLiAnZ2lmLHBuZyxqcGcsaHRtbCx0eHQnCiRhbGxvd2VkX3VwbG9hZF9leHRlbnNpb25zID0gJyc7CgovLyBGYXZpY29uIHBhdGguIFRoaXMgY2FuIGJlIGVpdGhlciBhIGZ1bGwgdXJsIHRvIGFuIC5QTkcgaW1hZ2UsIG9yIGEgcGF0aCBiYXNlZCBvbiB0aGUgZG9jdW1lbnQgcm9vdC4KLy8gZnVsbCBwYXRoLCBlLmcgaHR0cDovL2V4YW1wbGUuY29tL2Zhdmljb24ucG5nCi8vIGxvY2FsIHBhdGgsIGUuZyBpbWFnZXMvaWNvbnMvZmF2aWNvbi5wbmcKJGZhdmljb25fcGF0aCA9ICcnOwoKLy8gRmlsZXMgYW5kIGZvbGRlcnMgdG8gZXhjbHVkZWQgZnJvbSBsaXN0aW5nCi8vIGUuZy4gYXJyYXkoJ215ZmlsZS5odG1sJywgJ3BlcnNvbmFsLWZvbGRlcicsICcqLnBocCcsIC4uLikKJGV4Y2x1ZGVfaXRlbXMgPSBhcnJheSgpOwoKLy8gT25saW5lIG9mZmljZSBEb2NzIFZpZXdlcgovLyBBdmFpbGFibGUgcnVsZXMgYXJlICdnb29nbGUnLCAnbWljcm9zb2Z0JyBvciBmYWxzZQovLyBHb29nbGUgPT4gVmlldyBkb2N1bWVudHMgdXNpbmcgR29vZ2xlIERvY3MgVmlld2VyCi8vIE1pY3Jvc29mdCA9PiBWaWV3IGRvY3VtZW50cyB1c2luZyBNaWNyb3NvZnQgV2ViIEFwcHMgVmlld2VyCi8vIGZhbHNlID0+IGRpc2FibGUgb25saW5lIGRvYyB2aWV3ZXIKJG9ubGluZV92aWV3ZXIgPSAnZ29vZ2xlJzsKCi8vIFN0aWNreSBOYXYgYmFyCi8vIHRydWUgPT4gZW5hYmxlIHN0aWNreSBoZWFkZXIKLy8gZmFsc2UgPT4gZGlzYWJsZSBzdGlja3kgaGVhZGVyCiRzdGlja3lfbmF2YmFyID0gdHJ1ZTsKCi8vIE1heGltdW0gZmlsZSB1cGxvYWQgc2l6ZQovLyBJbmNyZWFzZSB0aGUgZm9sbG93aW5nIHZhbHVlcyBpbiBwaHAuaW5pIHRvIHdvcmsgcHJvcGVybHkKLy8gbWVtb3J5X2xpbWl0LCB1cGxvYWRfbWF4X2ZpbGVzaXplLCBwb3N0X21heF9zaXplCiRtYXhfdXBsb2FkX3NpemVfYnl0ZXMgPSA1MDAwMDAwMDAwOyAvLyBzaXplIDUsMDAwLDAwMCwwMDAgYnl0ZXMgKH41R0IpCgovLyBjaHVuayBzaXplIHVzZWQgZm9yIHVwbG9hZAovLyBlZy4gZGVjcmVhc2UgdG8gMU1CIGlmIG5naW54IHJlcG9ydHMgcHJvYmxlbSA0MTMgZW50aXR5IHRvbyBsYXJnZQokdXBsb2FkX2NodW5rX3NpemVfYnl0ZXMgPSAyMDAwMDAwOyAvLyBjaHVuayBzaXplIDIsMDAwLDAwMCBieXRlcyAofjJNQikKCi8vIFBvc3NpYmxlIHJ1bGVzIGFyZSAnT0ZGJywgJ0FORCcgb3IgJ09SJwovLyBPRkYgPT4gRG9uJ3QgY2hlY2sgY29ubmVjdGlvbiBJUCwgZGVmYXVsdHMgdG8gT0ZGCi8vIEFORCA9PiBDb25uZWN0aW9uIG11c3QgYmUgb24gdGhlIHdoaXRlbGlzdCwgYW5kIG5vdCBvbiB0aGUgYmxhY2tsaXN0Ci8vIE9SID0+IENvbm5lY3Rpb24gbXVzdCBiZSBvbiB0aGUgd2hpdGVsaXN0LCBvciBub3Qgb24gdGhlIGJsYWNrbGlzdAokaXBfcnVsZXNldCA9ICdPRkYnOwoKLy8gU2hvdWxkIHVzZXJzIGJlIG5vdGlmaWVkIG9mIHRoZWlyIGJsb2NrPwokaXBfc2lsZW50ID0gdHJ1ZTsKCi8vIElQLWFkZHJlc3NlcywgYm90aCBpcHY0IGFuZCBpcHY2CiRpcF93aGl0ZWxpc3QgPSBhcnJheSgKICAgICcxMjcuMC4wLjEnLCAgICAvLyBsb2NhbCBpcHY0CiAgICAnOjoxJyAgICAgICAgICAgLy8gbG9jYWwgaXB2NgopOwoKLy8gSVAtYWRkcmVzc2VzLCBib3RoIGlwdjQgYW5kIGlwdjYKJGlwX2JsYWNrbGlzdCA9IGFycmF5KAogICAgJzAuMC4wLjAnLCAgICAgIC8vIG5vbi1yb3V0YWJsZSBtZXRhIGlwdjQKICAgICc6OicgICAgICAgICAgICAvLyBub24tcm91dGFibGUgbWV0YSBpcHY2Cik7CgovLyBpZiBVc2VyIGhhcyB0aGUgZXh0ZXJuYWwgY29uZmlnIGZpbGUsIHRyeSB0byB1c2UgaXQgdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHQgY29uZmlnIGFib3ZlIFtjb25maWcucGhwXQovLyBzYW1wbGUgY29uZmlnIC0gaHR0cHM6Ly90aW55ZmlsZW1hbmFnZXIuZ2l0aHViLmlvL2NvbmZpZy1zYW1wbGUudHh0CiRjb25maWdfZmlsZSA9IF9fRElSX18uJy9jb25maWcucGhwJzsKaWYgKGlzX3JlYWRhYmxlKCRjb25maWdfZmlsZSkpIHsKICAgIEBpbmNsdWRlKCRjb25maWdfZmlsZSk7Cn0KCi8vIEV4dGVybmFsIENETiByZXNvdXJjZXMgdGhhdCBjYW4gYmUgdXNlZCBpbiB0aGUgSFRNTCAocmVwbGFjZSBmb3IgR0RQUiBjb21wbGlhbmNlKQokZXh0ZXJuYWwgPSBhcnJheSgKICAgICdjc3MtYm9vdHN0cmFwJyA9PiAnPGxpbmsgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9ib290c3RyYXBANS4yLjIvZGlzdC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiIHJlbD0ic3R5bGVzaGVldCIgaW50ZWdyaXR5PSJzaGEzODQtWmVuaDg3cVg1Sm5LMkpsMHZXYThDazJyZGtRMkJ6ZXA1SUR4YmNuQ2V1T3hqenJQRi9ldDNVUnk5QnYxV1RSaSIgY3Jvc3NvcmlnaW49ImFub255bW91cyI+JywKICAgICdjc3MtZHJvcHpvbmUnID0+ICc8bGluayBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9kcm9wem9uZS81LjkuMy9taW4vZHJvcHpvbmUubWluLmNzcyIgcmVsPSJzdHlsZXNoZWV0Ij4nLAogICAgJ2Nzcy1mb250LWF3ZXNvbWUnID0+ICc8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ZvbnQtYXdlc29tZS80LjcuMC9jc3MvZm9udC1hd2Vzb21lLm1pbi5jc3MiIGNyb3Nzb3JpZ2luPSJhbm9ueW1vdXMiPicsCiAgICAnY3NzLWhpZ2hsaWdodGpzJyA9PiAnPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9oaWdobGlnaHQuanMvMTEuNi4wL3N0eWxlcy8nIC4gJGhpZ2hsaWdodGpzX3N0eWxlIC4gJy5taW4uY3NzIj4nLAogICAgJ2pzLWFjZScgPT4gJzxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9hY2UvMS4xMy4xL2FjZS5qcyI+PC9zY3JpcHQ+JywKICAgICdqcy1ib290c3RyYXAnID0+ICc8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9ib290c3RyYXBANS4yLjIvZGlzdC9qcy9ib290c3RyYXAuYnVuZGxlLm1pbi5qcyIgaW50ZWdyaXR5PSJzaGEzODQtT0VSY0EyRXFqSkNNQSsvM3krZ3hJT3FNRWp3dHhKWTdxUENxc2RsdGJOSnVhT2U5MjMrbW8vL2Y2VjhRYnN3MyIgY3Jvc3NvcmlnaW49ImFub255bW91cyI+PC9zY3JpcHQ+JywKICAgICdqcy1kcm9wem9uZScgPT4gJzxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9kcm9wem9uZS81LjkuMy9taW4vZHJvcHpvbmUubWluLmpzIj48L3NjcmlwdD4nLAogICAgJ2pzLWpxdWVyeScgPT4gJzxzY3JpcHQgc3JjPSJodHRwczovL2NvZGUuanF1ZXJ5LmNvbS9qcXVlcnktMy42LjEubWluLmpzIiBpbnRlZ3JpdHk9InNoYTI1Ni1vODhBd1FuWkIrVkR2RTl0dklYck1RYVBsRkZTVVRSK25sZFFtMUx1UFhRPSIgY3Jvc3NvcmlnaW49ImFub255bW91cyI+PC9zY3JpcHQ+JywKICAgICdqcy1qcXVlcnktZGF0YXRhYmxlcycgPT4gJzxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5kYXRhdGFibGVzLm5ldC8xLjEzLjEvanMvanF1ZXJ5LmRhdGFUYWJsZXMubWluLmpzIiBjcm9zc29yaWdpbj0iYW5vbnltb3VzIiBkZWZlcj48L3NjcmlwdD4nLAogICAgJ2pzLWhpZ2hsaWdodGpzJyA9PiAnPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2hpZ2hsaWdodC5qcy8xMS42LjAvaGlnaGxpZ2h0Lm1pbi5qcyI+PC9zY3JpcHQ+JywKICAgICdwcmUtanNkZWxpdnInID0+ICc8bGluayByZWw9InByZWNvbm5lY3QiIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldCIgY3Jvc3NvcmlnaW4vPjxsaW5rIHJlbD0iZG5zLXByZWZldGNoIiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQiLz4nLAogICAgJ3ByZS1jbG91ZGZsYXJlJyA9PiAnPGxpbmsgcmVsPSJwcmVjb25uZWN0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tIiBjcm9zc29yaWdpbi8+PGxpbmsgcmVsPSJkbnMtcHJlZmV0Y2giIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20iLz4nCik7CgovLyAtLS0gRURJVCBCRUxPVyBDQVJFRlVMTFkgT1IgRE8gTk9UIEVESVQgQVQgQUxMIC0tLQoKLy8gbWF4IHVwbG9hZCBmaWxlIHNpemUKZGVmaW5lKCdNQVhfVVBMT0FEX1NJWkUnLCAkbWF4X3VwbG9hZF9zaXplX2J5dGVzKTsKCi8vIHVwbG9hZCBjaHVuayBzaXplCmRlZmluZSgnVVBMT0FEX0NIVU5LX1NJWkUnLCAkdXBsb2FkX2NodW5rX3NpemVfYnl0ZXMpOwoKLy8gcHJpdmF0ZSBrZXkgYW5kIHNlc3Npb24gbmFtZSB0byBzdG9yZSB0byB0aGUgc2Vzc2lvbgppZiAoICFkZWZpbmVkKCAnRk1fU0VTU0lPTl9JRCcpKSB7CiAgICBkZWZpbmUoJ0ZNX1NFU1NJT05fSUQnLCAnZmlsZW1hbmFnZXInKTsKfQoKLy8gQ29uZmlndXJhdGlvbgokY2ZnID0gbmV3IEZNX0NvbmZpZygpOwoKLy8gRGVmYXVsdCBsYW5ndWFnZQokbGFuZyA9IGlzc2V0KCRjZmctPmRhdGFbJ2xhbmcnXSkgPyAkY2ZnLT5kYXRhWydsYW5nJ10gOiAnZW4nOwoKLy8gU2hvdyBvciBoaWRlIGZpbGVzIGFuZCBmb2xkZXJzIHRoYXQgc3RhcnRzIHdpdGggYSBkb3QKJHNob3dfaGlkZGVuX2ZpbGVzID0gaXNzZXQoJGNmZy0+ZGF0YVsnc2hvd19oaWRkZW4nXSkgPyAkY2ZnLT5kYXRhWydzaG93X2hpZGRlbiddIDogdHJ1ZTsKCi8vIFBIUCBlcnJvciByZXBvcnRpbmcgLSBmYWxzZSA9IFR1cm5zIG9mZiBFcnJvcnMsIHRydWUgPSBUdXJucyBvbiBFcnJvcnMKJHJlcG9ydF9lcnJvcnMgPSBpc3NldCgkY2ZnLT5kYXRhWydlcnJvcl9yZXBvcnRpbmcnXSkgPyAkY2ZnLT5kYXRhWydlcnJvcl9yZXBvcnRpbmcnXSA6IHRydWU7CgovLyBIaWRlIFBlcm1pc3Npb25zIGFuZCBPd25lciBjb2xzIGluIGZpbGUtbGlzdGluZwokaGlkZV9Db2xzID0gaXNzZXQoJGNmZy0+ZGF0YVsnaGlkZV9Db2xzJ10pID8gJGNmZy0+ZGF0YVsnaGlkZV9Db2xzJ10gOiB0cnVlOwoKLy8gVGhlbWUKJHRoZW1lID0gaXNzZXQoJGNmZy0+ZGF0YVsndGhlbWUnXSkgPyAkY2ZnLT5kYXRhWyd0aGVtZSddIDogJ2xpZ2h0JzsKCmRlZmluZSgnRk1fVEhFTUUnLCAkdGhlbWUpOwoKLy9hdmFpbGFibGUgbGFuZ3VhZ2VzCiRsYW5nX2xpc3QgPSBhcnJheSgKICAgICdlbicgPT4gJ0VuZ2xpc2gnCik7CgppZiAoJHJlcG9ydF9lcnJvcnMgPT0gdHJ1ZSkgewogICAgQGluaV9zZXQoJ2Vycm9yX3JlcG9ydGluZycsIEVfQUxMKTsKICAgIEBpbmlfc2V0KCdkaXNwbGF5X2Vycm9ycycsIDEpOwp9IGVsc2UgewogICAgQGluaV9zZXQoJ2Vycm9yX3JlcG9ydGluZycsIEVfQUxMKTsKICAgIEBpbmlfc2V0KCdkaXNwbGF5X2Vycm9ycycsIDApOwp9CgovLyBpZiBmbSBpbmNsdWRlZAppZiAoZGVmaW5lZCgnRk1fRU1CRUQnKSkgewogICAgJHVzZV9hdXRoID0gZmFsc2U7CiAgICAkc3RpY2t5X25hdmJhciA9IGZhbHNlOwp9IGVsc2UgewogICAgQHNldF90aW1lX2xpbWl0KDYwMCk7CgogICAgZGF0ZV9kZWZhdWx0X3RpbWV6b25lX3NldCgkZGVmYXVsdF90aW1lem9uZSk7CgogICAgaW5pX3NldCgnZGVmYXVsdF9jaGFyc2V0JywgJ1VURi04Jyk7CiAgICBpZiAodmVyc2lvbl9jb21wYXJlKFBIUF9WRVJTSU9OLCAnNS42LjAnLCAnPCcpICYmIGZ1bmN0aW9uX2V4aXN0cygnbWJfaW50ZXJuYWxfZW5jb2RpbmcnKSkgewogICAgICAgIG1iX2ludGVybmFsX2VuY29kaW5nKCdVVEYtOCcpOwogICAgfQogICAgaWYgKGZ1bmN0aW9uX2V4aXN0cygnbWJfcmVnZXhfZW5jb2RpbmcnKSkgewogICAgICAgIG1iX3JlZ2V4X2VuY29kaW5nKCdVVEYtOCcpOwogICAgfQoKICAgIHNlc3Npb25fY2FjaGVfbGltaXRlcignbm9jYWNoZScpOyAvLyBQcmV2ZW50IGxvZ291dCBpc3N1ZSBhZnRlciBwYWdlIHdhcyBjYWNoZWQKICAgIHNlc3Npb25fbmFtZShGTV9TRVNTSU9OX0lEICk7CiAgICBmdW5jdGlvbiBzZXNzaW9uX2Vycm9yX2hhbmRsaW5nX2Z1bmN0aW9uKCRjb2RlLCAkbXNnLCAkZmlsZSwgJGxpbmUpIHsKICAgICAgICAvLyBQZXJtaXNzaW9uIGRlbmllZCBmb3IgZGVmYXVsdCBzZXNzaW9uLCB0cnkgdG8gY3JlYXRlIGEgbmV3IG9uZQogICAgICAgIGlmICgkY29kZSA9PSAyKSB7CiAgICAgICAgICAgIHNlc3Npb25fYWJvcnQoKTsKICAgICAgICAgICAgc2Vzc2lvbl9pZChzZXNzaW9uX2NyZWF0ZV9pZCgpKTsKICAgICAgICAgICAgQHNlc3Npb25fc3RhcnQoKTsKICAgICAgICB9CiAgICB9CiAgICBzZXRfZXJyb3JfaGFuZGxlcignc2Vzc2lvbl9lcnJvcl9oYW5kbGluZ19mdW5jdGlvbicpOwogICAgc2Vzc2lvbl9zdGFydCgpOwogICAgcmVzdG9yZV9lcnJvcl9oYW5kbGVyKCk7Cn0KCi8vR2VuZXJhdGluZyBDU1JGIFRva2VuCmlmIChlbXB0eSgkX1NFU1NJT05bJ3Rva2VuJ10pKSB7CiAgICBpZiAoZnVuY3Rpb25fZXhpc3RzKCdyYW5kb21fYnl0ZXMnKSkgewogICAgICAgICRfU0VTU0lPTlsndG9rZW4nXSA9IGJpbjJoZXgocmFuZG9tX2J5dGVzKDMyKSk7CiAgICB9IGVsc2UgewogICAgICAgICRfU0VTU0lPTlsndG9rZW4nXSA9IGJpbjJoZXgob3BlbnNzbF9yYW5kb21fcHNldWRvX2J5dGVzKDMyKSk7CiAgICB9Cn0KCmlmIChlbXB0eSgkYXV0aF91c2VycykpIHsKICAgICR1c2VfYXV0aCA9IGZhbHNlOwp9CgokaXNfaHR0cHMgPSBpc3NldCgkX1NFUlZFUlsnSFRUUFMnXSkgJiYgKCRfU0VSVkVSWydIVFRQUyddID09ICdvbicgfHwgJF9TRVJWRVJbJ0hUVFBTJ10gPT0gMSkKICAgIHx8IGlzc2V0KCRfU0VSVkVSWydIVFRQX1hfRk9SV0FSREVEX1BST1RPJ10pICYmICRfU0VSVkVSWydIVFRQX1hfRk9SV0FSREVEX1BST1RPJ10gPT0gJ2h0dHBzJzsKCi8vIHVwZGF0ZSAkcm9vdF91cmwgYmFzZWQgb24gdXNlciBzcGVjaWZpYyBkaXJlY3RvcmllcwppZiAoaXNzZXQoJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXSkgJiYgIWVtcHR5KCRkaXJlY3Rvcmllc191c2Vyc1skX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddXSkpIHsKICAgICR3ZCA9IGZtX2NsZWFuX3BhdGgoZGlybmFtZSgkX1NFUlZFUlsnUEhQX1NFTEYnXSkpOwogICAgJHJvb3RfdXJsID0gICRyb290X3VybC4kd2QuRElSRUNUT1JZX1NFUEFSQVRPUi4kZGlyZWN0b3JpZXNfdXNlcnNbJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXV07Cn0KLy8gY2xlYW4gJHJvb3RfdXJsCiRyb290X3VybCA9IGZtX2NsZWFuX3BhdGgoJHJvb3RfdXJsKTsKCi8vIGFicyBwYXRoIGZvciBzaXRlCmRlZmluZWQoJ0ZNX1JPT1RfVVJMJykgfHwgZGVmaW5lKCdGTV9ST09UX1VSTCcsICgkaXNfaHR0cHMgPyAnaHR0cHMnIDogJ2h0dHAnKSAuICc6Ly8nIC4gJGh0dHBfaG9zdCAuICghZW1wdHkoJHJvb3RfdXJsKSA/ICcvJyAuICRyb290X3VybCA6ICcnKSk7CmRlZmluZWQoJ0ZNX1NFTEZfVVJMJykgfHwgZGVmaW5lKCdGTV9TRUxGX1VSTCcsICgkaXNfaHR0cHMgPyAnaHR0cHMnIDogJ2h0dHAnKSAuICc6Ly8nIC4gJGh0dHBfaG9zdCAuICRfU0VSVkVSWydQSFBfU0VMRiddKTsKCi8vIGxvZ291dAppZiAoaXNzZXQoJF9HRVRbJ2xvZ291dCddKSkgewogICAgdW5zZXQoJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXSk7CiAgICB1bnNldCggJF9TRVNTSU9OWyd0b2tlbiddKTsgCiAgICBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCk7Cn0KCi8vIFZhbGlkYXRlIGNvbm5lY3Rpb24gSVAKaWYgKCRpcF9ydWxlc2V0ICE9ICdPRkYnKSB7CiAgICBmdW5jdGlvbiBnZXRDbGllbnRJUCgpIHsKICAgICAgICBpZiAoYXJyYXlfa2V5X2V4aXN0cygnSFRUUF9DRl9DT05ORUNUSU5HX0lQJywgJF9TRVJWRVIpKSB7CiAgICAgICAgICAgIHJldHVybiAgJF9TRVJWRVJbIkhUVFBfQ0ZfQ09OTkVDVElOR19JUCJdOwogICAgICAgIH1lbHNlIGlmIChhcnJheV9rZXlfZXhpc3RzKCdIVFRQX1hfRk9SV0FSREVEX0ZPUicsICRfU0VSVkVSKSkgewogICAgICAgICAgICByZXR1cm4gICRfU0VSVkVSWyJIVFRQX1hfRk9SV0FSREVEX0ZPUiJdOwogICAgICAgIH1lbHNlIGlmIChhcnJheV9rZXlfZXhpc3RzKCdSRU1PVEVfQUREUicsICRfU0VSVkVSKSkgewogICAgICAgICAgICByZXR1cm4gJF9TRVJWRVJbJ1JFTU9URV9BRERSJ107CiAgICAgICAgfWVsc2UgaWYgKGFycmF5X2tleV9leGlzdHMoJ0hUVFBfQ0xJRU5UX0lQJywgJF9TRVJWRVIpKSB7CiAgICAgICAgICAgIHJldHVybiAkX1NFUlZFUlsnSFRUUF9DTElFTlRfSVAnXTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICcnOwogICAgfQoKICAgICRjbGllbnRJcCA9IGdldENsaWVudElQKCk7CiAgICAkcHJvY2VlZCA9IGZhbHNlOwogICAgJHdoaXRlbGlzdGVkID0gaW5fYXJyYXkoJGNsaWVudElwLCAkaXBfd2hpdGVsaXN0KTsKICAgICRibGFja2xpc3RlZCA9IGluX2FycmF5KCRjbGllbnRJcCwgJGlwX2JsYWNrbGlzdCk7CgogICAgaWYoJGlwX3J1bGVzZXQgPT0gJ0FORCcpewogICAgICAgIGlmKCR3aGl0ZWxpc3RlZCA9PSB0cnVlICYmICRibGFja2xpc3RlZCA9PSBmYWxzZSl7CiAgICAgICAgICAgICRwcm9jZWVkID0gdHJ1ZTsKICAgICAgICB9CiAgICB9IGVsc2UKICAgIGlmKCRpcF9ydWxlc2V0ID09ICdPUicpewogICAgICAgICBpZigkd2hpdGVsaXN0ZWQgPT0gdHJ1ZSB8fCAkYmxhY2tsaXN0ZWQgPT0gZmFsc2UpewogICAgICAgICAgICAkcHJvY2VlZCA9IHRydWU7CiAgICAgICAgfQogICAgfQoKICAgIGlmKCRwcm9jZWVkID09IGZhbHNlKXsKICAgICAgICB0cmlnZ2VyX2Vycm9yKCdVc2VyIGNvbm5lY3Rpb24gZGVuaWVkIGZyb206ICcgLiAkY2xpZW50SXAsIEVfVVNFUl9XQVJOSU5HKTsKCiAgICAgICAgaWYoJGlwX3NpbGVudCA9PSBmYWxzZSl7CiAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdBY2Nlc3MgZGVuaWVkLiBJUCByZXN0cmljdGlvbiBhcHBsaWNhYmxlJyksICdlcnJvcicpOwogICAgICAgICAgICBmbV9zaG93X2hlYWRlcl9sb2dpbigpOwogICAgICAgICAgICBmbV9zaG93X21lc3NhZ2UoKTsKICAgICAgICB9CiAgICAgICAgZXhpdCgpOwogICAgfQp9CgovLyBDaGVja2luZyBpZiB0aGUgdXNlciBpcyBsb2dnZWQgaW4gb3Igbm90LiBJZiBub3QsIGl0IHdpbGwgc2hvdyB0aGUgbG9naW4gZm9ybS4KaWYgKCR1c2VfYXV0aCkgewogICAgaWYgKGlzc2V0KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbG9nZ2VkJ10sICRhdXRoX3VzZXJzWyRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbG9nZ2VkJ11dKSkgewogICAgICAgIC8vIExvZ2dlZAogICAgfSBlbHNlaWYgKGlzc2V0KCRfUE9TVFsnZm1fdXNyJ10sICRfUE9TVFsnZm1fcHdkJ10sICRfUE9TVFsndG9rZW4nXSkpIHsKICAgICAgICAvLyBMb2dnaW5nIEluCiAgICAgICAgc2xlZXAoMSk7CiAgICAgICAgaWYoZnVuY3Rpb25fZXhpc3RzKCdwYXNzd29yZF92ZXJpZnknKSkgewogICAgICAgICAgICBpZiAoaXNzZXQoJGF1dGhfdXNlcnNbJF9QT1NUWydmbV91c3InXV0pICYmIGlzc2V0KCRfUE9TVFsnZm1fcHdkJ10pICYmIHBhc3N3b3JkX3ZlcmlmeSgkX1BPU1RbJ2ZtX3B3ZCddLCAkYXV0aF91c2Vyc1skX1BPU1RbJ2ZtX3VzciddXSkgJiYgdmVyaWZ5VG9rZW4oJF9QT1NUWyd0b2tlbiddKSkgewogICAgICAgICAgICAgICAgJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXSA9ICRfUE9TVFsnZm1fdXNyJ107CiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygnWW91IGFyZSBsb2dnZWQgaW4nKSk7CiAgICAgICAgICAgICAgICBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1bnNldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddKTsKICAgICAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdMb2dpbiBmYWlsZWQuIEludmFsaWQgdXNlcm5hbWUgb3IgcGFzc3dvcmQnKSwgJ2Vycm9yJyk7CiAgICAgICAgICAgICAgICBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygncGFzc3dvcmRfaGFzaCBub3Qgc3VwcG9ydGVkLCBVcGdyYWRlIFBIUCB2ZXJzaW9uJyksICdlcnJvcicpOzsKICAgICAgICB9CiAgICB9IGVsc2UgewogICAgICAgIC8vIEZvcm0KICAgICAgICB1bnNldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddKTsKICAgICAgICBmbV9zaG93X2hlYWRlcl9sb2dpbigpOwogICAgICAgID8+CiAgICAgICAgPHNlY3Rpb24gY2xhc3M9ImgtMTAwIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udGFpbmVyIGgtMTAwIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyBqdXN0aWZ5LWNvbnRlbnQtbWQtY2VudGVyIGgtMTAwIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLXdyYXBwZXIiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIGZhdCA8P3BocCBlY2hvIGZtX2dldF90aGVtZSgpOyA/PiI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxmb3JtIGNsYXNzPSJmb3JtLXNpZ25pbiIgYWN0aW9uPSIiIG1ldGhvZD0icG9zdCIgYXV0b2NvbXBsZXRlPSJvZmYiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi0zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnJhbmQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgdmVyc2lvbj0iMS4wIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIE0xMDA4IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMzguMDAwMDAwIDE0MC4wMDAwMDAiIGFyaWEtbGFiZWw9IkgzSyBUaW55IEZpbGUgTWFuYWdlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLDE0MC4wMDAwMDApIHNjYWxlKDAuMTAwMDAwLC0wLjEwMDAwMCkiIGZpbGw9IiMwMDAwMDAiIHN0cm9rZT0ibm9uZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTYwIDcwMCBsMCAtNjAwIDExMCAwIDExMCAwIDAgMjYwIDAgMjYwIDcwIDAgNzAgMCAwIC0yNjAgMCAtMjYwIDExMCAwIDExMCAwIDAgNjAwIDAgNjAwIC0xMTAgMCAtMTEwIDAgMCAtMjYwIDAgLTI2MCAtNzAgMCAtNzAgMCAwIDI2MCAwIDI2MCAtMTEwIDAgLTExMCAwIDAgLTYwMHoiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9IiMwMDM1MDAiIGQ9Ik0xMDA4IDEyMjcgbC0xMDggLTcyIDAgLTExNyAwIC0xMTggMTEwIDAgMTEwIDAgMCAxMTAgMCAxMTAgNzAgMCA3MCAwIDAgLTE4MCAwIC0xODAgLTEyNSAwIGMtNjkgMCAtMTI1IC0zIC0xMjUgLTYgMCAtMyAyMyAtMzkgNTIgLTgwIGw1MiAtNzQgNzMgMCA3MyAwIDAgLTE4NSAwIC0xODUgLTcwIDAgLTcwIDAgMCAxMTUgMCAxMTUgLTExMCAwIC0xMTAgMCAwIC0xOTAgMCAtMTkwIDE4MSAwIDE4MSAwIDEwOSA3MyAxMDggNzIgMSAxODEgMCAxODEgLTY5IDQ4IC02OCA0OSA2OCA1MCA2OSA0OSAwIDI0OSAwIDI0OCAtMTgyIC0xIC0xODMgMCAtMTA3IC03MnoiLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjQwIDcwMCBsMCAtNjAwIDExMCAwIDExMCAwIDAgMjA4IDAgMjA4IDM1IDM0IDM1IDM0IDM1IC0zNCAzNSAtMzQgMCAtMjA4IDAgLTIwOCAxMTAgMCAxMTAgMCAwIDIxMiAwIDIxMyAtODcgODcgLTg4IDg4IDg4IDg4IDg3IDg3IDAgMjEzIDAgMjEyIC0xMTAgMCAtMTEwIDAgMCAtMjA4IDAgLTIwOCAtNzAgLTY5IC03MCAtNjkgMCAyNzcgMCAyNzcgLTExMCAwIC0xMTAgMCAwIC02MDB6Ii8+PC9nPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0ZXh0LWNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzPSJjYXJkLXRpdGxlIj48P3BocCBlY2hvIEFQUF9USVRMRTsgPz48L2gxPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJmbV91c3IiIGNsYXNzPSJwYi0yIj48P3BocCBlY2hvIGxuZygnVXNlcm5hbWUnKTsgPz48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJmb3JtLWNvbnRyb2wiIGlkPSJmbV91c3IiIG5hbWU9ImZtX3VzciIgcmVxdWlyZWQgYXV0b2ZvY3VzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1iLTMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0iZm1fcHdkIiBjbGFzcz0icGItMiI+PD9waHAgZWNobyBsbmcoJ1Bhc3N3b3JkJyk7ID8+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgY2xhc3M9ImZvcm0tY29udHJvbCIgaWQ9ImZtX3B3ZCIgbmFtZT0iZm1fcHdkIiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtYi0zIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGZtX3Nob3dfbWVzc2FnZSgpOyA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idG9rZW4iIHZhbHVlPSI8P3BocCBlY2hvIGh0bWxlbnRpdGllcygkX1NFU1NJT05bJ3Rva2VuJ10pOyA/PiIgLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyBidG4tYmxvY2sgdy0xMDAgbXQtNCIgcm9sZT0iYnV0dG9uIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvIGxuZygnTG9naW4nKTsgPz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvb3RlciB0ZXh0LWNlbnRlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmbWRhc2g7Jm1kYXNoOyAmY29weTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Imh0dHBzOi8vdGlueWZpbGVtYW5hZ2VyLmdpdGh1Yi5pby8iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0idGV4dC1kZWNvcmF0aW9uLW5vbmUgdGV4dC1tdXRlZCIgZGF0YS12ZXJzaW9uPSI8P3BocCBlY2hvIFZFUlNJT047ID8+Ij5DQ1AgUHJvZ3JhbW1lcnM8L2E+ICZtZGFzaDsmbWRhc2g7CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvc2VjdGlvbj4KCiAgICAgICAgPD9waHAKICAgICAgICBmbV9zaG93X2Zvb3Rlcl9sb2dpbigpOwogICAgICAgIGV4aXQ7CiAgICB9Cn0KCi8vIHVwZGF0ZSByb290IHBhdGgKaWYgKCR1c2VfYXV0aCAmJiBpc3NldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddKSkgewogICAgJHJvb3RfcGF0aCA9IGlzc2V0KCRkaXJlY3Rvcmllc191c2Vyc1skX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddXSkgPyAkZGlyZWN0b3JpZXNfdXNlcnNbJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXV0gOiAkcm9vdF9wYXRoOwp9CgovLyBjbGVhbiBhbmQgY2hlY2sgJHJvb3RfcGF0aAokcm9vdF9wYXRoID0gcnRyaW0oJHJvb3RfcGF0aCwgJ1xcLycpOwokcm9vdF9wYXRoID0gc3RyX3JlcGxhY2UoJ1xcJywgJy8nLCAkcm9vdF9wYXRoKTsKaWYgKCFAaXNfZGlyKCRyb290X3BhdGgpKSB7CiAgICBlY2hvICI8aDE+Ii5sbmcoJ1Jvb3QgcGF0aCcpLiIgXCJ7JHJvb3RfcGF0aH1cIiAiLmxuZygnbm90IGZvdW5kIScpLiIgPC9oMT4iOwogICAgZXhpdDsKfQoKZGVmaW5lZCgnRk1fU0hPV19ISURERU4nKSB8fCBkZWZpbmUoJ0ZNX1NIT1dfSElEREVOJywgJHNob3dfaGlkZGVuX2ZpbGVzKTsKZGVmaW5lZCgnRk1fUk9PVF9QQVRIJykgfHwgZGVmaW5lKCdGTV9ST09UX1BBVEgnLCAkcm9vdF9wYXRoKTsKZGVmaW5lZCgnRk1fTEFORycpIHx8IGRlZmluZSgnRk1fTEFORycsICRsYW5nKTsKZGVmaW5lZCgnRk1fRklMRV9FWFRFTlNJT04nKSB8fCBkZWZpbmUoJ0ZNX0ZJTEVfRVhURU5TSU9OJywgJGFsbG93ZWRfZmlsZV9leHRlbnNpb25zKTsKZGVmaW5lZCgnRk1fVVBMT0FEX0VYVEVOU0lPTicpIHx8IGRlZmluZSgnRk1fVVBMT0FEX0VYVEVOU0lPTicsICRhbGxvd2VkX3VwbG9hZF9leHRlbnNpb25zKTsKZGVmaW5lZCgnRk1fRVhDTFVERV9JVEVNUycpIHx8IGRlZmluZSgnRk1fRVhDTFVERV9JVEVNUycsICh2ZXJzaW9uX2NvbXBhcmUoUEhQX1ZFUlNJT04sICc3LjAuMCcsICc8JykgPyBzZXJpYWxpemUoJGV4Y2x1ZGVfaXRlbXMpIDogJGV4Y2x1ZGVfaXRlbXMpKTsKZGVmaW5lZCgnRk1fRE9DX1ZJRVdFUicpIHx8IGRlZmluZSgnRk1fRE9DX1ZJRVdFUicsICRvbmxpbmVfdmlld2VyKTsKZGVmaW5lKCdGTV9SRUFET05MWScsICRnbG9iYWxfcmVhZG9ubHkgfHwgKCR1c2VfYXV0aCAmJiAhZW1wdHkoJHJlYWRvbmx5X3VzZXJzKSAmJiBpc3NldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddKSAmJiBpbl9hcnJheSgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ2xvZ2dlZCddLCAkcmVhZG9ubHlfdXNlcnMpKSk7CmRlZmluZSgnRk1fSVNfV0lOJywgRElSRUNUT1JZX1NFUEFSQVRPUiA9PSAnXFwnKTsKCi8vIGFsd2F5cyB1c2UgP3A9CmlmICghaXNzZXQoJF9HRVRbJ3AnXSkgJiYgZW1wdHkoJF9GSUxFUykpIHsKICAgIGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScpOwp9CgovLyBnZXQgcGF0aAokcCA9IGlzc2V0KCRfR0VUWydwJ10pID8gJF9HRVRbJ3AnXSA6IChpc3NldCgkX1BPU1RbJ3AnXSkgPyAkX1BPU1RbJ3AnXSA6ICcnKTsKCi8vIGNsZWFuIHBhdGgKJHAgPSBmbV9jbGVhbl9wYXRoKCRwKTsKCi8vIGZvciBhamF4IHJlcXVlc3QgLSBzYXZlCiRpbnB1dCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCdwaHA6Ly9pbnB1dCcpOwokX1BPU1QgPSAoc3RycG9zKCRpbnB1dCwgJ2FqYXgnKSAhPSBGQUxTRSAmJiBzdHJwb3MoJGlucHV0LCAnc2F2ZScpICE9IEZBTFNFKSA/IGpzb25fZGVjb2RlKCRpbnB1dCwgdHJ1ZSkgOiAkX1BPU1Q7CgovLyBpbnN0ZWFkIGdsb2JhbHMgdmFycwpkZWZpbmUoJ0ZNX1BBVEgnLCAkcCk7CmRlZmluZSgnRk1fVVNFX0FVVEgnLCAkdXNlX2F1dGgpOwpkZWZpbmUoJ0ZNX0VESVRfRklMRScsICRlZGl0X2ZpbGVzKTsKZGVmaW5lZCgnRk1fSUNPTlZfSU5QVVRfRU5DJykgfHwgZGVmaW5lKCdGTV9JQ09OVl9JTlBVVF9FTkMnLCAkaWNvbnZfaW5wdXRfZW5jb2RpbmcpOwpkZWZpbmVkKCdGTV9VU0VfSElHSExJR0hUSlMnKSB8fCBkZWZpbmUoJ0ZNX1VTRV9ISUdITElHSFRKUycsICR1c2VfaGlnaGxpZ2h0anMpOwpkZWZpbmVkKCdGTV9ISUdITElHSFRKU19TVFlMRScpIHx8IGRlZmluZSgnRk1fSElHSExJR0hUSlNfU1RZTEUnLCAkaGlnaGxpZ2h0anNfc3R5bGUpOwpkZWZpbmVkKCdGTV9EQVRFVElNRV9GT1JNQVQnKSB8fCBkZWZpbmUoJ0ZNX0RBVEVUSU1FX0ZPUk1BVCcsICRkYXRldGltZV9mb3JtYXQpOwoKdW5zZXQoJHAsICR1c2VfYXV0aCwgJGljb252X2lucHV0X2VuY29kaW5nLCAkdXNlX2hpZ2hsaWdodGpzLCAkaGlnaGxpZ2h0anNfc3R5bGUpOwoKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKiBBQ1RJT05TICoqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCi8vIEhhbmRsZSBhbGwgQUpBWCBSZXF1ZXN0CmlmICgoaXNzZXQoJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXSwgJGF1dGhfdXNlcnNbJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXV0pIHx8ICFGTV9VU0VfQVVUSCkgJiYgaXNzZXQoJF9QT1NUWydhamF4J10sICRfUE9TVFsndG9rZW4nXSkgJiYgIUZNX1JFQURPTkxZKSB7CiAgICBpZighdmVyaWZ5VG9rZW4oJF9QT1NUWyd0b2tlbiddKSkgewogICAgICAgIGhlYWRlcignSFRUUC8xLjAgNDAxIFVuYXV0aG9yaXplZCcpOwogICAgICAgIGRpZSgiSW52YWxpZCBUb2tlbi4iKTsKICAgIH0KCiAgICAvL3NlYXJjaCA6IGdldCBsaXN0IG9mIGZpbGVzIGZyb20gdGhlIGN1cnJlbnQgZm9sZGVyCiAgICBpZihpc3NldCgkX1BPU1RbJ3R5cGUnXSkgJiYgJF9QT1NUWyd0eXBlJ109PSJzZWFyY2giKSB7CiAgICAgICAgJGRpciA9ICRfUE9TVFsncGF0aCddID09ICIuIiA/ICcnOiAkX1BPU1RbJ3BhdGgnXTsKICAgICAgICAkcmVzcG9uc2UgPSBzY2FuKGZtX2NsZWFuX3BhdGgoJGRpciksICRfUE9TVFsnY29udGVudCddKTsKICAgICAgICBlY2hvIGpzb25fZW5jb2RlKCRyZXNwb25zZSk7CiAgICAgICAgZXhpdCgpOwogICAgfQoKICAgIC8vIHNhdmUgZWRpdG9yIGZpbGUKICAgIGlmIChpc3NldCgkX1BPU1RbJ3R5cGUnXSkgJiYgJF9QT1NUWyd0eXBlJ10gPT0gInNhdmUiKSB7CiAgICAgICAgLy8gZ2V0IGN1cnJlbnQgcGF0aAogICAgICAgICRwYXRoID0gRk1fUk9PVF9QQVRIOwogICAgICAgIGlmIChGTV9QQVRIICE9ICcnKSB7CiAgICAgICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7CiAgICAgICAgfQogICAgICAgIC8vIGNoZWNrIHBhdGgKICAgICAgICBpZiAoIWlzX2RpcigkcGF0aCkpIHsKICAgICAgICAgICAgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9Jyk7CiAgICAgICAgfQogICAgICAgICRmaWxlID0gJF9HRVRbJ2VkaXQnXTsKICAgICAgICAkZmlsZSA9IGZtX2NsZWFuX3BhdGgoJGZpbGUpOwogICAgICAgICRmaWxlID0gc3RyX3JlcGxhY2UoJy8nLCAnJywgJGZpbGUpOwogICAgICAgIGlmICgkZmlsZSA9PSAnJyB8fCAhaXNfZmlsZSgkcGF0aCAuICcvJyAuICRmaWxlKSkgewogICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygnRmlsZSBub3QgZm91bmQnKSwgJ2Vycm9yJyk7CiAgICAgICAgICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsKICAgICAgICB9CiAgICAgICAgaGVhZGVyKCdYLVhTUy1Qcm90ZWN0aW9uOjAnKTsKICAgICAgICAkZmlsZV9wYXRoID0gJHBhdGggLiAnLycgLiAkZmlsZTsKCiAgICAgICAgJHdyaXRlZGF0YSA9ICRfUE9TVFsnY29udGVudCddOwogICAgICAgICRmZCA9IGZvcGVuKCRmaWxlX3BhdGgsICJ3Iik7CiAgICAgICAgJHdyaXRlX3Jlc3VsdHMgPSBAZndyaXRlKCRmZCwgJHdyaXRlZGF0YSk7CiAgICAgICAgZmNsb3NlKCRmZCk7CiAgICAgICAgaWYgKCR3cml0ZV9yZXN1bHRzID09PSBmYWxzZSl7CiAgICAgICAgICAgIGhlYWRlcigiSFRUUC8xLjEgNTAwIEludGVybmFsIFNlcnZlciBFcnJvciIpOwogICAgICAgICAgICBkaWUoIkNvdWxkIE5vdCBXcml0ZSBGaWxlISAtIENoZWNrIFBlcm1pc3Npb25zIC8gT3duZXJzaGlwIik7CiAgICAgICAgfQogICAgICAgIGRpZSh0cnVlKTsKICAgIH0KCiAgICAvLyBiYWNrdXAgZmlsZXMKICAgIGlmIChpc3NldCgkX1BPU1RbJ3R5cGUnXSkgJiYgJF9QT1NUWyd0eXBlJ10gPT0gImJhY2t1cCIgJiYgIWVtcHR5KCRfUE9TVFsnZmlsZSddKSkgewogICAgICAgICRmaWxlTmFtZSA9IGZtX2NsZWFuX3BhdGgoJF9QT1NUWydmaWxlJ10pOwogICAgICAgICRmdWxsUGF0aCA9IEZNX1JPT1RfUEFUSCAuICcvJzsKICAgICAgICBpZiAoIWVtcHR5KCRfUE9TVFsncGF0aCddKSkgewogICAgICAgICAgICAkcmVsYXRpdmVEaXJQYXRoID0gZm1fY2xlYW5fcGF0aCgkX1BPU1RbJ3BhdGgnXSk7CiAgICAgICAgICAgICRmdWxsUGF0aCAuPSAieyRyZWxhdGl2ZURpclBhdGh9LyI7CiAgICAgICAgfQogICAgICAgICRkYXRlID0gZGF0ZSgiZE15LUhpcyIpOwogICAgICAgICRuZXdGaWxlTmFtZSA9ICJ7JGZpbGVOYW1lfS17JGRhdGV9LmJhayI7CiAgICAgICAgJGZ1bGx5UXVhbGlmaWVkRmlsZU5hbWUgPSAkZnVsbFBhdGggLiAkZmlsZU5hbWU7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKCFmaWxlX2V4aXN0cygkZnVsbHlRdWFsaWZpZWRGaWxlTmFtZSkpIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oIkZpbGUgeyRmaWxlTmFtZX0gbm90IGZvdW5kIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGNvcHkoJGZ1bGx5UXVhbGlmaWVkRmlsZU5hbWUsICRmdWxsUGF0aCAuICRuZXdGaWxlTmFtZSkpIHsKICAgICAgICAgICAgICAgIGVjaG8gIkJhY2t1cCB7JG5ld0ZpbGVOYW1lfSBjcmVhdGVkIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oIkNvdWxkIG5vdCBjb3B5IGZpbGUgeyRmaWxlTmFtZX0iKTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgICAgICAgICBlY2hvICRlLT5nZXRNZXNzYWdlKCk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIFNhdmUgQ29uZmlnCiAgICBpZiAoaXNzZXQoJF9QT1NUWyd0eXBlJ10pICYmICRfUE9TVFsndHlwZSddID09ICJzZXR0aW5ncyIpIHsKICAgICAgICBnbG9iYWwgJGNmZywgJGxhbmcsICRyZXBvcnRfZXJyb3JzLCAkc2hvd19oaWRkZW5fZmlsZXMsICRsYW5nX2xpc3QsICRoaWRlX0NvbHMsICR0aGVtZTsKICAgICAgICAkbmV3TG5nID0gJF9QT1NUWydqcy1sYW5ndWFnZSddOwogICAgICAgIGZtX2dldF90cmFuc2xhdGlvbnMoW10pOwogICAgICAgIGlmICghYXJyYXlfa2V5X2V4aXN0cygkbmV3TG5nLCAkbGFuZ19saXN0KSkgewogICAgICAgICAgICAkbmV3TG5nID0gJ2VuJzsKICAgICAgICB9CgogICAgICAgICRlcnAgPSBpc3NldCgkX1BPU1RbJ2pzLWVycm9yLXJlcG9ydCddKSAmJiAkX1BPU1RbJ2pzLWVycm9yLXJlcG9ydCddID09ICJ0cnVlIiA/IHRydWUgOiBmYWxzZTsKICAgICAgICAkc2hmID0gaXNzZXQoJF9QT1NUWydqcy1zaG93LWhpZGRlbiddKSAmJiAkX1BPU1RbJ2pzLXNob3ctaGlkZGVuJ10gPT0gInRydWUiID8gdHJ1ZSA6IGZhbHNlOwogICAgICAgICRoY28gPSBpc3NldCgkX1BPU1RbJ2pzLWhpZGUtY29scyddKSAmJiAkX1BPU1RbJ2pzLWhpZGUtY29scyddID09ICJ0cnVlIiA/IHRydWUgOiBmYWxzZTsKICAgICAgICAkdGUzID0gJF9QT1NUWydqcy10aGVtZS0zJ107CgogICAgICAgIGlmICgkY2ZnLT5kYXRhWydsYW5nJ10gIT0gJG5ld0xuZykgewogICAgICAgICAgICAkY2ZnLT5kYXRhWydsYW5nJ10gPSAkbmV3TG5nOwogICAgICAgICAgICAkbGFuZyA9ICRuZXdMbmc7CiAgICAgICAgfQogICAgICAgIGlmICgkY2ZnLT5kYXRhWydlcnJvcl9yZXBvcnRpbmcnXSAhPSAkZXJwKSB7CiAgICAgICAgICAgICRjZmctPmRhdGFbJ2Vycm9yX3JlcG9ydGluZyddID0gJGVycDsKICAgICAgICAgICAgJHJlcG9ydF9lcnJvcnMgPSAkZXJwOwogICAgICAgIH0KICAgICAgICBpZiAoJGNmZy0+ZGF0YVsnc2hvd19oaWRkZW4nXSAhPSAkc2hmKSB7CiAgICAgICAgICAgICRjZmctPmRhdGFbJ3Nob3dfaGlkZGVuJ10gPSAkc2hmOwogICAgICAgICAgICAkc2hvd19oaWRkZW5fZmlsZXMgPSAkc2hmOwogICAgICAgIH0KICAgICAgICBpZiAoJGNmZy0+ZGF0YVsnc2hvd19oaWRkZW4nXSAhPSAkc2hmKSB7CiAgICAgICAgICAgICRjZmctPmRhdGFbJ3Nob3dfaGlkZGVuJ10gPSAkc2hmOwogICAgICAgICAgICAkc2hvd19oaWRkZW5fZmlsZXMgPSAkc2hmOwogICAgICAgIH0KICAgICAgICBpZiAoJGNmZy0+ZGF0YVsnaGlkZV9Db2xzJ10gIT0gJGhjbykgewogICAgICAgICAgICAkY2ZnLT5kYXRhWydoaWRlX0NvbHMnXSA9ICRoY287CiAgICAgICAgICAgICRoaWRlX0NvbHMgPSAkaGNvOwogICAgICAgIH0KICAgICAgICBpZiAoJGNmZy0+ZGF0YVsndGhlbWUnXSAhPSAkdGUzKSB7CiAgICAgICAgICAgICRjZmctPmRhdGFbJ3RoZW1lJ10gPSAkdGUzOwogICAgICAgICAgICAkdGhlbWUgPSAkdGUzOwogICAgICAgIH0KICAgICAgICAkY2ZnLT5zYXZlKCk7CiAgICAgICAgZWNobyB0cnVlOwogICAgfQoKICAgIC8vIG5ldyBwYXNzd29yZCBoYXNoCiAgICBpZiAoaXNzZXQoJF9QT1NUWyd0eXBlJ10pICYmICRfUE9TVFsndHlwZSddID09ICJwd2RoYXNoIikgewogICAgICAgICRyZXMgPSBpc3NldCgkX1BPU1RbJ2lucHV0UGFzc3dvcmQyJ10pICYmICFlbXB0eSgkX1BPU1RbJ2lucHV0UGFzc3dvcmQyJ10pID8gcGFzc3dvcmRfaGFzaCgkX1BPU1RbJ2lucHV0UGFzc3dvcmQyJ10sIFBBU1NXT1JEX0RFRkFVTFQpIDogJyc7CiAgICAgICAgZWNobyAkcmVzOwogICAgfQoKICAgIC8vdXBsb2FkIHVzaW5nIHVybAogICAgaWYoaXNzZXQoJF9QT1NUWyd0eXBlJ10pICYmICRfUE9TVFsndHlwZSddID09ICJ1cGxvYWQiICYmICFlbXB0eSgkX1JFUVVFU1RbInVwbG9hZHVybCJdKSkgewogICAgICAgICRwYXRoID0gRk1fUk9PVF9QQVRIOwogICAgICAgIGlmIChGTV9QQVRIICE9ICcnKSB7CiAgICAgICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7CiAgICAgICAgfQoKICAgICAgICAgZnVuY3Rpb24gZXZlbnRfY2FsbGJhY2sgKCRtZXNzYWdlKSB7CiAgICAgICAgICAgIGdsb2JhbCAkY2FsbGJhY2s7CiAgICAgICAgICAgIGVjaG8ganNvbl9lbmNvZGUoJG1lc3NhZ2UpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZ2V0X2ZpbGVfcGF0aCAoKSB7CiAgICAgICAgICAgIGdsb2JhbCAkcGF0aCwgJGZpbGVpbmZvLCAkdGVtcF9maWxlOwogICAgICAgICAgICByZXR1cm4gJHBhdGguIi8iLmJhc2VuYW1lKCRmaWxlaW5mby0+bmFtZSk7CiAgICAgICAgfQoKICAgICAgICAkdXJsID0gIWVtcHR5KCRfUkVRVUVTVFsidXBsb2FkdXJsIl0pICYmIHByZWdfbWF0Y2goInxeaHR0cChzKT86Ly8uKyR8Iiwgc3RyaXBzbGFzaGVzKCRfUkVRVUVTVFsidXBsb2FkdXJsIl0pKSA/IHN0cmlwc2xhc2hlcygkX1JFUVVFU1RbInVwbG9hZHVybCJdKSA6IG51bGw7CgogICAgICAgIC8vcHJldmVudCAxMjcuKiBkb21haW4gYW5kIGtub3duIHBvcnRzCiAgICAgICAgJGRvbWFpbiA9IHBhcnNlX3VybCgkdXJsLCBQSFBfVVJMX0hPU1QpOwogICAgICAgICRwb3J0ID0gcGFyc2VfdXJsKCR1cmwsIFBIUF9VUkxfUE9SVCk7CiAgICAgICAgJGtub3duUG9ydHMgPSBbMjIsIDIzLCAyNSwgMzMwNl07CgogICAgICAgIGlmIChwcmVnX21hdGNoKCIvXmxvY2FsaG9zdCR8XjEyNyg/OlwuWzAtOV0rKXswLDJ9XC5bMC05XSskfF4oPzowKlw6KSo/Oj8wKjEkL2kiLCAkZG9tYWluKSB8fCBpbl9hcnJheSgkcG9ydCwgJGtub3duUG9ydHMpKSB7CiAgICAgICAgICAgICRlcnIgPSBhcnJheSgibWVzc2FnZSIgPT4gIlVSTCBpcyBub3QgYWxsb3dlZCIpOwogICAgICAgICAgICBldmVudF9jYWxsYmFjayhhcnJheSgiZmFpbCIgPT4gJGVycikpOwogICAgICAgICAgICBleGl0KCk7CiAgICAgICAgfQoKICAgICAgICAkdXNlX2N1cmwgPSBmYWxzZTsKICAgICAgICAkdGVtcF9maWxlID0gdGVtcG5hbShzeXNfZ2V0X3RlbXBfZGlyKCksICJ1cGxvYWQtIik7CiAgICAgICAgJGZpbGVpbmZvID0gbmV3IHN0ZENsYXNzKCk7CiAgICAgICAgJGZpbGVpbmZvLT5uYW1lID0gdHJpbSh1cmxkZWNvZGUoYmFzZW5hbWUoJHVybCkpLCAiLlx4MDAuLlx4MjAiKTsKCiAgICAgICAgJGFsbG93ZWQgPSAoRk1fVVBMT0FEX0VYVEVOU0lPTikgPyBleHBsb2RlKCcsJywgRk1fVVBMT0FEX0VYVEVOU0lPTikgOiBmYWxzZTsKICAgICAgICAkZXh0ID0gc3RydG9sb3dlcihwYXRoaW5mbygkZmlsZWluZm8tPm5hbWUsIFBBVEhJTkZPX0VYVEVOU0lPTikpOwogICAgICAgICRpc0ZpbGVBbGxvd2VkID0gKCRhbGxvd2VkKSA/IGluX2FycmF5KCRleHQsICRhbGxvd2VkKSA6IHRydWU7CgogICAgICAgICRlcnIgPSBmYWxzZTsKCiAgICAgICAgaWYoISRpc0ZpbGVBbGxvd2VkKSB7CiAgICAgICAgICAgICRlcnIgPSBhcnJheSgibWVzc2FnZSIgPT4gIkZpbGUgZXh0ZW5zaW9uIGlzIG5vdCBhbGxvd2VkIik7CiAgICAgICAgICAgIGV2ZW50X2NhbGxiYWNrKGFycmF5KCJmYWlsIiA9PiAkZXJyKSk7CiAgICAgICAgICAgIGV4aXQoKTsKICAgICAgICB9CgogICAgICAgIGlmICghJHVybCkgewogICAgICAgICAgICAkc3VjY2VzcyA9IGZhbHNlOwogICAgICAgIH0gZWxzZSBpZiAoJHVzZV9jdXJsKSB7CiAgICAgICAgICAgIEAkZnAgPSBmb3BlbigkdGVtcF9maWxlLCAidyIpOwogICAgICAgICAgICBAJGNoID0gY3VybF9pbml0KCR1cmwpOwogICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfTk9QUk9HUkVTUywgZmFsc2UgKTsKICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCB0cnVlKTsKICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0ZJTEUsICRmcCk7CiAgICAgICAgICAgIEAkc3VjY2VzcyA9IGN1cmxfZXhlYygkY2gpOwogICAgICAgICAgICAkY3VybF9pbmZvID0gY3VybF9nZXRpbmZvKCRjaCk7CiAgICAgICAgICAgIGlmICghJHN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICRlcnIgPSBhcnJheSgibWVzc2FnZSIgPT4gY3VybF9lcnJvcigkY2gpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBAY3VybF9jbG9zZSgkY2gpOwogICAgICAgICAgICBmY2xvc2UoJGZwKTsKICAgICAgICAgICAgJGZpbGVpbmZvLT5zaXplID0gJGN1cmxfaW5mb1sic2l6ZV9kb3dubG9hZCJdOwogICAgICAgICAgICAkZmlsZWluZm8tPnR5cGUgPSAkY3VybF9pbmZvWyJjb250ZW50X3R5cGUiXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkY3R4ID0gc3RyZWFtX2NvbnRleHRfY3JlYXRlKCk7CiAgICAgICAgICAgIEAkc3VjY2VzcyA9IGNvcHkoJHVybCwgJHRlbXBfZmlsZSwgJGN0eCk7CiAgICAgICAgICAgIGlmICghJHN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICRlcnIgPSBlcnJvcl9nZXRfbGFzdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoJHN1Y2Nlc3MpIHsKICAgICAgICAgICAgJHN1Y2Nlc3MgPSByZW5hbWUoJHRlbXBfZmlsZSwgc3RydG9rKGdldF9maWxlX3BhdGgoKSwgJz8nKSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoJHN1Y2Nlc3MpIHsKICAgICAgICAgICAgZXZlbnRfY2FsbGJhY2soYXJyYXkoImRvbmUiID0+ICRmaWxlaW5mbykpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHVubGluaygkdGVtcF9maWxlKTsKICAgICAgICAgICAgaWYgKCEkZXJyKSB7CiAgICAgICAgICAgICAgICAkZXJyID0gYXJyYXkoIm1lc3NhZ2UiID0+ICJJbnZhbGlkIHVybCBwYXJhbWV0ZXIiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBldmVudF9jYWxsYmFjayhhcnJheSgiZmFpbCIgPT4gJGVycikpOwogICAgICAgIH0KICAgIH0KICAgIGV4aXQoKTsKfQoKLy8gRGVsZXRlIGZpbGUgLyBmb2xkZXIKaWYgKGlzc2V0KCRfR0VUWydkZWwnXSwgJF9QT1NUWyd0b2tlbiddKSAmJiAhRk1fUkVBRE9OTFkpIHsKICAgICRkZWwgPSBzdHJfcmVwbGFjZSggJy8nLCAnJywgZm1fY2xlYW5fcGF0aCggJF9HRVRbJ2RlbCddICkgKTsKICAgIGlmICgkZGVsICE9ICcnICYmICRkZWwgIT0gJy4uJyAmJiAkZGVsICE9ICcuJyAmJiB2ZXJpZnlUb2tlbigkX1BPU1RbJ3Rva2VuJ10pKSB7CiAgICAgICAgJHBhdGggPSBGTV9ST09UX1BBVEg7CiAgICAgICAgaWYgKEZNX1BBVEggIT0gJycpIHsKICAgICAgICAgICAgJHBhdGggLj0gJy8nIC4gRk1fUEFUSDsKICAgICAgICB9CiAgICAgICAgJGlzX2RpciA9IGlzX2RpcigkcGF0aCAuICcvJyAuICRkZWwpOwogICAgICAgIGlmIChmbV9yZGVsZXRlKCRwYXRoIC4gJy8nIC4gJGRlbCkpIHsKICAgICAgICAgICAgJG1zZyA9ICRpc19kaXIgPyBsbmcoJ0ZvbGRlcicpLicgPGI+JXM8L2I+ICcubG5nKCdEZWxldGVkJykgOiBsbmcoJ0ZpbGUnKS4nIDxiPiVzPC9iPiAnLmxuZygnRGVsZXRlZCcpOwogICAgICAgICAgICBmbV9zZXRfbXNnKHNwcmludGYoJG1zZywgZm1fZW5jKCRkZWwpKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJG1zZyA9ICRpc19kaXIgPyBsbmcoJ0ZvbGRlcicpLicgPGI+JXM8L2I+ICcubG5nKCdub3QgZGVsZXRlZCcpIDogbG5nKCdGaWxlJykuJyA8Yj4lczwvYj4gJy5sbmcoJ25vdCBkZWxldGVkJyk7CiAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZigkbXNnLCBmbV9lbmMoJGRlbCkpLCAnZXJyb3InKTsKICAgICAgICB9CiAgICB9IGVsc2UgewogICAgICAgIGZtX3NldF9tc2cobG5nKCdJbnZhbGlkIGZpbGUgb3IgZm9sZGVyIG5hbWUnKSwgJ2Vycm9yJyk7CiAgICB9CiAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7Cn0KCi8vIENyZWF0ZSBhIG5ldyBmaWxlL2ZvbGRlcgppZiAoaXNzZXQoJF9QT1NUWyduZXdmaWxlbmFtZSddLCAkX1BPU1RbJ25ld2ZpbGUnXSwgJF9QT1NUWyd0b2tlbiddKSAmJiAhRk1fUkVBRE9OTFkpIHsKICAgICR0eXBlID0gdXJsZGVjb2RlKCRfUE9TVFsnbmV3ZmlsZSddKTsKICAgICRuZXcgPSBzdHJfcmVwbGFjZSggJy8nLCAnJywgZm1fY2xlYW5fcGF0aCggc3RyaXBfdGFncyggJF9QT1NUWyduZXdmaWxlbmFtZSddICkgKSApOwogICAgaWYgKGZtX2lzdmFsaWRfZmlsZW5hbWUoJG5ldykgJiYgJG5ldyAhPSAnJyAmJiAkbmV3ICE9ICcuLicgJiYgJG5ldyAhPSAnLicgJiYgdmVyaWZ5VG9rZW4oJF9QT1NUWyd0b2tlbiddKSkgewogICAgICAgICRwYXRoID0gRk1fUk9PVF9QQVRIOwogICAgICAgIGlmIChGTV9QQVRIICE9ICcnKSB7CiAgICAgICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7CiAgICAgICAgfQogICAgICAgIGlmICgkdHlwZSA9PSAiZmlsZSIpIHsKICAgICAgICAgICAgaWYgKCFmaWxlX2V4aXN0cygkcGF0aCAuICcvJyAuICRuZXcpKSB7CiAgICAgICAgICAgICAgICBpZihmbV9pc192YWxpZF9leHQoJG5ldykpIHsKICAgICAgICAgICAgICAgICAgICBAZm9wZW4oJHBhdGggLiAnLycgLiAkbmV3LCAndycpIG9yIGRpZSgnQ2Fubm90IG9wZW4gZmlsZTogICcgLiAkbmV3KTsKICAgICAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKHNwcmludGYobG5nKCdGaWxlJykuJyA8Yj4lczwvYj4gJy5sbmcoJ0NyZWF0ZWQnKSwgZm1fZW5jKCRuZXcpKSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIGV4dGVuc2lvbiBpcyBub3QgYWxsb3dlZCcpLCAnZXJyb3InKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ0ZpbGUnKS4nIDxiPiVzPC9iPiAnLmxuZygnYWxyZWFkeSBleGlzdHMnKSwgZm1fZW5jKCRuZXcpKSwgJ2FsZXJ0Jyk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoZm1fbWtkaXIoJHBhdGggLiAnLycgLiAkbmV3LCBmYWxzZSkgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ0ZvbGRlcicpLicgPGI+JXM8L2I+ICcubG5nKCdDcmVhdGVkJyksICRuZXcpKTsKICAgICAgICAgICAgfSBlbHNlaWYgKGZtX21rZGlyKCRwYXRoIC4gJy8nIC4gJG5ldywgZmFsc2UpID09PSAkcGF0aCAuICcvJyAuICRuZXcpIHsKICAgICAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ0ZvbGRlcicpLicgPGI+JXM8L2I+ICcubG5nKCdhbHJlYWR5IGV4aXN0cycpLCBmbV9lbmMoJG5ldykpLCAnYWxlcnQnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ0ZvbGRlcicpLicgPGI+JXM8L2I+ICcubG5nKCdub3QgY3JlYXRlZCcpLCBmbV9lbmMoJG5ldykpLCAnZXJyb3InKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ludmFsaWQgY2hhcmFjdGVycyBpbiBmaWxlIG9yIGZvbGRlciBuYW1lJyksICdlcnJvcicpOwogICAgfQogICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOwp9CgovLyBDb3B5IGZvbGRlciAvIGZpbGUKaWYgKGlzc2V0KCRfR0VUWydjb3B5J10sICRfR0VUWydmaW5pc2gnXSkgJiYgIUZNX1JFQURPTkxZKSB7CiAgICAvLyBmcm9tCiAgICAkY29weSA9IHVybGRlY29kZSgkX0dFVFsnY29weSddKTsKICAgICRjb3B5ID0gZm1fY2xlYW5fcGF0aCgkY29weSk7CiAgICAvLyBlbXB0eSBwYXRoCiAgICBpZiAoJGNvcHkgPT0gJycpIHsKICAgICAgICBmbV9zZXRfbXNnKGxuZygnU291cmNlIHBhdGggbm90IGRlZmluZWQnKSwgJ2Vycm9yJyk7CiAgICAgICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOwogICAgfQogICAgLy8gYWJzIHBhdGggZnJvbQogICAgJGZyb20gPSBGTV9ST09UX1BBVEggLiAnLycgLiAkY29weTsKICAgIC8vIGFicyBwYXRoIHRvCiAgICAkZGVzdCA9IEZNX1JPT1RfUEFUSDsKICAgIGlmIChGTV9QQVRIICE9ICcnKSB7CiAgICAgICAgJGRlc3QgLj0gJy8nIC4gRk1fUEFUSDsKICAgIH0KICAgICRkZXN0IC49ICcvJyAuIGJhc2VuYW1lKCRmcm9tKTsKICAgIC8vIG1vdmU/CiAgICAkbW92ZSA9IGlzc2V0KCRfR0VUWydtb3ZlJ10pOwogICAgJG1vdmUgPSBmbV9jbGVhbl9wYXRoKHVybGRlY29kZSgkbW92ZSkpOwogICAgLy8gY29weS9tb3ZlL2R1cGxpY2F0ZQogICAgaWYgKCRmcm9tICE9ICRkZXN0KSB7CiAgICAgICAgJG1zZ19mcm9tID0gdHJpbShGTV9QQVRIIC4gJy8nIC4gYmFzZW5hbWUoJGZyb20pLCAnLycpOwogICAgICAgIGlmICgkbW92ZSkgeyAvLyBNb3ZlIGFuZCB0byAhPSBmcm9tIHNvIGp1c3QgcGVyZm9ybSBtb3ZlCiAgICAgICAgICAgICRyZW5hbWUgPSBmbV9yZW5hbWUoJGZyb20sICRkZXN0KTsKICAgICAgICAgICAgaWYgKCRyZW5hbWUpIHsKICAgICAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ01vdmVkIGZyb20nKS4nIDxiPiVzPC9iPiAnLmxuZygndG8nKS4nIDxiPiVzPC9iPicsIGZtX2VuYygkY29weSksIGZtX2VuYygkbXNnX2Zyb20pKSk7CiAgICAgICAgICAgIH0gZWxzZWlmICgkcmVuYW1lID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygnRmlsZSBvciBmb2xkZXIgd2l0aCB0aGlzIHBhdGggYWxyZWFkeSBleGlzdHMnKSwgJ2FsZXJ0Jyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKHNwcmludGYobG5nKCdFcnJvciB3aGlsZSBtb3ZpbmcgZnJvbScpLicgPGI+JXM8L2I+ICcubG5nKCd0bycpLicgPGI+JXM8L2I+JywgZm1fZW5jKCRjb3B5KSwgZm1fZW5jKCRtc2dfZnJvbSkpLCAnZXJyb3InKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7IC8vIE5vdCBtb3ZlIGFuZCB0byAhPSBmcm9tIHNvIGNvcHkgd2l0aCBvcmlnaW5hbCBuYW1lCiAgICAgICAgICAgIGlmIChmbV9yY29weSgkZnJvbSwgJGRlc3QpKSB7CiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKHNwcmludGYobG5nKCdDb3BpZWQgZnJvbScpLicgPGI+JXM8L2I+ICcubG5nKCd0bycpLicgPGI+JXM8L2I+JywgZm1fZW5jKCRjb3B5KSwgZm1fZW5jKCRtc2dfZnJvbSkpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ0Vycm9yIHdoaWxlIGNvcHlpbmcgZnJvbScpLicgPGI+JXM8L2I+ICcubG5nKCd0bycpLicgPGI+JXM8L2I+JywgZm1fZW5jKCRjb3B5KSwgZm1fZW5jKCRtc2dfZnJvbSkpLCAnZXJyb3InKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgICBpZiAoISRtb3ZlKXsgLy9Ob3QgbW92ZSBhbmQgdG8gPSBmcm9tIHNvIGR1cGxpY2F0ZQogICAgICAgICAgICAkbXNnX2Zyb20gPSB0cmltKEZNX1BBVEggLiAnLycgLiBiYXNlbmFtZSgkZnJvbSksICcvJyk7CiAgICAgICAgICAgICRmbl9wYXJ0cyA9IHBhdGhpbmZvKCRmcm9tKTsKICAgICAgICAgICAgJGV4dGVuc2lvbl9zdWZmaXggPSAnJzsKICAgICAgICAgICAgaWYoIWlzX2RpcigkZnJvbSkpewogICAgICAgICAgICAgICAkZXh0ZW5zaW9uX3N1ZmZpeCA9ICcuJy4kZm5fcGFydHNbJ2V4dGVuc2lvbiddOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vQ3JlYXRlIG5ldyBuYW1lIGZvciBkdXBsaWNhdGUKICAgICAgICAgICAgJGZuX2R1cGxpY2F0ZSA9ICRmbl9wYXJ0c1snZGlybmFtZSddLicvJy4kZm5fcGFydHNbJ2ZpbGVuYW1lJ10uJy0nLmRhdGUoJ1ltZEhpcycpLiRleHRlbnNpb25fc3VmZml4OwogICAgICAgICAgICAkbG9vcF9jb3VudCA9IDA7CiAgICAgICAgICAgICRtYXhfbG9vcCA9IDEwMDA7CiAgICAgICAgICAgIC8vIENoZWNrIGlmIGEgZmlsZSB3aXRoIHRoZSBkdXBsaWNhdGUgbmFtZSBhbHJlYWR5IGV4aXN0cywgaWYgc28sIG1ha2UgbmV3IG5hbWUgKGVkZ2UgY2FzZS4uLikKICAgICAgICAgICAgd2hpbGUoZmlsZV9leGlzdHMoJGZuX2R1cGxpY2F0ZSkgJiAkbG9vcF9jb3VudCA8ICRtYXhfbG9vcCl7CiAgICAgICAgICAgICAgICRmbl9wYXJ0cyA9IHBhdGhpbmZvKCRmbl9kdXBsaWNhdGUpOwogICAgICAgICAgICAgICAkZm5fZHVwbGljYXRlID0gJGZuX3BhcnRzWydkaXJuYW1lJ10uJy8nLiRmbl9wYXJ0c1snZmlsZW5hbWUnXS4nLWNvcHknLiRleHRlbnNpb25fc3VmZml4OwogICAgICAgICAgICAgICAkbG9vcF9jb3VudCsrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChmbV9yY29weSgkZnJvbSwgJGZuX2R1cGxpY2F0ZSwgRmFsc2UpKSB7CiAgICAgICAgICAgICAgICBmbV9zZXRfbXNnKHNwcmludGYoJ0NvcGllZCBmcm9tIDxiPiVzPC9iPiB0byA8Yj4lczwvYj4nLCBmbV9lbmMoJGNvcHkpLCBmbV9lbmMoJGZuX2R1cGxpY2F0ZSkpKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZignRXJyb3Igd2hpbGUgY29weWluZyBmcm9tIDxiPiVzPC9iPiB0byA8Yj4lczwvYj4nLCBmbV9lbmMoJGNvcHkpLCBmbV9lbmMoJGZuX2R1cGxpY2F0ZSkpLCAnZXJyb3InKTsKICAgICAgICAgICAgfQogICAgICAgfQogICAgICAgZWxzZXsKICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygnUGF0aHMgbXVzdCBiZSBub3QgZXF1YWwnKSwgJ2FsZXJ0Jyk7CiAgICAgICB9CiAgICB9CiAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7Cn0KCi8vIE1hc3MgY29weSBmaWxlcy8gZm9sZGVycwppZiAoaXNzZXQoJF9QT1NUWydmaWxlJ10sICRfUE9TVFsnY29weV90byddLCAkX1BPU1RbJ2ZpbmlzaCddLCAkX1BPU1RbJ3Rva2VuJ10pICYmICFGTV9SRUFET05MWSkgewoKICAgIGlmKCF2ZXJpZnlUb2tlbigkX1BPU1RbJ3Rva2VuJ10pKSB7CiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ludmFsaWQgVG9rZW4uJyksICdlcnJvcicpOwogICAgfQogICAgCiAgICAvLyBmcm9tCiAgICAkcGF0aCA9IEZNX1JPT1RfUEFUSDsKICAgIGlmIChGTV9QQVRIICE9ICcnKSB7CiAgICAgICAgJHBhdGggLj0gJy8nIC4gRk1fUEFUSDsKICAgIH0KICAgIC8vIHRvCiAgICAkY29weV90b19wYXRoID0gRk1fUk9PVF9QQVRIOwogICAgJGNvcHlfdG8gPSBmbV9jbGVhbl9wYXRoKCRfUE9TVFsnY29weV90byddKTsKICAgIGlmICgkY29weV90byAhPSAnJykgewogICAgICAgICRjb3B5X3RvX3BhdGggLj0gJy8nIC4gJGNvcHlfdG87CiAgICB9CiAgICBpZiAoJHBhdGggPT0gJGNvcHlfdG9fcGF0aCkgewogICAgICAgIGZtX3NldF9tc2cobG5nKCdQYXRocyBtdXN0IGJlIG5vdCBlcXVhbCcpLCAnYWxlcnQnKTsKICAgICAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7CiAgICB9CiAgICBpZiAoIWlzX2RpcigkY29weV90b19wYXRoKSkgewogICAgICAgIGlmICghZm1fbWtkaXIoJGNvcHlfdG9fcGF0aCwgdHJ1ZSkpIHsKICAgICAgICAgICAgZm1fc2V0X21zZygnVW5hYmxlIHRvIGNyZWF0ZSBkZXN0aW5hdGlvbiBmb2xkZXInLCAnZXJyb3InKTsKICAgICAgICAgICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOwogICAgICAgIH0KICAgIH0KICAgIC8vIG1vdmU/CiAgICAkbW92ZSA9IGlzc2V0KCRfUE9TVFsnbW92ZSddKTsKICAgIC8vIGNvcHkvbW92ZQogICAgJGVycm9ycyA9IDA7CiAgICAkZmlsZXMgPSAkX1BPU1RbJ2ZpbGUnXTsKICAgIGlmIChpc19hcnJheSgkZmlsZXMpICYmIGNvdW50KCRmaWxlcykpIHsKICAgICAgICBmb3JlYWNoICgkZmlsZXMgYXMgJGYpIHsKICAgICAgICAgICAgaWYgKCRmICE9ICcnKSB7CiAgICAgICAgICAgICAgICAkZiA9IGZtX2NsZWFuX3BhdGgoJGYpOwogICAgICAgICAgICAgICAgLy8gYWJzIHBhdGggZnJvbQogICAgICAgICAgICAgICAgJGZyb20gPSAkcGF0aCAuICcvJyAuICRmOwogICAgICAgICAgICAgICAgLy8gYWJzIHBhdGggdG8KICAgICAgICAgICAgICAgICRkZXN0ID0gJGNvcHlfdG9fcGF0aCAuICcvJyAuICRmOwogICAgICAgICAgICAgICAgLy8gZG8KICAgICAgICAgICAgICAgIGlmICgkbW92ZSkgewogICAgICAgICAgICAgICAgICAgICRyZW5hbWUgPSBmbV9yZW5hbWUoJGZyb20sICRkZXN0KTsKICAgICAgICAgICAgICAgICAgICBpZiAoJHJlbmFtZSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGVycm9ycysrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFmbV9yY29weSgkZnJvbSwgJGRlc3QpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRlcnJvcnMrKzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCRlcnJvcnMgPT0gMCkgewogICAgICAgICAgICAkbXNnID0gJG1vdmUgPyAnU2VsZWN0ZWQgZmlsZXMgYW5kIGZvbGRlcnMgbW92ZWQnIDogJ1NlbGVjdGVkIGZpbGVzIGFuZCBmb2xkZXJzIGNvcGllZCc7CiAgICAgICAgICAgIGZtX3NldF9tc2coJG1zZyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJG1zZyA9ICRtb3ZlID8gJ0Vycm9yIHdoaWxlIG1vdmluZyBpdGVtcycgOiAnRXJyb3Igd2hpbGUgY29weWluZyBpdGVtcyc7CiAgICAgICAgICAgIGZtX3NldF9tc2coJG1zZywgJ2Vycm9yJyk7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBmbV9zZXRfbXNnKGxuZygnTm90aGluZyBzZWxlY3RlZCcpLCAnYWxlcnQnKTsKICAgIH0KICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsKfQoKLy8gUmVuYW1lCmlmIChpc3NldCgkX1BPU1RbJ3JlbmFtZV9mcm9tJ10sICRfUE9TVFsncmVuYW1lX3RvJ10sICRfUE9TVFsndG9rZW4nXSkgJiYgIUZNX1JFQURPTkxZKSB7CiAgICBpZighdmVyaWZ5VG9rZW4oJF9QT1NUWyd0b2tlbiddKSkgewogICAgICAgIGZtX3NldF9tc2coIkludmFsaWQgVG9rZW4uIiwgJ2Vycm9yJyk7CiAgICB9CiAgICAvLyBvbGQgbmFtZQogICAgJG9sZCA9IHVybGRlY29kZSgkX1BPU1RbJ3JlbmFtZV9mcm9tJ10pOwogICAgJG9sZCA9IGZtX2NsZWFuX3BhdGgoJG9sZCk7CiAgICAkb2xkID0gc3RyX3JlcGxhY2UoJy8nLCAnJywgJG9sZCk7CiAgICAvLyBuZXcgbmFtZQogICAgJG5ldyA9IHVybGRlY29kZSgkX1BPU1RbJ3JlbmFtZV90byddKTsKICAgICRuZXcgPSBmbV9jbGVhbl9wYXRoKHN0cmlwX3RhZ3MoJG5ldykpOwogICAgJG5ldyA9IHN0cl9yZXBsYWNlKCcvJywgJycsICRuZXcpOwogICAgLy8gcGF0aAogICAgJHBhdGggPSBGTV9ST09UX1BBVEg7CiAgICBpZiAoRk1fUEFUSCAhPSAnJykgewogICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7CiAgICB9CiAgICAvLyByZW5hbWUKICAgIGlmIChmbV9pc3ZhbGlkX2ZpbGVuYW1lKCRuZXcpICYmICRvbGQgIT0gJycgJiYgJG5ldyAhPSAnJykgewogICAgICAgIGlmIChmbV9yZW5hbWUoJHBhdGggLiAnLycgLiAkb2xkLCAkcGF0aCAuICcvJyAuICRuZXcpKSB7CiAgICAgICAgICAgIGZtX3NldF9tc2coc3ByaW50ZihsbmcoJ1JlbmFtZWQgZnJvbScpLicgPGI+JXM8L2I+ICcuIGxuZygndG8nKS4nIDxiPiVzPC9iPicsIGZtX2VuYygkb2xkKSwgZm1fZW5jKCRuZXcpKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKGxuZygnRXJyb3Igd2hpbGUgcmVuYW1pbmcgZnJvbScpLicgPGI+JXM8L2I+ICcuIGxuZygndG8nKS4nIDxiPiVzPC9iPicsIGZtX2VuYygkb2xkKSwgZm1fZW5jKCRuZXcpKSwgJ2Vycm9yJyk7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBmbV9zZXRfbXNnKGxuZygnSW52YWxpZCBjaGFyYWN0ZXJzIGluIGZpbGUgbmFtZScpLCAnZXJyb3InKTsKICAgIH0KICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsKfQoKLy8gRG93bmxvYWQKaWYgKGlzc2V0KCRfR0VUWydkbCddLCAkX1BPU1RbJ3Rva2VuJ10pKSB7CiAgICAvLyBWZXJpZnkgdGhlIHRva2VuIHRvIGVuc3VyZSBpdCdzIHZhbGlkCiAgICBpZiAoIXZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsKICAgICAgICBmbV9zZXRfbXNnKCJJbnZhbGlkIFRva2VuLiIsICdlcnJvcicpOwogICAgICAgIGV4aXQ7CiAgICB9CgogICAgLy8gQ2xlYW4gdGhlIGRvd25sb2FkIGZpbGUgcGF0aAogICAgJGRsID0gdXJsZGVjb2RlKCRfR0VUWydkbCddKTsKICAgICRkbCA9IGZtX2NsZWFuX3BhdGgoJGRsKTsgCiAgICAkZGwgPSBzdHJfcmVwbGFjZSgnLycsICcnLCAkZGwpOyAvLyBQcmV2ZW50IGRpcmVjdG9yeSB0cmF2ZXJzYWwgYXR0YWNrcwoKICAgIC8vIERlZmluZSB0aGUgZmlsZSBwYXRoCiAgICAkcGF0aCA9IEZNX1JPT1RfUEFUSDsKICAgIGlmIChGTV9QQVRIICE9ICcnKSB7CiAgICAgICAgJHBhdGggLj0gJy8nIC4gRk1fUEFUSDsKICAgIH0KCiAgICAvLyBDaGVjayBpZiB0aGUgZmlsZSBleGlzdHMgYW5kIGlzIHZhbGlkCiAgICBpZiAoJGRsICE9ICcnICYmIGlzX2ZpbGUoJHBhdGggLiAnLycgLiAkZGwpKSB7CiAgICAgICAgLy8gQ2xvc2UgdGhlIHNlc3Npb24gdG8gcHJldmVudCBzZXNzaW9uIGxvY2tpbmcKICAgICAgICBpZiAoc2Vzc2lvbl9zdGF0dXMoKSA9PT0gUEhQX1NFU1NJT05fQUNUSVZFKSB7CiAgICAgICAgICAgIHNlc3Npb25fd3JpdGVfY2xvc2UoKTsKICAgICAgICB9CgogICAgICAgIC8vIENhbGwgdGhlIGRvd25sb2FkIGZ1bmN0aW9uCiAgICAgICAgZm1fZG93bmxvYWRfZmlsZSgkcGF0aCAuICcvJyAuICRkbCwgJGRsLCAxMDI0KTsgLy8gRG93bmxvYWQgd2l0aCBhIGJ1ZmZlciBzaXplIG9mIDEwMjQgYnl0ZXMKICAgICAgICBleGl0OwogICAgfSBlbHNlIHsKICAgICAgICAvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIGZpbGUgaXMgbm90IGZvdW5kCiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ZpbGUgbm90IGZvdW5kJyksICdlcnJvcicpOwogICAgICAgICRGTV9QQVRIID0gRk1fUEFUSDsKICAgICAgICBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7CiAgICB9Cn0KCi8vIFVwbG9hZAppZiAoIWVtcHR5KCRfRklMRVMpICYmICFGTV9SRUFET05MWSkgewogICAgaWYoaXNzZXQoJF9QT1NUWyd0b2tlbiddKSkgewogICAgICAgIGlmKCF2ZXJpZnlUb2tlbigkX1BPU1RbJ3Rva2VuJ10pKSB7CiAgICAgICAgICAgICRyZXNwb25zZSA9IGFycmF5ICgnc3RhdHVzJyA9PiAnZXJyb3InLCdpbmZvJyA9PiAiSW52YWxpZCBUb2tlbi4iKTsKICAgICAgICAgICAgZWNobyBqc29uX2VuY29kZSgkcmVzcG9uc2UpOyBleGl0KCk7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICAkcmVzcG9uc2UgPSBhcnJheSAoJ3N0YXR1cycgPT4gJ2Vycm9yJywnaW5mbycgPT4gIlRva2VuIE1pc3NpbmcuIik7CiAgICAgICAgZWNobyBqc29uX2VuY29kZSgkcmVzcG9uc2UpOyBleGl0KCk7CiAgICB9CgogICAgJGNodW5rSW5kZXggPSAkX1BPU1RbJ2R6Y2h1bmtpbmRleCddOwogICAgJGNodW5rVG90YWwgPSAkX1BPU1RbJ2R6dG90YWxjaHVua2NvdW50J107CiAgICAkZnVsbFBhdGhJbnB1dCA9IGZtX2NsZWFuX3BhdGgoJF9SRVFVRVNUWydmdWxscGF0aCddKTsKCiAgICAkZiA9ICRfRklMRVM7CiAgICAkcGF0aCA9IEZNX1JPT1RfUEFUSDsKICAgICRkcyA9IERJUkVDVE9SWV9TRVBBUkFUT1I7CiAgICBpZiAoRk1fUEFUSCAhPSAnJykgewogICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7CiAgICB9CgogICAgJGVycm9ycyA9IDA7CiAgICAkdXBsb2FkcyA9IDA7CiAgICAkYWxsb3dlZCA9IChGTV9VUExPQURfRVhURU5TSU9OKSA/IGV4cGxvZGUoJywnLCBGTV9VUExPQURfRVhURU5TSU9OKSA6IGZhbHNlOwogICAgJHJlc3BvbnNlID0gYXJyYXkgKAogICAgICAgICdzdGF0dXMnID0+ICdlcnJvcicsCiAgICAgICAgJ2luZm8nICAgPT4gJ09vcHMhIFRyeSBhZ2FpbicKICAgICk7CgogICAgJGZpbGVuYW1lID0gJGZbJ2ZpbGUnXVsnbmFtZSddOwogICAgJHRtcF9uYW1lID0gJGZbJ2ZpbGUnXVsndG1wX25hbWUnXTsKICAgICRleHQgPSBwYXRoaW5mbygkZmlsZW5hbWUsIFBBVEhJTkZPX0ZJTEVOQU1FKSAhPSAnJyA/IHN0cnRvbG93ZXIocGF0aGluZm8oJGZpbGVuYW1lLCBQQVRISU5GT19FWFRFTlNJT04pKSA6ICcnOwogICAgJGlzRmlsZUFsbG93ZWQgPSAoJGFsbG93ZWQpID8gaW5fYXJyYXkoJGV4dCwgJGFsbG93ZWQpIDogdHJ1ZTsKCiAgICBpZighZm1faXN2YWxpZF9maWxlbmFtZSgkZmlsZW5hbWUpICYmICFmbV9pc3ZhbGlkX2ZpbGVuYW1lKCRmdWxsUGF0aElucHV0KSkgewogICAgICAgICRyZXNwb25zZSA9IGFycmF5ICgKICAgICAgICAgICAgJ3N0YXR1cycgICAgPT4gJ2Vycm9yJywKICAgICAgICAgICAgJ2luZm8nICAgICAgPT4gIkludmFsaWQgRmlsZSBuYW1lISIsCiAgICAgICAgKTsKICAgICAgICBlY2hvIGpzb25fZW5jb2RlKCRyZXNwb25zZSk7IGV4aXQoKTsKICAgIH0KCiAgICAkdGFyZ2V0UGF0aCA9ICRwYXRoIC4gJGRzOwogICAgaWYgKCBpc193cml0YWJsZSgkdGFyZ2V0UGF0aCkgKSB7CiAgICAgICAgJGZ1bGxQYXRoID0gJHBhdGggLiAnLycgLiAkZnVsbFBhdGhJbnB1dDsKICAgICAgICAkZm9sZGVyID0gc3Vic3RyKCRmdWxsUGF0aCwgMCwgc3RycnBvcygkZnVsbFBhdGgsICIvIikpOwoKICAgICAgICBpZiAoIWlzX2RpcigkZm9sZGVyKSkgewogICAgICAgICAgICAkb2xkID0gdW1hc2soMCk7CiAgICAgICAgICAgIG1rZGlyKCRmb2xkZXIsIDA3NzcsIHRydWUpOwogICAgICAgICAgICB1bWFzaygkb2xkKTsKICAgICAgICB9CgogICAgICAgIGlmIChlbXB0eSgkZlsnZmlsZSddWydlcnJvciddKSAmJiAhZW1wdHkoJHRtcF9uYW1lKSAmJiAkdG1wX25hbWUgIT0gJ25vbmUnICYmICRpc0ZpbGVBbGxvd2VkKSB7CiAgICAgICAgICAgIGlmICgkY2h1bmtUb3RhbCl7CiAgICAgICAgICAgICAgICAkb3V0ID0gQGZvcGVuKCJ7JGZ1bGxQYXRofS5wYXJ0IiwgJGNodW5rSW5kZXggPT0gMCA/ICJ3YiIgOiAiYWIiKTsKICAgICAgICAgICAgICAgIGlmICgkb3V0KSB7CiAgICAgICAgICAgICAgICAgICAgJGluID0gQGZvcGVuKCR0bXBfbmFtZSwgInJiIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRpbikgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoUEhQX1ZFUlNJT05fSUQgPCA4MDAwOSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBodHRwczovL2J1Z3MucGhwLm5ldC9idWcucGhwP2lkPTgxMTQ1CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkbyB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7OykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYnVmZiA9IGZyZWFkKCRpbiwgNDA5Nik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkYnVmZiA9PT0gZmFsc2UgfHwgJGJ1ZmYgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmd3JpdGUoJG91dCwgJGJ1ZmYpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKCFmZW9mKCRpbikpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtX2NvcHlfdG9fc3RyZWFtKCRpbiwgJG91dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJHJlc3BvbnNlID0gYXJyYXkgKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cycgICAgPT4gJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luZm8nID0+ICJmaWxlIHVwbG9hZCBzdWNjZXNzZnVsIgogICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRyZXNwb25zZSA9IGFycmF5ICgKICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cycgICAgPT4gJ2Vycm9yJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2luZm8nID0+ICJmYWlsZWQgdG8gb3BlbiBvdXRwdXQgc3RyZWFtIiwKICAgICAgICAgICAgICAgICAgICAgICAgJ2Vycm9yRGV0YWlscycgPT4gZXJyb3JfZ2V0X2xhc3QoKQogICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBAZmNsb3NlKCRpbik7CiAgICAgICAgICAgICAgICAgICAgQGZjbG9zZSgkb3V0KTsKICAgICAgICAgICAgICAgICAgICBAdW5saW5rKCR0bXBfbmFtZSk7CgogICAgICAgICAgICAgICAgICAgICRyZXNwb25zZSA9IGFycmF5ICgKICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXR1cycgICAgPT4gJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAnaW5mbycgPT4gImZpbGUgdXBsb2FkIHN1Y2Nlc3NmdWwiCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJHJlc3BvbnNlID0gYXJyYXkgKAogICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJyAgICA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgICAgICAnaW5mbycgPT4gImZhaWxlZCB0byBvcGVuIG91dHB1dCBzdHJlYW0iCiAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCRjaHVua0luZGV4ID09ICRjaHVua1RvdGFsIC0gMSkgewogICAgICAgICAgICAgICAgICAgIGlmIChmaWxlX2V4aXN0cyAoJGZ1bGxQYXRoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkZXh0XzEgPSAkZXh0ID8gJy4nLiRleHQgOiAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgJGZ1bGxQYXRoVGFyZ2V0ID0gJHBhdGggLiAnLycgLiBiYXNlbmFtZSgkZnVsbFBhdGhJbnB1dCwgJGV4dF8xKSAuJ18nLiBkYXRlKCd5bWRIaXMnKS4gJGV4dF8xOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRmdWxsUGF0aFRhcmdldCA9ICRmdWxsUGF0aDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmVuYW1lKCJ7JGZ1bGxQYXRofS5wYXJ0IiwgJGZ1bGxQYXRoVGFyZ2V0KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0gZWxzZSBpZiAobW92ZV91cGxvYWRlZF9maWxlKCR0bXBfbmFtZSwgJGZ1bGxQYXRoKSkgewogICAgICAgICAgICAgICAgLy8gQmUgc3VyZSB0aGF0IHRoZSBmaWxlIGhhcyBiZWVuIHVwbG9hZGVkCiAgICAgICAgICAgICAgICBpZiAoIGZpbGVfZXhpc3RzKCRmdWxsUGF0aCkgKSB7CiAgICAgICAgICAgICAgICAgICAgJHJlc3BvbnNlID0gYXJyYXkgKAogICAgICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJyAgICA9PiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICdpbmZvJyA9PiAiZmlsZSB1cGxvYWQgc3VjY2Vzc2Z1bCIKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkcmVzcG9uc2UgPSBhcnJheSAoCiAgICAgICAgICAgICAgICAgICAgICAgICdzdGF0dXMnID0+ICdlcnJvcicsCiAgICAgICAgICAgICAgICAgICAgICAgICdpbmZvJyAgID0+ICdDb3VsZG5cJ3QgdXBsb2FkIHRoZSByZXF1ZXN0ZWQgZmlsZS4nCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICRyZXNwb25zZSA9IGFycmF5ICgKICAgICAgICAgICAgICAgICAgICAnc3RhdHVzJyAgICA9PiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgICdpbmZvJyAgICAgID0+ICJFcnJvciB3aGlsZSB1cGxvYWRpbmcgZmlsZXMuIFVwbG9hZGVkIGZpbGVzICR1cGxvYWRzIiwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9IGVsc2UgewogICAgICAgICRyZXNwb25zZSA9IGFycmF5ICgKICAgICAgICAgICAgJ3N0YXR1cycgPT4gJ2Vycm9yJywKICAgICAgICAgICAgJ2luZm8nICAgPT4gJ1RoZSBzcGVjaWZpZWQgZm9sZGVyIGZvciB1cGxvYWQgaXNuXCd0IHdyaXRlYWJsZS4nCiAgICAgICAgKTsKICAgIH0KICAgIC8vIFJldHVybiB0aGUgcmVzcG9uc2UKICAgIGVjaG8ganNvbl9lbmNvZGUoJHJlc3BvbnNlKTsKICAgIGV4aXQoKTsKfQoKLy8gTWFzcyBkb3dubG9hZGluZwppZiAoaXNzZXQoJF9QT1NUWydncm91cCddLCAkX1BPU1RbJ2Rvd25sb2FkJ10sICRfUE9TVFsndG9rZW4nXSkgJiYgIUZNX1JFQURPTkxZKSB7CgogICAgLy8gVmVyaWZ5IHRva2VuIHRvIGVuc3VyZSBpdCdzIHZhbGlkCiAgICBpZiAoIXZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsKICAgICAgICBmbV9zZXRfbXNnKGxuZygiSW52YWxpZCBUb2tlbi4iKSwgJ2Vycm9yJyk7CiAgICAgICAgZXhpdDsKICAgIH0KCiAgICAkcGF0aCA9IEZNX1JPT1RfUEFUSDsKICAgIGlmIChGTV9QQVRIICE9ICcnKSB7CiAgICAgICAgJHBhdGggLj0gJy8nIC4gRk1fUEFUSDsKICAgIH0KCiAgICAkZXJyb3JzID0gMDsKICAgICRmaWxlcyA9ICRfUE9TVFsnZmlsZSddOyAvLyBMaXN0IG9mIHNlbGVjdGVkIGZpbGVzCiAgICBpZiAoaXNfYXJyYXkoJGZpbGVzKSAmJiBjb3VudCgkZmlsZXMpKSB7CgogICAgICAgIC8vIENyZWF0ZSBhIG5ldyBaSVAgYXJjaGl2ZQogICAgICAgICR6aXAgPSBuZXcgWmlwQXJjaGl2ZSgpOwogICAgICAgICR6aXBfZmlsZW5hbWUgPSAnZG93bmxvYWRfJyAuIGRhdGUoJ1ktbS1kX0gtaS1zJykgLiAnLnppcCc7CiAgICAgICAgJHppcF9maWxlcGF0aCA9IHN5c19nZXRfdGVtcF9kaXIoKSAuICcvJyAuICR6aXBfZmlsZW5hbWU7CgogICAgICAgIGlmICgkemlwLT5vcGVuKCR6aXBfZmlsZXBhdGgsIFppcEFyY2hpdmU6OkNSRUFURSkgIT09IFRSVUUpIHsKICAgICAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0Nhbm5vdCBjcmVhdGUgWklQIGZpbGUnKSwgJ2Vycm9yJyk7CiAgICAgICAgICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsKICAgICAgICB9CgogICAgICAgIGZvcmVhY2ggKCRmaWxlcyBhcyAkZikgewogICAgICAgICAgICBpZiAoJGYgIT0gJycpIHsKICAgICAgICAgICAgICAgICRuZXdfcGF0aCA9ICRwYXRoIC4gJy8nIC4gZm1fY2xlYW5fcGF0aCgkZik7IC8vIFNhbml0aXplIHRoZSBmaWxlIHBhdGgKCiAgICAgICAgICAgICAgICBpZiAoaXNfZmlsZSgkbmV3X3BhdGgpKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBmaWxlIHRvIHRoZSBaSVAgYXJjaGl2ZQogICAgICAgICAgICAgICAgICAgICR6aXAtPmFkZEZpbGUoJG5ld19wYXRoLCBiYXNlbmFtZSgkbmV3X3BhdGgpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJGVycm9ycysrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyBDbG9zZSB0aGUgWklQIGFyY2hpdmUKICAgICAgICAkemlwLT5jbG9zZSgpOwoKICAgICAgICAvLyBDaGVjayBmb3IgZXJyb3JzCiAgICAgICAgaWYgKCRlcnJvcnMgPT0gMCkgewogICAgICAgICAgICAvLyBTZXJ2ZSB0aGUgWklQIGZpbGUgZm9yIGRvd25sb2FkCiAgICAgICAgICAgIGlmIChmaWxlX2V4aXN0cygkemlwX2ZpbGVwYXRoKSkgewogICAgICAgICAgICAgICAgaGVhZGVyKCdDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3ppcCcpOwogICAgICAgICAgICAgICAgaGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uOiBhdHRhY2htZW50OyBmaWxlbmFtZT0iJyAuICR6aXBfZmlsZW5hbWUgLiAnIicpOwogICAgICAgICAgICAgICAgaGVhZGVyKCdDb250ZW50LUxlbmd0aDogJyAuIGZpbGVzaXplKCR6aXBfZmlsZXBhdGgpKTsKICAgICAgICAgICAgICAgIHJlYWRmaWxlKCR6aXBfZmlsZXBhdGgpOwogICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBaSVAgZmlsZSBmcm9tIHRoZSB0ZW1wb3JhcnkgZGlyZWN0b3J5IGFmdGVyIGRvd25sb2FkCiAgICAgICAgICAgICAgICB1bmxpbmsoJHppcF9maWxlcGF0aCk7CiAgICAgICAgICAgICAgICBleGl0OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0Vycm9yIGNyZWF0aW5nIFpJUCBmaWxlJyksICdlcnJvcicpOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0Vycm9yIHdoaWxlIGFkZGluZyBpdGVtcyB0byBaSVAnKSwgJ2Vycm9yJyk7CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBmbV9zZXRfbXNnKGxuZygnTm90aGluZyBzZWxlY3RlZCcpLCAnYWxlcnQnKTsKICAgIH0KCiAgICAkRk1fUEFUSCA9IEZNX1BBVEg7IAogICAgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOwp9CgovLyBNYXNzIGRlbGV0aW5nCmlmIChpc3NldCgkX1BPU1RbJ2dyb3VwJ10sICRfUE9TVFsnZGVsZXRlJ10sICRfUE9TVFsndG9rZW4nXSkgJiYgIUZNX1JFQURPTkxZKSB7CgogICAgaWYoIXZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsKICAgICAgICBmbV9zZXRfbXNnKGxuZygiSW52YWxpZCBUb2tlbi4iKSwgJ2Vycm9yJyk7CiAgICB9CgogICAgJHBhdGggPSBGTV9ST09UX1BBVEg7CiAgICBpZiAoRk1fUEFUSCAhPSAnJykgewogICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7CiAgICB9CgogICAgJGVycm9ycyA9IDA7CiAgICAkZmlsZXMgPSAkX1BPU1RbJ2ZpbGUnXTsKICAgIGlmIChpc19hcnJheSgkZmlsZXMpICYmIGNvdW50KCRmaWxlcykpIHsKICAgICAgICBmb3JlYWNoICgkZmlsZXMgYXMgJGYpIHsKICAgICAgICAgICAgaWYgKCRmICE9ICcnKSB7CiAgICAgICAgICAgICAgICAkbmV3X3BhdGggPSAkcGF0aCAuICcvJyAuICRmOwogICAgICAgICAgICAgICAgaWYgKCFmbV9yZGVsZXRlKCRuZXdfcGF0aCkpIHsKICAgICAgICAgICAgICAgICAgICAkZXJyb3JzKys7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCRlcnJvcnMgPT0gMCkgewogICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygnU2VsZWN0ZWQgZmlsZXMgYW5kIGZvbGRlciBkZWxldGVkJykpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdFcnJvciB3aGlsZSBkZWxldGluZyBpdGVtcycpLCAnZXJyb3InKTsKICAgICAgICB9CiAgICB9IGVsc2UgewogICAgICAgIGZtX3NldF9tc2cobG5nKCdOb3RoaW5nIHNlbGVjdGVkJyksICdhbGVydCcpOwogICAgfQoKICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsKfQoKLy8gUGFjayBmaWxlcyB6aXAsIHRhcgppZiAoaXNzZXQoJF9QT1NUWydncm91cCddLCAkX1BPU1RbJ3Rva2VuJ10pICYmIChpc3NldCgkX1BPU1RbJ3ppcCddKSB8fCBpc3NldCgkX1BPU1RbJ3RhciddKSkgJiYgIUZNX1JFQURPTkxZKSB7CgogICAgaWYoIXZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsKICAgICAgICBmbV9zZXRfbXNnKGxuZygiSW52YWxpZCBUb2tlbi4iKSwgJ2Vycm9yJyk7CiAgICB9CgogICAgJHBhdGggPSBGTV9ST09UX1BBVEg7CiAgICAkZXh0ID0gJ3ppcCc7CiAgICBpZiAoRk1fUEFUSCAhPSAnJykgewogICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7CiAgICB9CgogICAgLy9zZXQgcGFjayB0eXBlCiAgICAkZXh0ID0gaXNzZXQoJF9QT1NUWyd0YXInXSkgPyAndGFyJyA6ICd6aXAnOwoKICAgIGlmICgoJGV4dCA9PSAiemlwIiAmJiAhY2xhc3NfZXhpc3RzKCdaaXBBcmNoaXZlJykpIHx8ICgkZXh0ID09ICJ0YXIiICYmICFjbGFzc19leGlzdHMoJ1BoYXJEYXRhJykpKSB7CiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ09wZXJhdGlvbnMgd2l0aCBhcmNoaXZlcyBhcmUgbm90IGF2YWlsYWJsZScpLCAnZXJyb3InKTsKICAgICAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7CiAgICB9CgogICAgJGZpbGVzID0gJF9QT1NUWydmaWxlJ107CiAgICAkc2FuaXRpemVkX2ZpbGVzID0gYXJyYXkoKTsKCiAgICAvLyBjbGVhbiBwYXRoCiAgICBmb3JlYWNoKCRmaWxlcyBhcyAkZmlsZSl7CiAgICAgICAgYXJyYXlfcHVzaCgkc2FuaXRpemVkX2ZpbGVzLCBmbV9jbGVhbl9wYXRoKCRmaWxlKSk7CiAgICB9CiAgICAKICAgICRmaWxlcyA9ICRzYW5pdGl6ZWRfZmlsZXM7CiAgICAKICAgIGlmICghZW1wdHkoJGZpbGVzKSkgewogICAgICAgIGNoZGlyKCRwYXRoKTsKCiAgICAgICAgaWYgKGNvdW50KCRmaWxlcykgPT0gMSkgewogICAgICAgICAgICAkb25lX2ZpbGUgPSByZXNldCgkZmlsZXMpOwogICAgICAgICAgICAkb25lX2ZpbGUgPSBiYXNlbmFtZSgkb25lX2ZpbGUpOwogICAgICAgICAgICAkemlwbmFtZSA9ICRvbmVfZmlsZSAuICdfJyAuIGRhdGUoJ3ltZF9IaXMnKSAuICcuJy4kZXh0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICR6aXBuYW1lID0gJ2FyY2hpdmVfJyAuIGRhdGUoJ3ltZF9IaXMnKSAuICcuJy4kZXh0OwogICAgICAgIH0KCiAgICAgICAgaWYoJGV4dCA9PSAnemlwJykgewogICAgICAgICAgICAkemlwcGVyID0gbmV3IEZNX1ppcHBlcigpOwogICAgICAgICAgICAkcmVzID0gJHppcHBlci0+Y3JlYXRlKCR6aXBuYW1lLCAkZmlsZXMpOwogICAgICAgIH0gZWxzZWlmICgkZXh0ID09ICd0YXInKSB7CiAgICAgICAgICAgICR0YXIgPSBuZXcgRk1fWmlwcGVyX1RhcigpOwogICAgICAgICAgICAkcmVzID0gJHRhci0+Y3JlYXRlKCR6aXBuYW1lLCAkZmlsZXMpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCRyZXMpIHsKICAgICAgICAgICAgZm1fc2V0X21zZyhzcHJpbnRmKGxuZygnQXJjaGl2ZScpLicgPGI+JXM8L2I+ICcubG5nKCdDcmVhdGVkJyksIGZtX2VuYygkemlwbmFtZSkpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmbV9zZXRfbXNnKGxuZygnQXJjaGl2ZSBub3QgY3JlYXRlZCcpLCAnZXJyb3InKTsKICAgICAgICB9CiAgICB9IGVsc2UgewogICAgICAgIGZtX3NldF9tc2cobG5nKCdOb3RoaW5nIHNlbGVjdGVkJyksICdhbGVydCcpOwogICAgfQoKICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsKfQoKLy8gVW5wYWNrIHppcCwgdGFyCmlmIChpc3NldCgkX1BPU1RbJ3VuemlwJ10sICRfUE9TVFsndG9rZW4nXSkgJiYgIUZNX1JFQURPTkxZKSB7CgogICAgaWYoIXZlcmlmeVRva2VuKCRfUE9TVFsndG9rZW4nXSkpIHsKICAgICAgICBmbV9zZXRfbXNnKGxuZygiSW52YWxpZCBUb2tlbi4iKSwgJ2Vycm9yJyk7CiAgICB9CgogICAgJHVuemlwID0gdXJsZGVjb2RlKCRfUE9TVFsndW56aXAnXSk7CiAgICAkdW56aXAgPSBmbV9jbGVhbl9wYXRoKCR1bnppcCk7CiAgICAkdW56aXAgPSBzdHJfcmVwbGFjZSgnLycsICcnLCAkdW56aXApOwogICAgJGlzVmFsaWQgPSBmYWxzZTsKCiAgICAkcGF0aCA9IEZNX1JPT1RfUEFUSDsKICAgIGlmIChGTV9QQVRIICE9ICcnKSB7CiAgICAgICAgJHBhdGggLj0gJy8nIC4gRk1fUEFUSDsKICAgIH0KCiAgICBpZiAoJHVuemlwICE9ICcnICYmIGlzX2ZpbGUoJHBhdGggLiAnLycgLiAkdW56aXApKSB7CiAgICAgICAgJHppcF9wYXRoID0gJHBhdGggLiAnLycgLiAkdW56aXA7CiAgICAgICAgJGV4dCA9IHBhdGhpbmZvKCR6aXBfcGF0aCwgUEFUSElORk9fRVhURU5TSU9OKTsKICAgICAgICAkaXNWYWxpZCA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIG5vdCBmb3VuZCcpLCAnZXJyb3InKTsKICAgIH0KCiAgICBpZiAoKCRleHQgPT0gInppcCIgJiYgIWNsYXNzX2V4aXN0cygnWmlwQXJjaGl2ZScpKSB8fCAoJGV4dCA9PSAidGFyIiAmJiAhY2xhc3NfZXhpc3RzKCdQaGFyRGF0YScpKSkgewogICAgICAgIGZtX3NldF9tc2cobG5nKCdPcGVyYXRpb25zIHdpdGggYXJjaGl2ZXMgYXJlIG5vdCBhdmFpbGFibGUnKSwgJ2Vycm9yJyk7CiAgICAgICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOwogICAgfQoKICAgIGlmICgkaXNWYWxpZCkgewogICAgICAgIC8vdG8gZm9sZGVyCiAgICAgICAgJHRvZm9sZGVyID0gJyc7CiAgICAgICAgaWYgKGlzc2V0KCRfUE9TVFsndG9mb2xkZXInXSkpIHsKICAgICAgICAgICAgJHRvZm9sZGVyID0gcGF0aGluZm8oJHppcF9wYXRoLCBQQVRISU5GT19GSUxFTkFNRSk7CiAgICAgICAgICAgIGlmIChmbV9ta2RpcigkcGF0aCAuICcvJyAuICR0b2ZvbGRlciwgdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICRwYXRoIC49ICcvJyAuICR0b2ZvbGRlcjsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYoJGV4dCA9PSAiemlwIikgewogICAgICAgICAgICAkemlwcGVyID0gbmV3IEZNX1ppcHBlcigpOwogICAgICAgICAgICAkcmVzID0gJHppcHBlci0+dW56aXAoJHppcF9wYXRoLCAkcGF0aCk7CiAgICAgICAgfSBlbHNlaWYgKCRleHQgPT0gInRhciIpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICRnemlwcGVyID0gbmV3IFBoYXJEYXRhKCR6aXBfcGF0aCk7CiAgICAgICAgICAgICAgICBpZiAoQCRnemlwcGVyLT5leHRyYWN0VG8oJHBhdGgsbnVsbCwgdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAkcmVzID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJHJlcyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKICAgICAgICAgICAgICAgIC8vVE9ETzo6IG5lZWQgdG8gaGFuZGxlIHRoZSBlcnJvcgogICAgICAgICAgICAgICAgJHJlcyA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICgkcmVzKSB7CiAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdBcmNoaXZlIHVucGFja2VkJykpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZtX3NldF9tc2cobG5nKCdBcmNoaXZlIG5vdCB1bnBhY2tlZCcpLCAnZXJyb3InKTsKICAgICAgICB9CiAgICB9IGVsc2UgewogICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIG5vdCBmb3VuZCcpLCAnZXJyb3InKTsKICAgIH0KICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsKfQoKLy8gQ2hhbmdlIFBlcm1zIChub3QgZm9yIFdpbmRvd3MpCmlmIChpc3NldCgkX1BPU1RbJ2NobW9kJ10sICRfUE9TVFsndG9rZW4nXSkgJiYgIUZNX1JFQURPTkxZICYmICFGTV9JU19XSU4pIHsKCiAgICBpZighdmVyaWZ5VG9rZW4oJF9QT1NUWyd0b2tlbiddKSkgewogICAgICAgIGZtX3NldF9tc2cobG5nKCJJbnZhbGlkIFRva2VuLiIpLCAnZXJyb3InKTsKICAgIH0KICAgIAogICAgJHBhdGggPSBGTV9ST09UX1BBVEg7CiAgICBpZiAoRk1fUEFUSCAhPSAnJykgewogICAgICAgICRwYXRoIC49ICcvJyAuIEZNX1BBVEg7CiAgICB9CgogICAgJGZpbGUgPSAkX1BPU1RbJ2NobW9kJ107CiAgICAkZmlsZSA9IGZtX2NsZWFuX3BhdGgoJGZpbGUpOwogICAgJGZpbGUgPSBzdHJfcmVwbGFjZSgnLycsICcnLCAkZmlsZSk7CiAgICBpZiAoJGZpbGUgPT0gJycgfHwgKCFpc19maWxlKCRwYXRoIC4gJy8nIC4gJGZpbGUpICYmICFpc19kaXIoJHBhdGggLiAnLycgLiAkZmlsZSkpKSB7CiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ZpbGUgbm90IGZvdW5kJyksICdlcnJvcicpOwogICAgICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsKICAgIH0KCiAgICAkbW9kZSA9IDA7CiAgICBpZiAoIWVtcHR5KCRfUE9TVFsndXInXSkpIHsKICAgICAgICAkbW9kZSB8PSAwNDAwOwogICAgfQogICAgaWYgKCFlbXB0eSgkX1BPU1RbJ3V3J10pKSB7CiAgICAgICAgJG1vZGUgfD0gMDIwMDsKICAgIH0KICAgIGlmICghZW1wdHkoJF9QT1NUWyd1eCddKSkgewogICAgICAgICRtb2RlIHw9IDAxMDA7CiAgICB9CiAgICBpZiAoIWVtcHR5KCRfUE9TVFsnZ3InXSkpIHsKICAgICAgICAkbW9kZSB8PSAwMDQwOwogICAgfQogICAgaWYgKCFlbXB0eSgkX1BPU1RbJ2d3J10pKSB7CiAgICAgICAgJG1vZGUgfD0gMDAyMDsKICAgIH0KICAgIGlmICghZW1wdHkoJF9QT1NUWydneCddKSkgewogICAgICAgICRtb2RlIHw9IDAwMTA7CiAgICB9CiAgICBpZiAoIWVtcHR5KCRfUE9TVFsnb3InXSkpIHsKICAgICAgICAkbW9kZSB8PSAwMDA0OwogICAgfQogICAgaWYgKCFlbXB0eSgkX1BPU1RbJ293J10pKSB7CiAgICAgICAgJG1vZGUgfD0gMDAwMjsKICAgIH0KICAgIGlmICghZW1wdHkoJF9QT1NUWydveCddKSkgewogICAgICAgICRtb2RlIHw9IDAwMDE7CiAgICB9CgogICAgaWYgKEBjaG1vZCgkcGF0aCAuICcvJyAuICRmaWxlLCAkbW9kZSkpIHsKICAgICAgICBmbV9zZXRfbXNnKGxuZygnUGVybWlzc2lvbnMgY2hhbmdlZCcpKTsKICAgIH0gZWxzZSB7CiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ1Blcm1pc3Npb25zIG5vdCBjaGFuZ2VkJyksICdlcnJvcicpOwogICAgfQoKICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsKfQoKLyoqKioqKioqKioqKioqKioqKioqKioqKioqKiBBQ1RJT05TICoqKioqKioqKioqKioqKioqKioqKioqKioqKi8KCi8vIGdldCBjdXJyZW50IHBhdGgKJHBhdGggPSBGTV9ST09UX1BBVEg7CmlmIChGTV9QQVRIICE9ICcnKSB7CiAgICAkcGF0aCAuPSAnLycgLiBGTV9QQVRIOwp9CgovLyBjaGVjayBwYXRoCmlmICghaXNfZGlyKCRwYXRoKSkgewogICAgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9Jyk7Cn0KCi8vIGdldCBwYXJlbnQgZm9sZGVyCiRwYXJlbnQgPSBmbV9nZXRfcGFyZW50X3BhdGgoRk1fUEFUSCk7Cgokb2JqZWN0cyA9IGlzX3JlYWRhYmxlKCRwYXRoKSA/IHNjYW5kaXIoJHBhdGgpIDogYXJyYXkoKTsKJGZvbGRlcnMgPSBhcnJheSgpOwokZmlsZXMgPSBhcnJheSgpOwokY3VycmVudF9wYXRoID0gYXJyYXlfc2xpY2UoZXhwbG9kZSgiLyIsJHBhdGgpLCAtMSlbMF07CmlmIChpc19hcnJheSgkb2JqZWN0cykgJiYgZm1faXNfZXhjbHVkZV9pdGVtcygkY3VycmVudF9wYXRoKSkgewogICAgZm9yZWFjaCAoJG9iamVjdHMgYXMgJGZpbGUpIHsKICAgICAgICBpZiAoJGZpbGUgPT0gJy4nIHx8ICRmaWxlID09ICcuLicpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICAgIGlmICghRk1fU0hPV19ISURERU4gJiYgc3Vic3RyKCRmaWxlLCAwLCAxKSA9PT0gJy4nKSB7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KICAgICAgICAkbmV3X3BhdGggPSAkcGF0aCAuICcvJyAuICRmaWxlOwogICAgICAgIGlmIChAaXNfZmlsZSgkbmV3X3BhdGgpICYmIGZtX2lzX2V4Y2x1ZGVfaXRlbXMoJGZpbGUpKSB7CiAgICAgICAgICAgICRmaWxlc1tdID0gJGZpbGU7CiAgICAgICAgfSBlbHNlaWYgKEBpc19kaXIoJG5ld19wYXRoKSAmJiAkZmlsZSAhPSAnLicgJiYgJGZpbGUgIT0gJy4uJyAmJiBmbV9pc19leGNsdWRlX2l0ZW1zKCRmaWxlKSkgewogICAgICAgICAgICAkZm9sZGVyc1tdID0gJGZpbGU7CiAgICAgICAgfQogICAgfQp9CgppZiAoIWVtcHR5KCRmaWxlcykpIHsKICAgIG5hdGNhc2Vzb3J0KCRmaWxlcyk7Cn0KaWYgKCFlbXB0eSgkZm9sZGVycykpIHsKICAgIG5hdGNhc2Vzb3J0KCRmb2xkZXJzKTsKfQoKLy8gdXBsb2FkIGZvcm0KaWYgKGlzc2V0KCRfR0VUWyd1cGxvYWQnXSkgJiYgIUZNX1JFQURPTkxZKSB7CiAgICBmbV9zaG93X2hlYWRlcigpOyAvLyBIRUFERVIKICAgIGZtX3Nob3dfbmF2X3BhdGgoRk1fUEFUSCk7IC8vIGN1cnJlbnQgcGF0aAogICAgLy9nZXQgdGhlIGFsbG93ZWQgZmlsZSBleHRlbnNpb25zCiAgICBmdW5jdGlvbiBnZXRVcGxvYWRFeHQoKSB7CiAgICAgICAgJGV4dEFyciA9IGV4cGxvZGUoJywnLCBGTV9VUExPQURfRVhURU5TSU9OKTsKICAgICAgICBpZihGTV9VUExPQURfRVhURU5TSU9OICYmICRleHRBcnIpIHsKICAgICAgICAgICAgYXJyYXlfd2FsaygkZXh0QXJyLCBmdW5jdGlvbigmJHgpIHskeCA9ICIuJHgiO30pOwogICAgICAgICAgICByZXR1cm4gaW1wbG9kZSgnLCcsICRleHRBcnIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gJyc7CiAgICB9CiAgICA/PgogICAgPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2Nzcy1kcm9wem9uZScpOyA/PgogICAgPGRpdiBjbGFzcz0icGF0aCI+CgogICAgICAgIDxkaXYgY2xhc3M9ImNhcmQgbWItMiBmbS11cGxvYWQtd3JhcHBlciA8P3BocCBlY2hvIGZtX2dldF90aGVtZSgpOyA/PiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtaGVhZGVyIj4KICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0ibmF2IG5hdi10YWJzIGNhcmQtaGVhZGVyLXRhYnMiPgogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2LWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz0ibmF2LWxpbmsgYWN0aXZlIiBocmVmPSIjZmlsZVVwbG9hZGVyIiBkYXRhLXRhcmdldD0iI2ZpbGVVcGxvYWRlciI+PGkgY2xhc3M9ImZhIGZhLWFycm93LWNpcmNsZS1vLXVwIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdVcGxvYWRpbmdGaWxlcycpID8+PC9hPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJuYXYtaXRlbSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJuYXYtbGluayIgaHJlZj0iI3VybFVwbG9hZGVyIiBjbGFzcz0ianMtdXJsLXVwbG9hZCIgZGF0YS10YXJnZXQ9IiN1cmxVcGxvYWRlciI+PGkgY2xhc3M9ImZhIGZhLWxpbmsiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1VwbG9hZCBmcm9tIFVSTCcpID8+PC9hPgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICA8L3VsPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2FyZC1ib2R5Ij4KICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJjYXJkLXRleHQiPgogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9Ij9wPTw/cGhwIGVjaG8gRk1fUEFUSCA/PiIgY2xhc3M9ImZsb2F0LXJpZ2h0Ij48aSBjbGFzcz0iZmEgZmEtY2hldnJvbi1jaXJjbGUtbGVmdCBnby1iYWNrIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdCYWNrJyk/PjwvYT4KICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPjw/cGhwIGVjaG8gbG5nKCdEZXN0aW5hdGlvbkZvbGRlcicpID8+PC9zdHJvbmc+OiA8P3BocCBlY2hvIGZtX2VuYyhmbV9jb252ZXJ0X3dpbihGTV9QQVRIKSkgPz4KICAgICAgICAgICAgICAgIDwvcD4KCiAgICAgICAgICAgICAgICA8Zm9ybSBhY3Rpb249Ijw/cGhwIGVjaG8gaHRtbHNwZWNpYWxjaGFycyhGTV9TRUxGX1VSTCkgLiAnP3A9JyAuIGZtX2VuYyhGTV9QQVRIKSA/PiIgY2xhc3M9ImRyb3B6b25lIGNhcmQtdGFicy1jb250YWluZXIiIGlkPSJmaWxlVXBsb2FkZXIiIGVuY3R5cGU9Im11bHRpcGFydC9mb3JtLWRhdGEiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InAiIHZhbHVlPSI8P3BocCBlY2hvIGZtX2VuYyhGTV9QQVRIKSA/PiI+CiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iZnVsbHBhdGgiIGlkPSJmdWxscGF0aCIgdmFsdWU9Ijw/cGhwIGVjaG8gZm1fZW5jKEZNX1BBVEgpID8+Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gJF9TRVNTSU9OWyd0b2tlbiddOyA/PiI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmFsbGJhY2siPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgbmFtZT0iZmlsZSIgdHlwZT0iZmlsZSIgbXVsdGlwbGUvPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9mb3JtPgoKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InVwbG9hZC11cmwtd3JhcHBlciBjYXJkLXRhYnMtY29udGFpbmVyIGhpZGRlbiIgaWQ9InVybFVwbG9hZGVyIj4KICAgICAgICAgICAgICAgICAgICA8Zm9ybSBpZD0ianMtZm9ybS11cmwtdXBsb2FkIiBjbGFzcz0icm93IHJvdy1jb2xzLWxnLWF1dG8gZy0zIGFsaWduLWl0ZW1zLWNlbnRlciIgb25zdWJtaXQ9InJldHVybiB1cGxvYWRfZnJvbV91cmwodGhpcyk7IiBtZXRob2Q9IlBPU1QiIGFjdGlvbj0iIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idHlwZSIgdmFsdWU9InVwbG9hZCIgYXJpYS1sYWJlbD0iaGlkZGVuIiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ1cmwiIHBsYWNlaG9sZGVyPSJVUkwiIG5hbWU9InVwbG9hZHVybCIgcmVxdWlyZWQgY2xhc3M9ImZvcm0tY29udHJvbCIgc3R5bGU9IndpZHRoOiA4MCUiPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gJF9TRVNTSU9OWyd0b2tlbiddOyA/PiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1wcmltYXJ5IG1zLTMiPjw/cGhwIGVjaG8gbG5nKCdVcGxvYWQnKSA/PjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJsZHMtZmFjZWJvb2siPjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPSJqcy11cmwtdXBsb2FkX19saXN0IiBjbGFzcz0iY29sLTkgbXQtMyI+PC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDw/cGhwIHByaW50X2V4dGVybmFsKCdqcy1kcm9wem9uZScpOyA/PgogICAgPHNjcmlwdD4KICAgICAgICBEcm9wem9uZS5vcHRpb25zLmZpbGVVcGxvYWRlciA9IHsKICAgICAgICAgICAgY2h1bmtpbmc6IHRydWUsCiAgICAgICAgICAgIGNodW5rU2l6ZTogPD9waHAgZWNobyBVUExPQURfQ0hVTktfU0laRTsgPz4sCiAgICAgICAgICAgIGZvcmNlQ2h1bmtpbmc6IHRydWUsCiAgICAgICAgICAgIHJldHJ5Q2h1bmtzOiB0cnVlLAogICAgICAgICAgICByZXRyeUNodW5rc0xpbWl0OiAzLAogICAgICAgICAgICBwYXJhbGxlbFVwbG9hZHM6IDEsCiAgICAgICAgICAgIHBhcmFsbGVsQ2h1bmtVcGxvYWRzOiBmYWxzZSwKICAgICAgICAgICAgdGltZW91dDogMTIwMDAwLAogICAgICAgICAgICBtYXhGaWxlc2l6ZTogIjw/cGhwIGVjaG8gTUFYX1VQTE9BRF9TSVpFOyA/PiIsCiAgICAgICAgICAgIGFjY2VwdGVkRmlsZXMgOiAiPD9waHAgZWNobyBnZXRVcGxvYWRFeHQoKSA/PiIsCiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHRoaXMub24oInNlbmRpbmciLCBmdW5jdGlvbiAoZmlsZSwgeGhyLCBmb3JtRGF0YSkgewogICAgICAgICAgICAgICAgICAgIGxldCBfcGF0aCA9IChmaWxlLmZ1bGxQYXRoKSA/IGZpbGUuZnVsbFBhdGggOiBmaWxlLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZ1bGxwYXRoIikudmFsdWUgPSBfcGF0aDsKICAgICAgICAgICAgICAgICAgICB4aHIub250aW1lb3V0ID0gKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCgnRXJyb3I6IFNlcnZlciBUaW1lb3V0Jyk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KS5vbigic3VjY2VzcyIsIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgX3Jlc3BvbnNlID0gSlNPTi5wYXJzZShyZXMueGhyLnJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKF9yZXNwb25zZS5zdGF0dXMgPT0gImVycm9yIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QoX3Jlc3BvbnNlLmluZm8pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCgiRXJyb3I6IEludmFsaWQgSlNPTiByZXNwb25zZSIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLm9uKCJlcnJvciIsIGZ1bmN0aW9uKGZpbGUsIHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgdG9hc3QocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICA8L3NjcmlwdD4KICAgIDw/cGhwCiAgICBmbV9zaG93X2Zvb3RlcigpOwogICAgZXhpdDsKfQoKLy8gY29weSBmb3JtIFBPU1QKaWYgKGlzc2V0KCRfUE9TVFsnY29weSddKSAmJiAhRk1fUkVBRE9OTFkpIHsKICAgICRjb3B5X2ZpbGVzID0gaXNzZXQoJF9QT1NUWydmaWxlJ10pID8gJF9QT1NUWydmaWxlJ10gOiBudWxsOwogICAgaWYgKCFpc19hcnJheSgkY29weV9maWxlcykgfHwgZW1wdHkoJGNvcHlfZmlsZXMpKSB7CiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ05vdGhpbmcgc2VsZWN0ZWQnKSwgJ2FsZXJ0Jyk7CiAgICAgICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOwogICAgfQoKICAgIGZtX3Nob3dfaGVhZGVyKCk7IC8vIEhFQURFUgogICAgZm1fc2hvd19uYXZfcGF0aChGTV9QQVRIKTsgLy8gY3VycmVudCBwYXRoCiAgICA/PgogICAgPGRpdiBjbGFzcz0icGF0aCI+CiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCA8P3BocCBlY2hvIGZtX2dldF90aGVtZSgpOyA/PiI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtaGVhZGVyIj4KICAgICAgICAgICAgICAgIDxoNj48P3BocCBlY2hvIGxuZygnQ29weWluZycpID8+PC9oNj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtYm9keSI+CiAgICAgICAgICAgICAgICA8Zm9ybSBhY3Rpb249IiIgbWV0aG9kPSJwb3N0Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJwIiB2YWx1ZT0iPD9waHAgZWNobyBmbV9lbmMoRk1fUEFUSCkgPz4iPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImZpbmlzaCIgdmFsdWU9IjEiPgogICAgICAgICAgICAgICAgICAgIDw/cGhwCiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJGNvcHlfZmlsZXMgYXMgJGNmKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImZpbGVbXSIgdmFsdWU9IicgLiBmbV9lbmMoJGNmKSAuICciPicgLiBQSFBfRU9MOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICA/PgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJicmVhay13b3JkIj48c3Ryb25nPjw/cGhwIGVjaG8gbG5nKCdGaWxlcycpID8+PC9zdHJvbmc+OiA8Yj48P3BocCBlY2hvIGltcGxvZGUoJzwvYj4sIDxiPicsICRjb3B5X2ZpbGVzKSA/PjwvYj48L3A+CiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9ImJyZWFrLXdvcmQiPjxzdHJvbmc+PD9waHAgZWNobyBsbmcoJ1NvdXJjZUZvbGRlcicpID8+PC9zdHJvbmc+OiA8P3BocCBlY2hvIGZtX2VuYyhmbV9jb252ZXJ0X3dpbihGTV9ST09UX1BBVEggLiAnLycgLiBGTV9QQVRIKSkgPz48YnI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImlucF9jb3B5X3RvIj48c3Ryb25nPjw/cGhwIGVjaG8gbG5nKCdEZXN0aW5hdGlvbkZvbGRlcicpID8+PC9zdHJvbmc+OjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gRk1fUk9PVF9QQVRIID8+LzxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJjb3B5X3RvIiBpZD0iaW5wX2NvcHlfdG8iIHZhbHVlPSI8P3BocCBlY2hvIGZtX2VuYyhGTV9QQVRIKSA/PiI+CiAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJjdXN0b20tY2hlY2tib3ggY3VzdG9tLWNvbnRyb2wiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0ibW92ZSIgdmFsdWU9IjEiIGlkPSJqcy1tb3ZlLWZpbGVzIiBjbGFzcz0iY3VzdG9tLWNvbnRyb2wtaW5wdXQiPjxsYWJlbCBmb3I9ImpzLW1vdmUtZmlsZXMiIGNsYXNzPSJjdXN0b20tY29udHJvbC1sYWJlbCBtcy0yIj4gPD9waHAgZWNobyBsbmcoJ01vdmUnKSA/PjwvbGFiZWw+PC9wPgogICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgICA8Yj48YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiIgY2xhc3M9ImJ0biBidG4tb3V0bGluZS1kYW5nZXIiPjxpIGNsYXNzPSJmYSBmYS10aW1lcy1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0NhbmNlbCcpID8+PC9hPjwvYj4mbmJzcDsKICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idG9rZW4iIHZhbHVlPSI8P3BocCBlY2hvICRfU0VTU0lPTlsndG9rZW4nXTsgPz4iPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tc3VjY2VzcyI+PGkgY2xhc3M9ImZhIGZhLWNoZWNrLWNpcmNsZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnQ29weScpID8+PC9idXR0b24+IAogICAgICAgICAgICAgICAgICAgIDwvcD4KICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDw/cGhwCiAgICBmbV9zaG93X2Zvb3RlcigpOwogICAgZXhpdDsKfQoKLy8gY29weSBmb3JtCmlmIChpc3NldCgkX0dFVFsnY29weSddKSAmJiAhaXNzZXQoJF9HRVRbJ2ZpbmlzaCddKSAmJiAhRk1fUkVBRE9OTFkpIHsKICAgICRjb3B5ID0gJF9HRVRbJ2NvcHknXTsKICAgICRjb3B5ID0gZm1fY2xlYW5fcGF0aCgkY29weSk7CiAgICBpZiAoJGNvcHkgPT0gJycgfHwgIWZpbGVfZXhpc3RzKEZNX1JPT1RfUEFUSCAuICcvJyAuICRjb3B5KSkgewogICAgICAgIGZtX3NldF9tc2cobG5nKCdGaWxlIG5vdCBmb3VuZCcpLCAnZXJyb3InKTsKICAgICAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7CiAgICB9CgogICAgZm1fc2hvd19oZWFkZXIoKTsgLy8gSEVBREVSCiAgICBmbV9zaG93X25hdl9wYXRoKEZNX1BBVEgpOyAvLyBjdXJyZW50IHBhdGgKICAgID8+CiAgICA8ZGl2IGNsYXNzPSJwYXRoIj4KICAgICAgICA8cD48Yj5Db3B5aW5nPC9iPjwvcD4KICAgICAgICA8cCBjbGFzcz0iYnJlYWstd29yZCI+CiAgICAgICAgICAgIDxzdHJvbmc+U291cmNlIHBhdGg6PC9zdHJvbmc+IDw/cGhwIGVjaG8gZm1fZW5jKGZtX2NvbnZlcnRfd2luKEZNX1JPT1RfUEFUSCAuICcvJyAuICRjb3B5KSkgPz48YnI+CiAgICAgICAgICAgIDxzdHJvbmc+RGVzdGluYXRpb24gZm9sZGVyOjwvc3Ryb25nPiA8P3BocCBlY2hvIGZtX2VuYyhmbV9jb252ZXJ0X3dpbihGTV9ST09UX1BBVEggLiAnLycgLiBGTV9QQVRIKSkgPz4KICAgICAgICA8L3A+CiAgICAgICAgPHA+CiAgICAgICAgICAgIDxiPjxhIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+JmFtcDtjb3B5PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRjb3B5KSA/PiZhbXA7ZmluaXNoPTEiPjxpIGNsYXNzPSJmYSBmYS1jaGVjay1jaXJjbGUiPjwvaT4gQ29weTwvYT48L2I+ICZuYnNwOwogICAgICAgICAgICA8Yj48YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7Y29weT08P3BocCBlY2hvIHVybGVuY29kZSgkY29weSkgPz4mYW1wO2ZpbmlzaD0xJmFtcDttb3ZlPTEiPjxpIGNsYXNzPSJmYSBmYS1jaGVjay1jaXJjbGUiPjwvaT4gTW92ZTwvYT48L2I+ICZuYnNwOwogICAgICAgICAgICA8Yj48YSBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiIgY2xhc3M9InRleHQtZGFuZ2VyIj48aSBjbGFzcz0iZmEgZmEtdGltZXMtY2lyY2xlIj48L2k+IENhbmNlbDwvYT48L2I+CiAgICAgICAgPC9wPgogICAgICAgIDxwPjxpPjw/cGhwIGVjaG8gbG5nKCdTZWxlY3QgZm9sZGVyJykgPz48L2k+PC9wPgogICAgICAgIDx1bCBjbGFzcz0iZm9sZGVycyBicmVhay13b3JkIj4KICAgICAgICAgICAgPD9waHAKICAgICAgICAgICAgaWYgKCRwYXJlbnQgIT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICA/PgogICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRwYXJlbnQpID8+JmFtcDtjb3B5PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRjb3B5KSA/PiI+PGkgY2xhc3M9ImZhIGZhLWNoZXZyb24tY2lyY2xlLWxlZnQiPjwvaT4gLi48L2E+PC9saT4KICAgICAgICAgICAgICAgIDw/cGhwCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yZWFjaCAoJGZvbGRlcnMgYXMgJGYpIHsKICAgICAgICAgICAgICAgID8+CiAgICAgICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUodHJpbShGTV9QQVRIIC4gJy8nIC4gJGYsICcvJykpID8+JmFtcDtjb3B5PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRjb3B5KSA/PiI+PGkgY2xhc3M9ImZhIGZhLWZvbGRlci1vIj48L2k+IDw/cGhwIGVjaG8gZm1fY29udmVydF93aW4oJGYpID8+PC9hPjwvbGk+CiAgICAgICAgICAgICAgICA8P3BocAogICAgICAgICAgICB9CiAgICAgICAgICAgID8+CiAgICAgICAgPC91bD4KICAgIDwvZGl2PgogICAgPD9waHAKICAgIGZtX3Nob3dfZm9vdGVyKCk7CiAgICBleGl0Owp9CgppZiAoaXNzZXQoJF9HRVRbJ3NldHRpbmdzJ10pICYmICFGTV9SRUFET05MWSkgewogICAgZm1fc2hvd19oZWFkZXIoKTsgLy8gSEVBREVSCiAgICBmbV9zaG93X25hdl9wYXRoKEZNX1BBVEgpOyAvLyBjdXJyZW50IHBhdGgKICAgIGdsb2JhbCAkY2ZnLCAkbGFuZywgJGxhbmdfbGlzdDsKICAgID8+CgogICAgPGRpdiBjbGFzcz0iY29sLW1kLTggb2Zmc2V0LW1kLTIgcHQtMyI+CiAgICAgICAgPGRpdiBjbGFzcz0iY2FyZCBtYi0yIDw/cGhwIGVjaG8gZm1fZ2V0X3RoZW1lKCk7ID8+Ij4KICAgICAgICAgICAgPGg2IGNsYXNzPSJjYXJkLWhlYWRlciBkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4iPgogICAgICAgICAgICAgICAgPHNwYW4+PGkgY2xhc3M9ImZhIGZhLWNvZyI+PC9pPiAgPD9waHAgZWNobyBsbmcoJ1NldHRpbmdzJykgPz48L3NwYW4+CiAgICAgICAgICAgICAgICA8YSBocmVmPSI/cD08P3BocCBlY2hvIEZNX1BBVEggPz4iIGNsYXNzPSJ0ZXh0LWRhbmdlciI+PGkgY2xhc3M9ImZhIGZhLXRpbWVzLWNpcmNsZS1vIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdDYW5jZWwnKT8+PC9hPgogICAgICAgICAgICA8L2g2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiPgogICAgICAgICAgICAgICAgPGZvcm0gaWQ9ImpzLXNldHRpbmdzLWZvcm0iIGFjdGlvbj0iIiBtZXRob2Q9InBvc3QiIGRhdGEtdHlwZT0iYWpheCIgb25zdWJtaXQ9InJldHVybiBzYXZlX3NldHRpbmdzKHRoaXMpIj4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0eXBlIiB2YWx1ZT0ic2V0dGluZ3MiIGFyaWEtbGFiZWw9ImhpZGRlbiIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tZ3JvdXAgcm93Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0ianMtbGFuZ3VhZ2UiIGNsYXNzPSJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbCI+PD9waHAgZWNobyBsbmcoJ0xhbmd1YWdlJykgPz48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtc20tNSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPSJmb3JtLXNlbGVjdCIgaWQ9ImpzLWxhbmd1YWdlIiBuYW1lPSJqcy1sYW5ndWFnZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRTZWxlY3RlZCgkbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWwgJGxhbmc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoJGxhbmcgPT0gJGwpID8gJ3NlbGVjdGVkJyA6ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICgkbGFuZ19saXN0IGFzICRrID0+ICR2KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVjaG8gIjxvcHRpb24gdmFsdWU9JyRrJyAiLmdldFNlbGVjdGVkKCRrKS4iPiR2PC9vcHRpb24+IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtdC0zIG1iLTMgcm93ICI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImpzLWVycm9yLXJlcG9ydCIgY2xhc3M9ImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsIj48P3BocCBlY2hvIGxuZygnRXJyb3JSZXBvcnRpbmcnKSA/PjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbC1zbS05Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tY2hlY2sgZm9ybS1zd2l0Y2giPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9ImZvcm0tY2hlY2staW5wdXQiIHR5cGU9ImNoZWNrYm94IiByb2xlPSJzd2l0Y2giIGlkPSJqcy1lcnJvci1yZXBvcnQiIG5hbWU9ImpzLWVycm9yLXJlcG9ydCIgdmFsdWU9InRydWUiIDw/cGhwIGVjaG8gJHJlcG9ydF9lcnJvcnMgPyAnY2hlY2tlZCcgOiAnJzsgPz4gLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyByb3ciPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJqcy1zaG93LWhpZGRlbiIgY2xhc3M9ImNvbC1zbS0zIGNvbC1mb3JtLWxhYmVsIj48P3BocCBlY2hvIGxuZygnU2hvd0hpZGRlbkZpbGVzJykgPz48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtc20tOSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWNoZWNrIGZvcm0tc3dpdGNoIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJmb3JtLWNoZWNrLWlucHV0IiB0eXBlPSJjaGVja2JveCIgcm9sZT0ic3dpdGNoIiBpZD0ianMtc2hvdy1oaWRkZW4iIG5hbWU9ImpzLXNob3ctaGlkZGVuIiB2YWx1ZT0idHJ1ZSIgPD9waHAgZWNobyAkc2hvd19oaWRkZW5fZmlsZXMgPyAnY2hlY2tlZCcgOiAnJzsgPz4gLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyByb3ciPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJqcy1oaWRlLWNvbHMiIGNsYXNzPSJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbCI+PD9waHAgZWNobyBsbmcoJ0hpZGVDb2x1bW5zJykgPz48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtc20tOSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb3JtLWNoZWNrIGZvcm0tc3dpdGNoIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJmb3JtLWNoZWNrLWlucHV0IiB0eXBlPSJjaGVja2JveCIgcm9sZT0ic3dpdGNoIiBpZD0ianMtaGlkZS1jb2xzIiBuYW1lPSJqcy1oaWRlLWNvbHMiIHZhbHVlPSJ0cnVlIiA8P3BocCBlY2hvICRoaWRlX0NvbHMgPyAnY2hlY2tlZCcgOiAnJzsgPz4gLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyByb3ciPgogICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJqcy0zLTEiIGNsYXNzPSJjb2wtc20tMyBjb2wtZm9ybS1sYWJlbCI+PD9waHAgZWNobyBsbmcoJ1RoZW1lJykgPz48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtc20tNSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPSJmb3JtLXNlbGVjdCB3LTEwMCIgaWQ9ImpzLTMtMCIgbmFtZT0ianMtdGhlbWUtMyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0nbGlnaHQnIDw/cGhwIGlmKCR0aGVtZSA9PSAibGlnaHQiKXtlY2hvICJzZWxlY3RlZCI7fSA/Pj48P3BocCBlY2hvIGxuZygnbGlnaHQnKSA/Pjwvb3B0aW9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9J2RhcmsnIDw/cGhwIGlmKCR0aGVtZSA9PSAiZGFyayIpe2VjaG8gInNlbGVjdGVkIjt9ID8+Pjw/cGhwIGVjaG8gbG5nKCdkYXJrJykgPz48L29wdGlvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibWItMyByb3ciPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtc20tMTAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPiA8aSBjbGFzcz0iZmEgZmEtY2hlY2stY2lyY2xlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdTYXZlJyk7ID8+PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIDw/cGhwCiAgICBmbV9zaG93X2Zvb3RlcigpOwogICAgZXhpdDsKfQoKaWYgKGlzc2V0KCRfR0VUWydoZWxwJ10pKSB7CiAgICBmbV9zaG93X2hlYWRlcigpOyAvLyBIRUFERVIKICAgIGZtX3Nob3dfbmF2X3BhdGgoRk1fUEFUSCk7IC8vIGN1cnJlbnQgcGF0aAogICAgZ2xvYmFsICRjZmcsICRsYW5nOwogICAgPz4KCiAgICA8ZGl2IGNsYXNzPSJjb2wtbWQtOCBvZmZzZXQtbWQtMiBwdC0zIj4KICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIG1iLTIgPD9waHAgZWNobyBmbV9nZXRfdGhlbWUoKTsgPz4iPgogICAgICAgICAgICA8aDYgY2xhc3M9ImNhcmQtaGVhZGVyIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiI+CiAgICAgICAgICAgICAgICA8c3Bhbj48aSBjbGFzcz0iZmEgZmEtZXhjbGFtYXRpb24tY2lyY2xlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdIZWxwJykgPz48L3NwYW4+CiAgICAgICAgICAgICAgICA8YSBocmVmPSI/cD08P3BocCBlY2hvIEZNX1BBVEggPz4iIGNsYXNzPSJ0ZXh0LWRhbmdlciI+PGkgY2xhc3M9ImZhIGZhLXRpbWVzLWNpcmNsZS1vIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdDYW5jZWwnKT8+PC9hPgogICAgICAgICAgICA8L2g2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkLWJvZHkiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icm93Ij4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIgY29sLXNtLTYiPgogICAgICAgICAgICAgICAgICAgICAgICA8cD48aDM+PGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL3ByYXNhdGhtYW5pL3RpbnlmaWxlbWFuYWdlciIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJhcHAtdi10aXRsZSI+IFRpbnkgRmlsZSBNYW5hZ2VyIDw/cGhwIGVjaG8gVkVSU0lPTjsgPz48L2E+PC9oMz48L3A+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwPkF1dGhvcjogUHJhc2F0aCBNYW5pPC9wPgogICAgICAgICAgICAgICAgICAgICAgICA8cD5NYWlsIFVzOiA8YSBocmVmPSJtYWlsdG86Y2NwcHJvZ3JhbW1lcnNAZ21haWwuY29tIj5jY3Bwcm9ncmFtbWVyc1thdF1nbWFpbC5jb208L2E+IDwvcD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIgY29sLXNtLTYiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0ibGlzdC1ncm91cCBsaXN0LWdyb3VwLWZsdXNoIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Imxpc3QtZ3JvdXAtaXRlbSI+PGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL3ByYXNhdGhtYW5pL3RpbnlmaWxlbWFuYWdlci93aWtpIiB0YXJnZXQ9Il9ibGFuayI+PGkgY2xhc3M9ImZhIGZhLXF1ZXN0aW9uLWNpcmNsZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnSGVscCBEb2N1bWVudHMnKSA/PiA8L2E+IDwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJsaXN0LWdyb3VwLWl0ZW0iPjxhIGhyZWY9Imh0dHBzOi8vZ2l0aHViLmNvbS9wcmFzYXRobWFuaS90aW55ZmlsZW1hbmFnZXIvaXNzdWVzIiB0YXJnZXQ9Il9ibGFuayI+PGkgY2xhc3M9ImZhIGZhLWJ1ZyI+PC9pPiA8P3BocCBlY2hvIGxuZygnUmVwb3J0IElzc3VlJykgPz48L2E+PC9saT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBpZighRk1fUkVBRE9OTFkpIHsgPz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Imxpc3QtZ3JvdXAtaXRlbSI+PGEgaHJlZj0iamF2YXNjcmlwdDpzaG93X25ld19wd2QoKTsiPjxpIGNsYXNzPSJmYSBmYS1sb2NrIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdHZW5lcmF0ZSBuZXcgcGFzc3dvcmQgaGFzaCcpID8+PC9hPjwvbGk+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgfSA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyBqcy1uZXctcHdkIGhpZGRlbiBtdC0yIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtMTIiPgogICAgICAgICAgICAgICAgICAgICAgICA8Zm9ybSBjbGFzcz0iZm9ybS1pbmxpbmUiIG9uc3VibWl0PSJyZXR1cm4gbmV3X3Bhc3N3b3JkX2hhc2godGhpcykiIG1ldGhvZD0iUE9TVCIgYWN0aW9uPSIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idHlwZSIgdmFsdWU9InB3ZGhhc2giIGFyaWEtbGFiZWw9ImhpZGRlbiIgYXJpYS1oaWRkZW49InRydWUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCBtYi0yIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSJzdGF0aWNFbWFpbDIiPjw/cGhwIGVjaG8gbG5nKCdHZW5lcmF0ZSBuZXcgcGFzc3dvcmQgaGFzaCcpID8+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1ncm91cCBteC1zbS0zIG1iLTIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9ImlucHV0UGFzc3dvcmQyIiBjbGFzcz0ic3Itb25seSI+PD9waHAgZWNobyBsbmcoJ1Bhc3N3b3JkJykgPz48L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIGJ0bi1zbSIgaWQ9ImlucHV0UGFzc3dvcmQyIiBuYW1lPSJpbnB1dFBhc3N3b3JkMiIgcGxhY2Vob2xkZXI9Ijw/cGhwIGVjaG8gbG5nKCdQYXNzd29yZCcpID8+IiByZXF1aXJlZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtIG1iLTIiPjw/cGhwIGVjaG8gbG5nKCdHZW5lcmF0ZScpID8+PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPSJmb3JtLWNvbnRyb2wiIHJvd3M9IjIiIHJlYWRvbmx5IGlkPSJqcy1wd2QtcmVzdWx0Ij48L3RleHRhcmVhPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8P3BocAogICAgZm1fc2hvd19mb290ZXIoKTsKICAgIGV4aXQ7Cn0KCi8vIGZpbGUgdmlld2VyCmlmIChpc3NldCgkX0dFVFsndmlldyddKSkgewogICAgJGZpbGUgPSAkX0dFVFsndmlldyddOwogICAgJGZpbGUgPSBmbV9jbGVhbl9wYXRoKCRmaWxlLCBmYWxzZSk7CiAgICAkZmlsZSA9IHN0cl9yZXBsYWNlKCcvJywgJycsICRmaWxlKTsKICAgIGlmICgkZmlsZSA9PSAnJyB8fCAhaXNfZmlsZSgkcGF0aCAuICcvJyAuICRmaWxlKSB8fCAhZm1faXNfZXhjbHVkZV9pdGVtcygkZmlsZSkpIHsKICAgICAgICBmbV9zZXRfbXNnKGxuZygnRmlsZSBub3QgZm91bmQnKSwgJ2Vycm9yJyk7CiAgICAgICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOwogICAgfQoKICAgIGZtX3Nob3dfaGVhZGVyKCk7IC8vIEhFQURFUgogICAgZm1fc2hvd19uYXZfcGF0aChGTV9QQVRIKTsgLy8gY3VycmVudCBwYXRoCgogICAgJGZpbGVfdXJsID0gRk1fUk9PVF9VUkwgLiBmbV9jb252ZXJ0X3dpbigoRk1fUEFUSCAhPSAnJyA/ICcvJyAuIEZNX1BBVEggOiAnJykgLiAnLycgLiAkZmlsZSk7CiAgICAkZmlsZV9wYXRoID0gJHBhdGggLiAnLycgLiAkZmlsZTsKCiAgICAkZXh0ID0gc3RydG9sb3dlcihwYXRoaW5mbygkZmlsZV9wYXRoLCBQQVRISU5GT19FWFRFTlNJT04pKTsKICAgICRtaW1lX3R5cGUgPSBmbV9nZXRfbWltZV90eXBlKCRmaWxlX3BhdGgpOwogICAgJGZpbGVzaXplX3JhdyA9IGZtX2dldF9zaXplKCRmaWxlX3BhdGgpOwogICAgJGZpbGVzaXplID0gZm1fZ2V0X2ZpbGVzaXplKCRmaWxlc2l6ZV9yYXcpOwoKICAgICRpc196aXAgPSBmYWxzZTsKICAgICRpc19nemlwID0gZmFsc2U7CiAgICAkaXNfaW1hZ2UgPSBmYWxzZTsKICAgICRpc19hdWRpbyA9IGZhbHNlOwogICAgJGlzX3ZpZGVvID0gZmFsc2U7CiAgICAkaXNfdGV4dCA9IGZhbHNlOwogICAgJGlzX29ubGluZVZpZXdlciA9IGZhbHNlOwoKICAgICR2aWV3X3RpdGxlID0gJ0ZpbGUnOwogICAgJGZpbGVuYW1lcyA9IGZhbHNlOyAvLyBmb3IgemlwCiAgICAkY29udGVudCA9ICcnOyAvLyBmb3IgdGV4dAogICAgJG9ubGluZV92aWV3ZXIgPSBzdHJ0b2xvd2VyKEZNX0RPQ19WSUVXRVIpOwoKICAgIGlmKCRvbmxpbmVfdmlld2VyICYmICRvbmxpbmVfdmlld2VyICE9PSAnZmFsc2UnICYmIGluX2FycmF5KCRleHQsIGZtX2dldF9vbmxpbmVWaWV3ZXJfZXh0cygpKSl7CiAgICAgICAgJGlzX29ubGluZVZpZXdlciA9IHRydWU7CiAgICB9CiAgICBlbHNlaWYgKCRleHQgPT0gJ3ppcCcgfHwgJGV4dCA9PSAndGFyJykgewogICAgICAgICRpc196aXAgPSB0cnVlOwogICAgICAgICR2aWV3X3RpdGxlID0gJ0FyY2hpdmUnOwogICAgICAgICRmaWxlbmFtZXMgPSBmbV9nZXRfemlmX2luZm8oJGZpbGVfcGF0aCwgJGV4dCk7CiAgICB9IGVsc2VpZiAoaW5fYXJyYXkoJGV4dCwgZm1fZ2V0X2ltYWdlX2V4dHMoKSkpIHsKICAgICAgICAkaXNfaW1hZ2UgPSB0cnVlOwogICAgICAgICR2aWV3X3RpdGxlID0gJ0ltYWdlJzsKICAgIH0gZWxzZWlmIChpbl9hcnJheSgkZXh0LCBmbV9nZXRfYXVkaW9fZXh0cygpKSkgewogICAgICAgICRpc19hdWRpbyA9IHRydWU7CiAgICAgICAgJHZpZXdfdGl0bGUgPSAnQXVkaW8nOwogICAgfSBlbHNlaWYgKGluX2FycmF5KCRleHQsIGZtX2dldF92aWRlb19leHRzKCkpKSB7CiAgICAgICAgJGlzX3ZpZGVvID0gdHJ1ZTsKICAgICAgICAkdmlld190aXRsZSA9ICdWaWRlbyc7CiAgICB9IGVsc2VpZiAoaW5fYXJyYXkoJGV4dCwgZm1fZ2V0X3RleHRfZXh0cygpKSB8fCBzdWJzdHIoJG1pbWVfdHlwZSwgMCwgNCkgPT0gJ3RleHQnIHx8IGluX2FycmF5KCRtaW1lX3R5cGUsIGZtX2dldF90ZXh0X21pbWVzKCkpKSB7CiAgICAgICAgJGlzX3RleHQgPSB0cnVlOwogICAgICAgICRjb250ZW50ID0gZmlsZV9nZXRfY29udGVudHMoJGZpbGVfcGF0aCk7CiAgICB9CgogICAgPz4KICAgIDxkaXYgY2xhc3M9InJvdyI+CiAgICAgICAgPGRpdiBjbGFzcz0iY29sLTEyIj4KICAgICAgICAgICAgPHAgY2xhc3M9ImJyZWFrLXdvcmQiPjxiPjw/cGhwIGVjaG8gbG5nKCR2aWV3X3RpdGxlKSA/PiAiPD9waHAgZWNobyBmbV9lbmMoZm1fY29udmVydF93aW4oJGZpbGUpKSA/PiI8L2I+PC9wPgogICAgICAgICAgICA8cCBjbGFzcz0iYnJlYWstd29yZCI+CiAgICAgICAgICAgICAgICA8P3BocCAkZGlzcGxheV9wYXRoID0gZm1fZ2V0X2Rpc3BsYXlfcGF0aCgkZmlsZV9wYXRoKTsgPz4KICAgICAgICAgICAgICAgIDxzdHJvbmc+PD9waHAgZWNobyAkZGlzcGxheV9wYXRoWydsYWJlbCddOyA/Pjo8L3N0cm9uZz4gPD9waHAgZWNobyAkZGlzcGxheV9wYXRoWydwYXRoJ107ID8+PGJyPgogICAgICAgICAgICAgICAgPHN0cm9uZz5GaWxlIHNpemU6PC9zdHJvbmc+IDw/cGhwIGVjaG8gKCRmaWxlc2l6ZV9yYXcgPD0gMTAwMCkgPyAiJGZpbGVzaXplX3JhdyBieXRlcyIgOiAkZmlsZXNpemU7ID8+PGJyPgogICAgICAgICAgICAgICAgPHN0cm9uZz5NSU1FLXR5cGU6PC9zdHJvbmc+IDw/cGhwIGVjaG8gJG1pbWVfdHlwZSA/Pjxicj4KICAgICAgICAgICAgICAgIDw/cGhwCiAgICAgICAgICAgICAgICAvLyBaSVAgaW5mbwogICAgICAgICAgICAgICAgaWYgKCgkaXNfemlwIHx8ICRpc19nemlwKSAmJiAkZmlsZW5hbWVzICE9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgICR0b3RhbF9maWxlcyA9IDA7CiAgICAgICAgICAgICAgICAgICAgJHRvdGFsX2NvbXAgPSAwOwogICAgICAgICAgICAgICAgICAgICR0b3RhbF91bmNvbXAgPSAwOwogICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRmaWxlbmFtZXMgYXMgJGZuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJGZuWydmb2xkZXInXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRvdGFsX2ZpbGVzKys7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJHRvdGFsX2NvbXAgKz0gJGZuWydjb21wcmVzc2VkX3NpemUnXTsKICAgICAgICAgICAgICAgICAgICAgICAgJHRvdGFsX3VuY29tcCArPSAkZm5bJ2ZpbGVzaXplJ107CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgID8+CiAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyBsbmcoJ0ZpbGVzIGluIGFyY2hpdmUnKSA/PjogPD9waHAgZWNobyAkdG90YWxfZmlsZXMgPz48YnI+CiAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyBsbmcoJ1RvdGFsIHNpemUnKSA/PjogPD9waHAgZWNobyBmbV9nZXRfZmlsZXNpemUoJHRvdGFsX3VuY29tcCkgPz48YnI+CiAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyBsbmcoJ1NpemUgaW4gYXJjaGl2ZScpID8+OiA8P3BocCBlY2hvIGZtX2dldF9maWxlc2l6ZSgkdG90YWxfY29tcCkgPz48YnI+CiAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyBsbmcoJ0NvbXByZXNzaW9uJykgPz46IDw/cGhwIGVjaG8gcm91bmQoKCR0b3RhbF9jb21wIC8gbWF4KCR0b3RhbF91bmNvbXAsIDEpKSAqIDEwMCkgPz4lPGJyPgogICAgICAgICAgICAgICAgICAgIDw/cGhwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBJbWFnZSBpbmZvCiAgICAgICAgICAgICAgICBpZiAoJGlzX2ltYWdlKSB7CiAgICAgICAgICAgICAgICAgICAgJGltYWdlX3NpemUgPSBnZXRpbWFnZXNpemUoJGZpbGVfcGF0aCk7CiAgICAgICAgICAgICAgICAgICAgZWNobyAnPHN0cm9uZz4nLmxuZygnSW1hZ2Ugc2l6ZScpLic6PC9zdHJvbmc+ICcgLiAoaXNzZXQoJGltYWdlX3NpemVbMF0pID8gJGltYWdlX3NpemVbMF0gOiAnMCcpIC4gJyB4ICcgLiAoaXNzZXQoJGltYWdlX3NpemVbMV0pID8gJGltYWdlX3NpemVbMV0gOiAnMCcpIC4gJzxicj4nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gVGV4dCBpbmZvCiAgICAgICAgICAgICAgICBpZiAoJGlzX3RleHQpIHsKICAgICAgICAgICAgICAgICAgICAkaXNfdXRmOCA9IGZtX2lzX3V0ZjgoJGNvbnRlbnQpOwogICAgICAgICAgICAgICAgICAgIGlmIChmdW5jdGlvbl9leGlzdHMoJ2ljb252JykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkaXNfdXRmOCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvbnRlbnQgPSBpY29udihGTV9JQ09OVl9JTlBVVF9FTkMsICdVVEYtOC8vSUdOT1JFJywgJGNvbnRlbnQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVjaG8gJzxzdHJvbmc+Jy5sbmcoJ0NoYXJzZXQnKS4nOjwvc3Ryb25nPiAnIC4gKCRpc191dGY4ID8gJ3V0Zi04JyA6ICc4IGJpdCcpIC4gJzxicj4nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgPz4KICAgICAgICAgICAgPC9wPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG1iLTMiPgogICAgICAgICAgICAgICAgPGZvcm0gbWV0aG9kPSJwb3N0IiBjbGFzcz0iZC1pbmxpbmUgbXMtMiIgYWN0aW9uPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7ZGw9PD9waHAgZWNobyB1cmxlbmNvZGUoJGZpbGUpID8+Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gJF9TRVNTSU9OWyd0b2tlbiddOyA/PiI+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLWxpbmsgdGV4dC1kZWNvcmF0aW9uLW5vbmUgZnctYm9sZCBwLTAiPjxpIGNsYXNzPSJmYSBmYS1jbG91ZC1kb3dubG9hZCI+PC9pPiA8P3BocCBlY2hvIGxuZygnRG93bmxvYWQnKSA/PjwvYnV0dG9uPiAmbmJzcDsKICAgICAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgICAgICAgIDw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/PgogICAgICAgICAgICAgICAgPGEgY2xhc3M9ImZ3LWJvbGQiIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnRGVsZXRlJykgPz4iIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+JmFtcDtkZWw9PD9waHAgZWNobyB1cmxlbmNvZGUoJGZpbGUpID8+IiBvbmNsaWNrPSJjb25maXJtRGFpbG9nKGV2ZW50LCAxMjA5LCAnPD9waHAgZWNobyBsbmcoJ0RlbGV0ZScpLicgJy5sbmcoJ0ZpbGUnKTsgPz4nLCc8P3BocCBlY2hvIHVybGVuY29kZSgkZmlsZSk7ID8+JywgdGhpcy5ocmVmKTsiPiA8aSBjbGFzcz0iZmEgZmEtdHJhc2giPjwvaT4gRGVsZXRlPC9hPgogICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+CiAgICAgICAgICAgICAgICA8YSBjbGFzcz0iZnctYm9sZCBtcy0yIiBocmVmPSI8P3BocCBlY2hvIGZtX2VuYygkZmlsZV91cmwpID8+IiB0YXJnZXQ9Il9ibGFuayI+PGkgY2xhc3M9ImZhIGZhLWV4dGVybmFsLWxpbmstc3F1YXJlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdPcGVuJykgPz48L2E+PC9iPgogICAgICAgICAgICAgICAgPD9waHAKICAgICAgICAgICAgICAgIC8vIFpJUCBhY3Rpb25zCiAgICAgICAgICAgICAgICBpZiAoIUZNX1JFQURPTkxZICYmICgkaXNfemlwIHx8ICRpc19nemlwKSAmJiAkZmlsZW5hbWVzICE9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgICR6aXBfbmFtZSA9IHBhdGhpbmZvKCRmaWxlX3BhdGgsIFBBVEhJTkZPX0ZJTEVOQU1FKTsKICAgICAgICAgICAgICAgICAgICA/PgogICAgICAgICAgICAgICAgICAgIDxmb3JtIG1ldGhvZD0icG9zdCIgY2xhc3M9ImQtaW5saW5lIG1zLTIiPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gJF9TRVNTSU9OWyd0b2tlbiddOyA/PiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InVuemlwIiB2YWx1ZT0iPD9waHAgZWNobyB1cmxlbmNvZGUoJGZpbGUpOyA/PiI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1saW5rIHRleHQtZGVjb3JhdGlvbi1ub25lIGZ3LWJvbGQgcC0wIiBzdHlsZT0iZm9udC1zaXplOiAxNHB4OyI+PGkgY2xhc3M9ImZhIGZhLWNoZWNrLWNpcmNsZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnVW5aaXAnKSA/PjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDwvZm9ybT4mbmJzcDsKICAgICAgICAgICAgICAgICAgICA8Zm9ybSBtZXRob2Q9InBvc3QiIGNsYXNzPSJkLWlubGluZSBtcy0yIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idG9rZW4iIHZhbHVlPSI8P3BocCBlY2hvICRfU0VTU0lPTlsndG9rZW4nXTsgPz4iPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ1bnppcCIgdmFsdWU9Ijw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKTsgPz4iPgogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2ZvbGRlciIgdmFsdWU9IjEiPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tbGluayB0ZXh0LWRlY29yYXRpb24tbm9uZSBmdy1ib2xkIHAtMCIgc3R5bGU9ImZvbnQtc2l6ZTogMTRweDsiIHRpdGxlPSJVblppcCB0byA8P3BocCBlY2hvIGZtX2VuYygkemlwX25hbWUpID8+Ij48aSBjbGFzcz0iZmEgZmEtY2hlY2stY2lyY2xlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdVblppcFRvRm9sZGVyJykgPz48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Zvcm0+Jm5ic3A7CiAgICAgICAgICAgICAgICAgICAgPD9waHAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkaXNfdGV4dCAmJiAhRk1fUkVBRE9OTFkpIHsKICAgICAgICAgICAgICAgICAgICA/PgogICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJmdy1ib2xkIG1zLTIiIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCkpID8+JmFtcDtlZGl0PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKSA/PiIgY2xhc3M9ImVkaXQtZmlsZSI+PGkgY2xhc3M9ImZhIGZhLXBlbmNpbC1zcXVhcmUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0VkaXQnKSA/PgogICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9ImZ3LWJvbGQgbXMtMiIgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUodHJpbShGTV9QQVRIKSkgPz4mYW1wO2VkaXQ9PD9waHAgZWNobyB1cmxlbmNvZGUoJGZpbGUpID8+JmVudj1hY2UiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz0iZWRpdC1maWxlIj48aSBjbGFzcz0iZmEgZmEtcGVuY2lsLXNxdWFyZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnQWR2YW5jZWRFZGl0b3InKSA/PgogICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgIDw/cGhwIH0gPz4KICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJmdy1ib2xkIG1zLTIiIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+Ij48aSBjbGFzcz0iZmEgZmEtY2hldnJvbi1jaXJjbGUtbGVmdCBnby1iYWNrIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdCYWNrJykgPz48L2E+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8P3BocAogICAgICAgICAgICBpZigkaXNfb25saW5lVmlld2VyKSB7CiAgICAgICAgICAgICAgICBpZigkb25saW5lX3ZpZXdlciA9PSAnZ29vZ2xlJykgewogICAgICAgICAgICAgICAgICAgIGVjaG8gJzxpZnJhbWUgc3JjPSJodHRwczovL2RvY3MuZ29vZ2xlLmNvbS92aWV3ZXI/ZW1iZWRkZWQ9dHJ1ZSZobD1lbiZ1cmw9JyAuIGZtX2VuYygkZmlsZV91cmwpIC4gJyIgZnJhbWVib3JkZXI9Im5vIiBzdHlsZT0id2lkdGg6MTAwJTttaW4taGVpZ2h0OjQ2MHB4Ij48L2lmcmFtZT4nOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKCRvbmxpbmVfdmlld2VyID09ICdtaWNyb3NvZnQnKSB7CiAgICAgICAgICAgICAgICAgICAgZWNobyAnPGlmcmFtZSBzcmM9Imh0dHBzOi8vdmlldy5vZmZpY2VhcHBzLmxpdmUuY29tL29wL2VtYmVkLmFzcHg/c3JjPScgLiBmbV9lbmMoJGZpbGVfdXJsKSAuICciIGZyYW1lYm9yZGVyPSJubyIgc3R5bGU9IndpZHRoOjEwMCU7bWluLWhlaWdodDo0NjBweCI+PC9pZnJhbWU+JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlaWYgKCRpc196aXApIHsKICAgICAgICAgICAgICAgIC8vIFpJUCBjb250ZW50CiAgICAgICAgICAgICAgICBpZiAoJGZpbGVuYW1lcyAhPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICBlY2hvICc8Y29kZSBjbGFzcz0ibWF4aGVpZ2h0Ij4nOwogICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRmaWxlbmFtZXMgYXMgJGZuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZm5bJ2ZvbGRlciddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlY2hvICc8Yj4nIC4gZm1fZW5jKCRmblsnbmFtZSddKSAuICc8L2I+PGJyPic7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlY2hvICRmblsnbmFtZSddIC4gJyAoJyAuIGZtX2dldF9maWxlc2l6ZSgkZm5bJ2ZpbGVzaXplJ10pIC4gJyk8YnI+JzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlY2hvICc8L2NvZGU+JzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZWNobyAnPHA+Jy5sbmcoJ0Vycm9yIHdoaWxlIGZldGNoaW5nIGFyY2hpdmUgaW5mbycpLic8L3A+JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlaWYgKCRpc19pbWFnZSkgewogICAgICAgICAgICAgICAgLy8gSW1hZ2UgY29udGVudAogICAgICAgICAgICAgICAgaWYgKGluX2FycmF5KCRleHQsIGFycmF5KCdnaWYnLCAnanBnJywgJ2pwZWcnLCAncG5nJywgJ2JtcCcsICdpY28nLCAnc3ZnJywgJ3dlYnAnLCAnYXZpZicpKSkgewogICAgICAgICAgICAgICAgICAgIGVjaG8gJzxwPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InByZXZpZXctaW1nLXpvb21DaGVjayI+PGxhYmVsIGZvcj0icHJldmlldy1pbWctem9vbUNoZWNrIj48aW1nIHNyYz0iJyAuIGZtX2VuYygkZmlsZV91cmwpIC4gJyIgYWx0PSJpbWFnZSIgY2xhc3M9InByZXZpZXctaW1nIj48L2xhYmVsPjwvcD4nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2VpZiAoJGlzX2F1ZGlvKSB7CiAgICAgICAgICAgICAgICAvLyBBdWRpbyBjb250ZW50CiAgICAgICAgICAgICAgICBlY2hvICc8cD48YXVkaW8gc3JjPSInIC4gZm1fZW5jKCRmaWxlX3VybCkgLiAnIiBjb250cm9scyBwcmVsb2FkPSJtZXRhZGF0YSI+PC9hdWRpbz48L3A+JzsKICAgICAgICAgICAgfSBlbHNlaWYgKCRpc192aWRlbykgewogICAgICAgICAgICAgICAgLy8gVmlkZW8gY29udGVudAogICAgICAgICAgICAgICAgZWNobyAnPGRpdiBjbGFzcz0icHJldmlldy12aWRlbyI+PHZpZGVvIHNyYz0iJyAuIGZtX2VuYygkZmlsZV91cmwpIC4gJyIgd2lkdGg9IjY0MCIgaGVpZ2h0PSIzNjAiIGNvbnRyb2xzIHByZWxvYWQ9Im1ldGFkYXRhIj48L3ZpZGVvPjwvZGl2Pic7CiAgICAgICAgICAgIH0gZWxzZWlmICgkaXNfdGV4dCkgewogICAgICAgICAgICAgICAgaWYgKEZNX1VTRV9ISUdITElHSFRKUykgewogICAgICAgICAgICAgICAgICAgIC8vIGhpZ2hsaWdodAogICAgICAgICAgICAgICAgICAgICRobGpzX2NsYXNzZXMgPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgICAgJ3NodG1sJyA9PiAneG1sJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2h0YWNjZXNzJyA9PiAnYXBhY2hlJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3BodG1sJyA9PiAncGhwJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2xvY2snID0+ICdqc29uJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3N2ZycgPT4gJ3htbCcsCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAkaGxqc19jbGFzcyA9IGlzc2V0KCRobGpzX2NsYXNzZXNbJGV4dF0pID8gJ2xhbmctJyAuICRobGpzX2NsYXNzZXNbJGV4dF0gOiAnbGFuZy0nIC4gJGV4dDsKICAgICAgICAgICAgICAgICAgICBpZiAoZW1wdHkoJGV4dCkgfHwgaW5fYXJyYXkoc3RydG9sb3dlcigkZmlsZSksIGZtX2dldF90ZXh0X25hbWVzKCkpIHx8IHByZWdfbWF0Y2goJyNcLm1pblwuKGNzc3xqcykkI2knLCAkZmlsZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGhsanNfY2xhc3MgPSAnbm9oaWdobGlnaHQnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkY29udGVudCA9ICc8cHJlIGNsYXNzPSJ3aXRoLWhsanMiPjxjb2RlIGNsYXNzPSInIC4gJGhsanNfY2xhc3MgLiAnIj4nIC4gZm1fZW5jKCRjb250ZW50KSAuICc8L2NvZGU+PC9wcmU+JzsKICAgICAgICAgICAgICAgIH0gZWxzZWlmIChpbl9hcnJheSgkZXh0LCBhcnJheSgncGhwJywgJ3BocDQnLCAncGhwNScsICdwaHRtbCcsICdwaHBzJykpKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gcGhwIGhpZ2hsaWdodAogICAgICAgICAgICAgICAgICAgICRjb250ZW50ID0gaGlnaGxpZ2h0X3N0cmluZygkY29udGVudCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICRjb250ZW50ID0gJzxwcmU+JyAuIGZtX2VuYygkY29udGVudCkgLiAnPC9wcmU+JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVjaG8gJGNvbnRlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgPz4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPD9waHAKICAgICAgICBmbV9zaG93X2Zvb3RlcigpOwogICAgZXhpdDsKfQoKLy8gZmlsZSBlZGl0b3IKaWYgKGlzc2V0KCRfR0VUWydlZGl0J10pICYmICFGTV9SRUFET05MWSkgewogICAgJGZpbGUgPSAkX0dFVFsnZWRpdCddOwogICAgJGZpbGUgPSBmbV9jbGVhbl9wYXRoKCRmaWxlLCBmYWxzZSk7CiAgICAkZmlsZSA9IHN0cl9yZXBsYWNlKCcvJywgJycsICRmaWxlKTsKICAgIGlmICgkZmlsZSA9PSAnJyB8fCAhaXNfZmlsZSgkcGF0aCAuICcvJyAuICRmaWxlKSB8fCAhZm1faXNfZXhjbHVkZV9pdGVtcygkZmlsZSkpIHsKICAgICAgICBmbV9zZXRfbXNnKGxuZygnRmlsZSBub3QgZm91bmQnKSwgJ2Vycm9yJyk7CiAgICAgICAgJEZNX1BBVEg9Rk1fUEFUSDsgZm1fcmVkaXJlY3QoRk1fU0VMRl9VUkwgLiAnP3A9JyAuIHVybGVuY29kZSgkRk1fUEFUSCkpOwogICAgfQogICAgJGVkaXRGaWxlID0gJyA6IDxpPjxiPicuICRmaWxlLiAnPC9iPjwvaT4nOwogICAgaGVhZGVyKCdYLVhTUy1Qcm90ZWN0aW9uOjAnKTsKICAgIGZtX3Nob3dfaGVhZGVyKCk7IC8vIEhFQURFUgogICAgZm1fc2hvd19uYXZfcGF0aChGTV9QQVRIKTsgLy8gY3VycmVudCBwYXRoCgogICAgJGZpbGVfdXJsID0gRk1fUk9PVF9VUkwgLiBmbV9jb252ZXJ0X3dpbigoRk1fUEFUSCAhPSAnJyA/ICcvJyAuIEZNX1BBVEggOiAnJykgLiAnLycgLiAkZmlsZSk7CiAgICAkZmlsZV9wYXRoID0gJHBhdGggLiAnLycgLiAkZmlsZTsKCiAgICAvLyBub3JtYWwgZWRpdGVyCiAgICAkaXNOb3JtYWxFZGl0b3IgPSB0cnVlOwogICAgaWYgKGlzc2V0KCRfR0VUWydlbnYnXSkpIHsKICAgICAgICBpZiAoJF9HRVRbJ2VudiddID09ICJhY2UiKSB7CiAgICAgICAgICAgICRpc05vcm1hbEVkaXRvciA9IGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBTYXZlIEZpbGUKICAgIGlmIChpc3NldCgkX1BPU1RbJ3NhdmVkYXRhJ10pKSB7CiAgICAgICAgJHdyaXRlZGF0YSA9ICRfUE9TVFsnc2F2ZWRhdGEnXTsKICAgICAgICAkZmQgPSBmb3BlbigkZmlsZV9wYXRoLCAidyIpOwogICAgICAgIEBmd3JpdGUoJGZkLCAkd3JpdGVkYXRhKTsKICAgICAgICBmY2xvc2UoJGZkKTsKICAgICAgICBmbV9zZXRfbXNnKGxuZygnRmlsZSBTYXZlZCBTdWNjZXNzZnVsbHknKSk7CiAgICB9CgogICAgJGV4dCA9IHN0cnRvbG93ZXIocGF0aGluZm8oJGZpbGVfcGF0aCwgUEFUSElORk9fRVhURU5TSU9OKSk7CiAgICAkbWltZV90eXBlID0gZm1fZ2V0X21pbWVfdHlwZSgkZmlsZV9wYXRoKTsKICAgICRmaWxlc2l6ZSA9IGZpbGVzaXplKCRmaWxlX3BhdGgpOwogICAgJGlzX3RleHQgPSBmYWxzZTsKICAgICRjb250ZW50ID0gJyc7IC8vIGZvciB0ZXh0CgogICAgaWYgKGluX2FycmF5KCRleHQsIGZtX2dldF90ZXh0X2V4dHMoKSkgfHwgc3Vic3RyKCRtaW1lX3R5cGUsIDAsIDQpID09ICd0ZXh0JyB8fCBpbl9hcnJheSgkbWltZV90eXBlLCBmbV9nZXRfdGV4dF9taW1lcygpKSkgewogICAgICAgICRpc190ZXh0ID0gdHJ1ZTsKICAgICAgICAkY29udGVudCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRmaWxlX3BhdGgpOwogICAgfQoKICAgID8+CiAgICA8ZGl2IGNsYXNzPSJwYXRoIj4KICAgICAgICA8ZGl2IGNsYXNzPSJyb3ciPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIgY29sLXNtLTUgY29sLWxnLTYgcHQtMSI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJidG4tdG9vbGJhciIgcm9sZT0idG9vbGJhciI+CiAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCEkaXNOb3JtYWxFZGl0b3IpIHsgPz4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYnRuLWdyb3VwIGpzLWFjZS10b29sYmFyIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gZGF0YS1jbWQ9Im5vbmUiIGRhdGEtb3B0aW9uPSJmdWxsc2NyZWVuIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1zZWNvbmRhcnkiIGlkPSJqcy1hY2UtZnVsbHNjcmVlbiIgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdGdWxsc2NyZWVuJykgPz4iPjxpIGNsYXNzPSJmYSBmYS1leHBhbmQiIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnRnVsbHNjcmVlbicpID8+Ij48L2k+PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtY21kPSJmaW5kIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1zZWNvbmRhcnkiIGlkPSJqcy1hY2Utc2VhcmNoIiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1NlYXJjaCcpID8+Ij48aSBjbGFzcz0iZmEgZmEtc2VhcmNoIiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1NlYXJjaCcpID8+Ij48L2k+PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGRhdGEtY21kPSJ1bmRvIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1zZWNvbmRhcnkiIGlkPSJqcy1hY2UtdW5kbyIgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdVbmRvJykgPz4iPjxpIGNsYXNzPSJmYSBmYS11bmRvIiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1VuZG8nKSA/PiI+PC9pPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLWNtZD0icmVkbyIgY2xhc3M9ImJ0biBidG4tc20gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IiBpZD0ianMtYWNlLXJlZG8iIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnUmVkbycpID8+Ij48aSBjbGFzcz0iZmEgZmEtcmVwZWF0IiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1JlZG8nKSA/PiI+PC9pPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBkYXRhLWNtZD0ibm9uZSIgZGF0YS1vcHRpb249IndyYXAiIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSIgaWQ9ImpzLWFjZS13b3JkV3JhcCIgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdXb3JkIFdyYXAnKSA/PiI+PGkgY2xhc3M9ImZhIGZhLXRleHQtd2lkdGgiIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnV29yZCBXcmFwJykgPz4iPjwvaT48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9ImpzLWFjZS1tb2RlIiBkYXRhLXR5cGU9Im1vZGUiIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnU2VsZWN0IERvY3VtZW50IFR5cGUnKSA/PiIgY2xhc3M9ImJ0bi1vdXRsaW5lLXNlY29uZGFyeSBib3JkZXItc3RhcnQtMCBkLW5vbmUgZC1tZC1ibG9jayI+PG9wdGlvbj4tLSA8P3BocCBlY2hvIGxuZygnU2VsZWN0IE1vZGUnKSA/PiAtLTwvb3B0aW9uPjwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ianMtYWNlLXRoZW1lIiBkYXRhLXR5cGU9InRoZW1lIiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1NlbGVjdCBUaGVtZScpID8+IiBjbGFzcz0iYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJvcmRlci1zdGFydC0wIGQtbm9uZSBkLWxnLWJsb2NrIj48b3B0aW9uPi0tIDw/cGhwIGVjaG8gbG5nKCdTZWxlY3QgVGhlbWUnKSA/PiAtLTwvb3B0aW9uPjwvc2VsZWN0PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD0ianMtYWNlLWZvbnRTaXplIiBkYXRhLXR5cGU9ImZvbnRTaXplIiB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1NlbGVjdCBGb250IFNpemUnKSA/PiIgY2xhc3M9ImJ0bi1vdXRsaW5lLXNlY29uZGFyeSBib3JkZXItc3RhcnQtMCBkLW5vbmUgZC1sZy1ibG9jayI+PG9wdGlvbj4tLSA8P3BocCBlY2hvIGxuZygnU2VsZWN0IEZvbnQgU2l6ZScpID8+IC0tPC9vcHRpb24+PC9zZWxlY3Q+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDw/cGhwIH0gPz4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZWRpdC1maWxlLWFjdGlvbnMgY29sLXhzLTEyIGNvbC1zbS03IGNvbC1sZy02IHRleHQtZW5kIHB0LTEiPgogICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdCYWNrJykgPz4iIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXByaW1hcnkiIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCkpID8+JmFtcDt2aWV3PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKSA/PiI+PGkgY2xhc3M9ImZhIGZhLXJlcGx5LWFsbCI+PC9pPiA8P3BocCBlY2hvIGxuZygnQmFjaycpID8+PC9hPgogICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdCYWNrVXAnKSA/PiIgY2xhc3M9ImJ0biBidG4tc20gYnRuLW91dGxpbmUtcHJpbWFyeSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyIgb25jbGljaz0iYmFja3VwKCc8P3BocCBlY2hvIHVybGVuY29kZSh0cmltKEZNX1BBVEgpKSA/PicsJzw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKSA/PicpIj48aSBjbGFzcz0iZmEgZmEtZGF0YWJhc2UiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0JhY2tVcCcpID8+PC9hPgogICAgICAgICAgICAgICAgPD9waHAgaWYgKCRpc190ZXh0KSB7ID8+CiAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCRpc05vcm1hbEVkaXRvcikgeyA/PgogICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iQWR2YW5jZWQiIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1vdXRsaW5lLXByaW1hcnkiIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCkpID8+JmFtcDtlZGl0PTw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmaWxlKSA/PiZhbXA7ZW52PWFjZSI+PGkgY2xhc3M9ImZhIGZhLXBlbmNpbC1zcXVhcmUtbyI+PC9pPiA8P3BocCBlY2hvIGxuZygnQWR2YW5jZWRFZGl0b3InKSA/PjwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXNtIGJ0bi1zdWNjZXNzIiBuYW1lPSJTYXZlIiBkYXRhLXVybD0iPD9waHAgZWNobyBmbV9lbmMoJGZpbGVfdXJsKSA/PiIgb25jbGljaz0iZWRpdF9zYXZlKHRoaXMsJ25ybCcpIj48aSBjbGFzcz0iZmEgZmEtZmxvcHB5LW8iPjwvaT4gU2F2ZQogICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8P3BocCB9IGVsc2UgeyA/PgogICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iUGxhaW4gRWRpdG9yIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1wcmltYXJ5IiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZSh0cmltKEZNX1BBVEgpKSA/PiZhbXA7ZWRpdD08P3BocCBlY2hvIHVybGVuY29kZSgkZmlsZSkgPz4iPjxpIGNsYXNzPSJmYSBmYS10ZXh0LWhlaWdodCI+PC9pPiA8P3BocCBlY2hvIGxuZygnTm9ybWFsRWRpdG9yJykgPz48L2E+CiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1zbSBidG4tc3VjY2VzcyIgbmFtZT0iU2F2ZSIgZGF0YS11cmw9Ijw/cGhwIGVjaG8gZm1fZW5jKCRmaWxlX3VybCkgPz4iIG9uY2xpY2s9ImVkaXRfc2F2ZSh0aGlzLCdhY2UnKSI+PGkgY2xhc3M9ImZhIGZhLWZsb3BweS1vIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdTYXZlJykgPz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPD9waHAgfSA/PgogICAgICAgICAgICAgICAgPD9waHAgfSA/PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8P3BocAogICAgICAgIGlmICgkaXNfdGV4dCAmJiAkaXNOb3JtYWxFZGl0b3IpIHsKICAgICAgICAgICAgZWNobyAnPHRleHRhcmVhIGNsYXNzPSJtdC0yIiBpZD0ibm9ybWFsLWVkaXRvciIgcm93cz0iMzMiIGNvbHM9IjEyMCIgc3R5bGU9IndpZHRoOiA5OS41JTsiPicgLiBodG1sc3BlY2lhbGNoYXJzKCRjb250ZW50KSAuICc8L3RleHRhcmVhPic7CiAgICAgICAgICAgIGVjaG8gJzxzY3JpcHQ+ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGZ1bmN0aW9uKGUpIHtpZiAoKHdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0ubWF0Y2goIk1hYyIpID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5KSAgJiYgZS5rZXlDb2RlID09IDgzKSB7IGUucHJldmVudERlZmF1bHQoKTtlZGl0X3NhdmUodGhpcywibnJsIik7fX0sIGZhbHNlKTs8L3NjcmlwdD4nOwogICAgICAgIH0gZWxzZWlmICgkaXNfdGV4dCkgewogICAgICAgICAgICBlY2hvICc8ZGl2IGlkPSJlZGl0b3IiIGNvbnRlbnRlZGl0YWJsZT0idHJ1ZSI+JyAuIGh0bWxzcGVjaWFsY2hhcnMoJGNvbnRlbnQpIC4gJzwvZGl2Pic7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ZJTEUgRVhURU5TSU9OIEhBUyBOT1QgU1VQUE9SVEVEJyksICdlcnJvcicpOwogICAgICAgIH0KICAgICAgICA/PgogICAgPC9kaXY+CiAgICA8P3BocAogICAgZm1fc2hvd19mb290ZXIoKTsKICAgIGV4aXQ7Cn0KCi8vIGNobW9kIChub3QgZm9yIFdpbmRvd3MpCmlmIChpc3NldCgkX0dFVFsnY2htb2QnXSkgJiYgIUZNX1JFQURPTkxZICYmICFGTV9JU19XSU4pIHsKICAgICRmaWxlID0gJF9HRVRbJ2NobW9kJ107CiAgICAkZmlsZSA9IGZtX2NsZWFuX3BhdGgoJGZpbGUpOwogICAgJGZpbGUgPSBzdHJfcmVwbGFjZSgnLycsICcnLCAkZmlsZSk7CiAgICBpZiAoJGZpbGUgPT0gJycgfHwgKCFpc19maWxlKCRwYXRoIC4gJy8nIC4gJGZpbGUpICYmICFpc19kaXIoJHBhdGggLiAnLycgLiAkZmlsZSkpKSB7CiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ0ZpbGUgbm90IGZvdW5kJyksICdlcnJvcicpOwogICAgICAgICRGTV9QQVRIPUZNX1BBVEg7IGZtX3JlZGlyZWN0KEZNX1NFTEZfVVJMIC4gJz9wPScgLiB1cmxlbmNvZGUoJEZNX1BBVEgpKTsKICAgIH0KCiAgICBmbV9zaG93X2hlYWRlcigpOyAvLyBIRUFERVIKICAgIGZtX3Nob3dfbmF2X3BhdGgoRk1fUEFUSCk7IC8vIGN1cnJlbnQgcGF0aAoKICAgICRmaWxlX3VybCA9IEZNX1JPT1RfVVJMIC4gKEZNX1BBVEggIT0gJycgPyAnLycgLiBGTV9QQVRIIDogJycpIC4gJy8nIC4gJGZpbGU7CiAgICAkZmlsZV9wYXRoID0gJHBhdGggLiAnLycgLiAkZmlsZTsKCiAgICAkbW9kZSA9IGZpbGVwZXJtcygkcGF0aCAuICcvJyAuICRmaWxlKTsKICAgID8+CiAgICA8ZGl2IGNsYXNzPSJwYXRoIj4KICAgICAgICA8ZGl2IGNsYXNzPSJjYXJkIG1iLTIgPD9waHAgZWNobyBmbV9nZXRfdGhlbWUoKTsgPz4iPgogICAgICAgICAgICA8aDYgY2xhc3M9ImNhcmQtaGVhZGVyIj4KICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gbG5nKCdDaGFuZ2VQZXJtaXNzaW9ucycpID8+CiAgICAgICAgICAgIDwvaDY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNhcmQtYm9keSI+CiAgICAgICAgICAgICAgICA8cCBjbGFzcz0iY2FyZC10ZXh0Ij4KICAgICAgICAgICAgICAgICAgICA8P3BocCAkZGlzcGxheV9wYXRoID0gZm1fZ2V0X2Rpc3BsYXlfcGF0aCgkZmlsZV9wYXRoKTsgPz4KICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvICRkaXNwbGF5X3BhdGhbJ2xhYmVsJ107ID8+OiA8P3BocCBlY2hvICRkaXNwbGF5X3BhdGhbJ3BhdGgnXTsgPz48YnI+CiAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICA8Zm9ybSBhY3Rpb249IiIgbWV0aG9kPSJwb3N0Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJwIiB2YWx1ZT0iPD9waHAgZWNobyBmbV9lbmMoRk1fUEFUSCkgPz4iPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImNobW9kIiB2YWx1ZT0iPD9waHAgZWNobyBmbV9lbmMoJGZpbGUpID8+Ij4KCiAgICAgICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPSJ0YWJsZSBjb21wYWN0LXRhYmxlIDw/cGhwIGVjaG8gZm1fZ2V0X3RoZW1lKCk7ID8+Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGI+PD9waHAgZWNobyBsbmcoJ093bmVyJykgPz48L2I+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48Yj48P3BocCBlY2hvIGxuZygnR3JvdXAnKSA/PjwvYj48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxiPjw/cGhwIGVjaG8gbG5nKCdPdGhlcicpID8+PC9iPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT0idGV4dC1hbGlnbjogcmlnaHQiPjxiPjw/cGhwIGVjaG8gbG5nKCdSZWFkJykgPz48L2I+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJ1ciIgdmFsdWU9IjEiPD9waHAgZWNobyAoJG1vZGUgJiAwMDQwMCkgPyAnIGNoZWNrZWQnIDogJycgPz4+PC9sYWJlbD48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9ImdyIiB2YWx1ZT0iMSI8P3BocCBlY2hvICgkbW9kZSAmIDAwMDQwKSA/ICcgY2hlY2tlZCcgOiAnJyA/Pj48L2xhYmVsPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0ib3IiIHZhbHVlPSIxIjw/cGhwIGVjaG8gKCRtb2RlICYgMDAwMDQpID8gJyBjaGVja2VkJyA6ICcnID8+PjwvbGFiZWw+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJ0ZXh0LWFsaWduOiByaWdodCI+PGI+PD9waHAgZWNobyBsbmcoJ1dyaXRlJykgPz48L2I+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJ1dyIgdmFsdWU9IjEiPD9waHAgZWNobyAoJG1vZGUgJiAwMDIwMCkgPyAnIGNoZWNrZWQnIDogJycgPz4+PC9sYWJlbD48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9Imd3IiB2YWx1ZT0iMSI8P3BocCBlY2hvICgkbW9kZSAmIDAwMDIwKSA/ICcgY2hlY2tlZCcgOiAnJyA/Pj48L2xhYmVsPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0ib3ciIHZhbHVlPSIxIjw/cGhwIGVjaG8gKCRtb2RlICYgMDAwMDIpID8gJyBjaGVja2VkJyA6ICcnID8+PjwvbGFiZWw+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPSJ0ZXh0LWFsaWduOiByaWdodCI+PGI+PD9waHAgZWNobyBsbmcoJ0V4ZWN1dGUnKSA/PjwvYj48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9InV4IiB2YWx1ZT0iMSI8P3BocCBlY2hvICgkbW9kZSAmIDAwMTAwKSA/ICcgY2hlY2tlZCcgOiAnJyA/Pj48L2xhYmVsPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0iZ3giIHZhbHVlPSIxIjw/cGhwIGVjaG8gKCRtb2RlICYgMDAwMTApID8gJyBjaGVja2VkJyA6ICcnID8+PjwvbGFiZWw+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJveCIgdmFsdWU9IjEiPD9waHAgZWNobyAoJG1vZGUgJiAwMDAwMSkgPyAnIGNoZWNrZWQnIDogJycgPz4+PC9sYWJlbD48L3RkPgogICAgICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgICAgIDwvdGFibGU+CgogICAgICAgICAgICAgICAgICAgIDxwPgogICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InRva2VuIiB2YWx1ZT0iPD9waHAgZWNobyAkX1NFU1NJT05bJ3Rva2VuJ107ID8+Ij4gCiAgICAgICAgICAgICAgICAgICAgICAgIDxiPjxhIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+IiBjbGFzcz0iYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkiPjxpIGNsYXNzPSJmYSBmYS10aW1lcy1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0NhbmNlbCcpID8+PC9hPjwvYj4mbmJzcDsKICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MiPjxpIGNsYXNzPSJmYSBmYS1jaGVjay1jaXJjbGUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ0NoYW5nZScpID8+PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9wPgogICAgICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPD9waHAKICAgIGZtX3Nob3dfZm9vdGVyKCk7CiAgICBleGl0Owp9CgovLyAtLS0gVElOWUZJTEVNQU5BR0VSIE1BSU4gLS0tCmZtX3Nob3dfaGVhZGVyKCk7IC8vIEhFQURFUgpmbV9zaG93X25hdl9wYXRoKEZNX1BBVEgpOyAvLyBjdXJyZW50IHBhdGgKCi8vIHNob3cgYWxlcnQgbWVzc2FnZXMKZm1fc2hvd19tZXNzYWdlKCk7CgokbnVtX2ZpbGVzID0gY291bnQoJGZpbGVzKTsKJG51bV9mb2xkZXJzID0gY291bnQoJGZvbGRlcnMpOwokYWxsX2ZpbGVzX3NpemUgPSAwOwokdGFibGVUaGVtZSA9IChGTV9USEVNRSA9PSAiZGFyayIpID8gInRleHQtd2hpdGUgYmctZGFyayB0YWJsZS1kYXJrIiA6ICJiZy13aGl0ZSI7Cj8+Cjxmb3JtIGFjdGlvbj0iIiBtZXRob2Q9InBvc3QiIGNsYXNzPSJwdC0zIj4KICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InAiIHZhbHVlPSI8P3BocCBlY2hvIGZtX2VuYyhGTV9QQVRIKSA/PiI+CiAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJncm91cCIgdmFsdWU9IjEiPgogICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idG9rZW4iIHZhbHVlPSI8P3BocCBlY2hvICRfU0VTU0lPTlsndG9rZW4nXTsgPz4iPgogICAgPGRpdiBjbGFzcz0idGFibGUtcmVzcG9uc2l2ZSI+CiAgICAgICAgPHRhYmxlIGNsYXNzPSJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1ob3ZlciB0YWJsZS1zbSA8P3BocCBlY2hvICR0YWJsZVRoZW1lOyA/PiIgaWQ9Im1haW4tdGFibGUiPgogICAgICAgICAgICA8dGhlYWQgY2xhc3M9InRoZWFkLXdoaXRlIj4KICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9SRUFET05MWSk6ID8+CiAgICAgICAgICAgICAgICAgICAgPHRoIHN0eWxlPSJ3aWR0aDozJSIgY2xhc3M9ImN1c3RvbS1jaGVja2JveC1oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b20tY29udHJvbCBjdXN0b20tY2hlY2tib3giPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBjbGFzcz0iY3VzdG9tLWNvbnRyb2wtaW5wdXQiIGlkPSJqcy1zZWxlY3QtYWxsLWl0ZW1zIiBvbmNsaWNrPSJjaGVja2JveF90b2dnbGUoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9ImN1c3RvbS1jb250cm9sLWxhYmVsIiBmb3I9ImpzLXNlbGVjdC1hbGwtaXRlbXMiPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvdGg+PD9waHAgZW5kaWY7ID8+CiAgICAgICAgICAgICAgICA8dGg+PD9waHAgZWNobyBsbmcoJ05hbWUnKSA/PjwvdGg+CiAgICAgICAgICAgICAgICA8dGg+PD9waHAgZWNobyBsbmcoJ1NpemUnKSA/PjwvdGg+CiAgICAgICAgICAgICAgICA8dGg+PD9waHAgZWNobyBsbmcoJ01vZGlmaWVkJykgPz48L3RoPgogICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9JU19XSU4gJiYgISRoaWRlX0NvbHMpOiA/PgogICAgICAgICAgICAgICAgICAgIDx0aD48P3BocCBlY2hvIGxuZygnUGVybXMnKSA/PjwvdGg+CiAgICAgICAgICAgICAgICAgICAgPHRoPjw/cGhwIGVjaG8gbG5nKCdPd25lcicpID8+PC90aD48P3BocCBlbmRpZjsgPz4KICAgICAgICAgICAgICAgIDx0aD48P3BocCBlY2hvIGxuZygnQWN0aW9ucycpID8+PC90aD4KICAgICAgICAgICAgPC90cj4KICAgICAgICAgICAgPC90aGVhZD4KICAgICAgICAgICAgPD9waHAKICAgICAgICAgICAgLy8gbGluayB0byBwYXJlbnQgZm9sZGVyCiAgICAgICAgICAgIGlmICgkcGFyZW50ICE9PSBmYWxzZSkgewogICAgICAgICAgICAgICAgPz4KICAgICAgICAgICAgICAgIDx0cj48P3BocCBpZiAoIUZNX1JFQURPTkxZKTogPz4KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9Im5vc29ydCI+PC90ZD48P3BocCBlbmRpZjsgPz4KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImJvcmRlci0wIiBkYXRhLXNvcnQ+PGEgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoJHBhcmVudCkgPz4iPjxpIGNsYXNzPSJmYSBmYS1jaGV2cm9uLWNpcmNsZS1sZWZ0IGdvLWJhY2siPjwvaT4gLi48L2E+PC90ZD4KICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImJvcmRlci0wIiBkYXRhLW9yZGVyPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJib3JkZXItMCIgZGF0YS1vcmRlcj48L3RkPgogICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iYm9yZGVyLTAiPjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9JU19XSU4gJiYgISRoaWRlX0NvbHMpIHsgPz4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJib3JkZXItMCI+PC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJib3JkZXItMCI+PC90ZD4KICAgICAgICAgICAgICAgICAgICA8P3BocCB9ID8+CiAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgPD9waHAKICAgICAgICAgICAgfQogICAgICAgICAgICAkaWkgPSAzMzk5OwogICAgICAgICAgICBmb3JlYWNoICgkZm9sZGVycyBhcyAkZikgewogICAgICAgICAgICAgICAgJGlzX2xpbmsgPSBpc19saW5rKCRwYXRoIC4gJy8nIC4gJGYpOwogICAgICAgICAgICAgICAgJGltZyA9ICRpc19saW5rID8gJ2ljb24tbGlua19mb2xkZXInIDogJ2ZhIGZhLWZvbGRlci1vJzsKICAgICAgICAgICAgICAgICRtb2RpZl9yYXcgPSBmaWxlbXRpbWUoJHBhdGggLiAnLycgLiAkZik7CiAgICAgICAgICAgICAgICAkbW9kaWYgPSBkYXRlKEZNX0RBVEVUSU1FX0ZPUk1BVCwgJG1vZGlmX3Jhdyk7CiAgICAgICAgICAgICAgICAkZGF0ZV9zb3J0aW5nID0gc3RydG90aW1lKGRhdGUoIkYgZCBZIEg6aTpzLiIsICRtb2RpZl9yYXcpKTsKICAgICAgICAgICAgICAgICRmaWxlc2l6ZV9yYXcgPSAiIjsKICAgICAgICAgICAgICAgICRmaWxlc2l6ZSA9IGxuZygnRm9sZGVyJyk7CiAgICAgICAgICAgICAgICAkcGVybXMgPSBzdWJzdHIoZGVjb2N0KGZpbGVwZXJtcygkcGF0aCAuICcvJyAuICRmKSksIC00KTsKICAgICAgICAgICAgICAgIGlmIChmdW5jdGlvbl9leGlzdHMoJ3Bvc2l4X2dldHB3dWlkJykgJiYgZnVuY3Rpb25fZXhpc3RzKCdwb3NpeF9nZXRncmdpZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgJG93bmVyID0gcG9zaXhfZ2V0cHd1aWQoZmlsZW93bmVyKCRwYXRoIC4gJy8nIC4gJGYpKTsKICAgICAgICAgICAgICAgICAgICAkZ3JvdXAgPSBwb3NpeF9nZXRncmdpZChmaWxlZ3JvdXAoJHBhdGggLiAnLycgLiAkZikpOwogICAgICAgICAgICAgICAgICAgIGlmICgkb3duZXIgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRvd25lciA9IGFycmF5KCduYW1lJyA9PiAnPycpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJGdyb3VwID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgICAgICAgICAkZ3JvdXAgPSBhcnJheSgnbmFtZScgPT4gJz8nKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICRvd25lciA9IGFycmF5KCduYW1lJyA9PiAnPycpOwogICAgICAgICAgICAgICAgICAgICRncm91cCA9IGFycmF5KCduYW1lJyA9PiAnPycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgPz4KICAgICAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgICAgICA8P3BocCBpZiAoIUZNX1JFQURPTkxZKTogPz4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJjdXN0b20tY2hlY2tib3gtdGQiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjdXN0b20tY29udHJvbCBjdXN0b20tY2hlY2tib3giPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBjbGFzcz0iY3VzdG9tLWNvbnRyb2wtaW5wdXQiIGlkPSI8P3BocCBlY2hvICRpaSA/PiIgbmFtZT0iZmlsZVtdIiB2YWx1ZT0iPD9waHAgZWNobyBmbV9lbmMoJGYpID8+Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0iY3VzdG9tLWNvbnRyb2wtbGFiZWwiIGZvcj0iPD9waHAgZWNobyAkaWkgPz4iPjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L3RkPjw/cGhwIGVuZGlmOyA/PgogICAgICAgICAgICAgICAgICAgIDx0ZCBkYXRhLXNvcnQ9PD9waHAgZWNobyBmbV9jb252ZXJ0X3dpbihmbV9lbmMoJGYpKSA/Pj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZmlsZW5hbWUiPjxhIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCAuICcvJyAuICRmLCAnLycpKSA/PiI+PGkgY2xhc3M9Ijw/cGhwIGVjaG8gJGltZyA/PiI+PC9pPiA8P3BocCBlY2hvIGZtX2NvbnZlcnRfd2luKGZtX2VuYygkZikpID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+PD9waHAgZWNobygkaXNfbGluayA/ICcgJnJhcnI7IDxpPicgLiByZWFkbGluaygkcGF0aCAuICcvJyAuICRmKSAuICc8L2k+JyA6ICcnKSA/PjwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPHRkIGRhdGEtb3JkZXI9ImEtPD9waHAgZWNobyBzdHJfcGFkKCRmaWxlc2l6ZV9yYXcsIDE4LCAiMCIsIFNUUl9QQURfTEVGVCk7Pz4iPgogICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvICRmaWxlc2l6ZTsgPz4KICAgICAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAgICAgICAgIDx0ZCBkYXRhLW9yZGVyPSJhLTw/cGhwIGVjaG8gJGRhdGVfc29ydGluZzs/PiI+PD9waHAgZWNobyAkbW9kaWYgPz48L3RkPgogICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmICghRk1fSVNfV0lOICYmICEkaGlkZV9Db2xzKTogPz4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/PjxhIHRpdGxlPSJDaGFuZ2UgUGVybWlzc2lvbnMiIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+JmFtcDtjaG1vZD08P3BocCBlY2hvIHVybGVuY29kZSgkZikgPz4iPjw/cGhwIGVjaG8gJHBlcm1zID8+PC9hPjw/cGhwIGVsc2U6ID8+PD9waHAgZWNobyAkcGVybXMgPz48P3BocCBlbmRpZjsgPz4KICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjw/cGhwIGVjaG8gJG93bmVyWyduYW1lJ10gLiAnOicgLiAkZ3JvdXBbJ25hbWUnXSA/PjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+CiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJpbmxpbmUtYWN0aW9ucyI+PD9waHAgaWYgKCFGTV9SRUFET05MWSk6ID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0RlbGV0ZScpPz4iIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+JmFtcDtkZWw9PD9waHAgZWNobyB1cmxlbmNvZGUoJGYpID8+IiBvbmNsaWNrPSJjb25maXJtRGFpbG9nKGV2ZW50LCAnMTAyOCcsJzw/cGhwIGVjaG8gbG5nKCdEZWxldGUnKS4nICcubG5nKCdGb2xkZXInKTsgPz4nLCc8P3BocCBlY2hvIHVybGVuY29kZSgkZikgPz4nLCB0aGlzLmhyZWYpOyI+IDxpIGNsYXNzPSJmYSBmYS10cmFzaC1vIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPjwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnUmVuYW1lJyk/PiIgaHJlZj0iIyIgb25jbGljaz0icmVuYW1lKCc8P3BocCBlY2hvIGZtX2VuYyhhZGRzbGFzaGVzKEZNX1BBVEgpKSA/PicsICc8P3BocCBlY2hvIGZtX2VuYyhhZGRzbGFzaGVzKCRmKSkgPz4nKTtyZXR1cm4gZmFsc2U7Ij48aSBjbGFzcz0iZmEgZmEtcGVuY2lsLXNxdWFyZS1vIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPjwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIHRpdGxlPSI8P3BocCBlY2hvIGxuZygnQ29weVRvJyk/Pi4uLiIgaHJlZj0iP3A9JmFtcDtjb3B5PTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCAuICcvJyAuICRmLCAnLycpKSA/PiI+PGkgY2xhc3M9ImZhIGZhLWZpbGVzLW8iIGFyaWEtaGlkZGVuPSJ0cnVlIj48L2k+PC9hPgogICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdEaXJlY3RMaW5rJyk/PiIgaHJlZj0iPD9waHAgZWNobyBmbV9lbmMoRk1fUk9PVF9VUkwgLiAoRk1fUEFUSCAhPSAnJyA/ICcvJyAuIEZNX1BBVEggOiAnJykgLiAnLycgLiAkZiAuICcvJykgPz4iIHRhcmdldD0iX2JsYW5rIj48aSBjbGFzcz0iZmEgZmEtbGluayIgYXJpYS1oaWRkZW49InRydWUiPjwvaT48L2E+CiAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICA8P3BocAogICAgICAgICAgICAgICAgZmx1c2goKTsKICAgICAgICAgICAgICAgICRpaSsrOwogICAgICAgICAgICB9CiAgICAgICAgICAgICRpayA9IDYwNzA7CiAgICAgICAgICAgIGZvcmVhY2ggKCRmaWxlcyBhcyAkZikgewogICAgICAgICAgICAgICAgJGlzX2xpbmsgPSBpc19saW5rKCRwYXRoIC4gJy8nIC4gJGYpOwogICAgICAgICAgICAgICAgJGltZyA9ICRpc19saW5rID8gJ2ZhIGZhLWZpbGUtdGV4dC1vJyA6IGZtX2dldF9maWxlX2ljb25fY2xhc3MoJHBhdGggLiAnLycgLiAkZik7CiAgICAgICAgICAgICAgICAkbW9kaWZfcmF3ID0gZmlsZW10aW1lKCRwYXRoIC4gJy8nIC4gJGYpOwogICAgICAgICAgICAgICAgJG1vZGlmID0gZGF0ZShGTV9EQVRFVElNRV9GT1JNQVQsICRtb2RpZl9yYXcpOwogICAgICAgICAgICAgICAgJGRhdGVfc29ydGluZyA9IHN0cnRvdGltZShkYXRlKCJGIGQgWSBIOmk6cy4iLCAkbW9kaWZfcmF3KSk7CiAgICAgICAgICAgICAgICAkZmlsZXNpemVfcmF3ID0gZm1fZ2V0X3NpemUoJHBhdGggLiAnLycgLiAkZik7CiAgICAgICAgICAgICAgICAkZmlsZXNpemUgPSBmbV9nZXRfZmlsZXNpemUoJGZpbGVzaXplX3Jhdyk7CiAgICAgICAgICAgICAgICAkZmlsZWxpbmsgPSAnP3A9JyAuIHVybGVuY29kZShGTV9QQVRIKSAuICcmYW1wO3ZpZXc9JyAuIHVybGVuY29kZSgkZik7CiAgICAgICAgICAgICAgICAkYWxsX2ZpbGVzX3NpemUgKz0gJGZpbGVzaXplX3JhdzsKICAgICAgICAgICAgICAgICRwZXJtcyA9IHN1YnN0cihkZWNvY3QoZmlsZXBlcm1zKCRwYXRoIC4gJy8nIC4gJGYpKSwgLTQpOwogICAgICAgICAgICAgICAgaWYgKGZ1bmN0aW9uX2V4aXN0cygncG9zaXhfZ2V0cHd1aWQnKSAmJiBmdW5jdGlvbl9leGlzdHMoJ3Bvc2l4X2dldGdyZ2lkJykpIHsKICAgICAgICAgICAgICAgICAgICAkb3duZXIgPSBwb3NpeF9nZXRwd3VpZChmaWxlb3duZXIoJHBhdGggLiAnLycgLiAkZikpOwogICAgICAgICAgICAgICAgICAgICRncm91cCA9IHBvc2l4X2dldGdyZ2lkKGZpbGVncm91cCgkcGF0aCAuICcvJyAuICRmKSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRvd25lciA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJG93bmVyID0gYXJyYXkoJ25hbWUnID0+ICc/Jyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkZ3JvdXAgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRncm91cCA9IGFycmF5KCduYW1lJyA9PiAnPycpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJG93bmVyID0gYXJyYXkoJ25hbWUnID0+ICc/Jyk7CiAgICAgICAgICAgICAgICAgICAgJGdyb3VwID0gYXJyYXkoJ25hbWUnID0+ICc/Jyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICA/PgogICAgICAgICAgICAgICAgPHRyPgogICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/PgogICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9ImN1c3RvbS1jaGVja2JveC10ZCI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImN1c3RvbS1jb250cm9sIGN1c3RvbS1jaGVja2JveCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGNsYXNzPSJjdXN0b20tY29udHJvbC1pbnB1dCIgaWQ9Ijw/cGhwIGVjaG8gJGlrID8+IiBuYW1lPSJmaWxlW10iIHZhbHVlPSI8P3BocCBlY2hvIGZtX2VuYygkZikgPz4iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJjdXN0b20tY29udHJvbC1sYWJlbCIgZm9yPSI8P3BocCBlY2hvICRpayA/PiI+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+PD9waHAgZW5kaWY7ID8+CiAgICAgICAgICAgICAgICAgICAgPHRkIGRhdGEtc29ydD08P3BocCBlY2hvIGZtX2VuYygkZikgPz4+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZpbGVuYW1lIj4KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAKICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluX2FycmF5KHN0cnRvbG93ZXIocGF0aGluZm8oJGYsIFBBVEhJTkZPX0VYVEVOU0lPTikpLCBhcnJheSgnZ2lmJywgJ2pwZycsICdqcGVnJywgJ3BuZycsICdibXAnLCAnaWNvJywgJ3N2ZycsICd3ZWJwJywgJ2F2aWYnKSkpOiA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwICRpbWFnZVByZXZpZXcgPSBmbV9lbmMoRk1fUk9PVF9VUkwgLiAoRk1fUEFUSCAhPSAnJyA/ICcvJyAuIEZNX1BBVEggOiAnJykgLiAnLycgLiAkZik7ID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iPD9waHAgZWNobyAkZmlsZWxpbmsgPz4iIGRhdGEtcHJldmlldy1pbWFnZT0iPD9waHAgZWNobyAkaW1hZ2VQcmV2aWV3ID8+IiB0aXRsZT0iPD9waHAgZWNobyBmbV9lbmMoJGYpID8+Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZWxzZTogPz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSI8P3BocCBlY2hvICRmaWxlbGluayA/PiIgdGl0bGU9Ijw/cGhwIGVjaG8gJGYgPz4iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSI8P3BocCBlY2hvICRpbWcgPz4iPjwvaT4gPD9waHAgZWNobyBmbV9jb252ZXJ0X3dpbihmbV9lbmMoJGYpKSA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvKCRpc19saW5rID8gJyAmcmFycjsgPGk+JyAuIHJlYWRsaW5rKCRwYXRoIC4gJy8nIC4gJGYpIC4gJzwvaT4nIDogJycpID8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPHRkIGRhdGEtb3JkZXI9ImItPD9waHAgZWNobyBzdHJfcGFkKCRmaWxlc2l6ZV9yYXcsIDE4LCAiMCIsIFNUUl9QQURfTEVGVCk7ID8+Ij48c3BhbiB0aXRsZT0iPD9waHAgcHJpbnRmKCclcyBieXRlcycsICRmaWxlc2l6ZV9yYXcpID8+Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgZWNobyAkZmlsZXNpemU7ID8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj48L3RkPgogICAgICAgICAgICAgICAgICAgIDx0ZCBkYXRhLW9yZGVyPSJiLTw/cGhwIGVjaG8gJGRhdGVfc29ydGluZzs/PiI+PD9waHAgZWNobyAkbW9kaWYgPz48L3RkPgogICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmICghRk1fSVNfV0lOICYmICEkaGlkZV9Db2xzKTogPz4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkPjw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/PjxhIHRpdGxlPSI8P3BocCBlY2hvICdDaGFuZ2UgUGVybWlzc2lvbnMnID8+IiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7Y2htb2Q9PD9waHAgZWNobyB1cmxlbmNvZGUoJGYpID8+Ij48P3BocCBlY2hvICRwZXJtcyA/PjwvYT48P3BocCBlbHNlOiA/Pjw/cGhwIGVjaG8gJHBlcm1zID8+PD9waHAgZW5kaWY7ID8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD48P3BocCBlY2hvIGZtX2VuYygkb3duZXJbJ25hbWUnXSAuICc6JyAuICRncm91cFsnbmFtZSddKSA/PjwvdGQ+CiAgICAgICAgICAgICAgICAgICAgPD9waHAgZW5kaWY7ID8+CiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPSJpbmxpbmUtYWN0aW9ucyI+CiAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmICghRk1fUkVBRE9OTFkpOiA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdEZWxldGUnKSA/PiIgaHJlZj0iP3A9PD9waHAgZWNobyB1cmxlbmNvZGUoRk1fUEFUSCkgPz4mYW1wO2RlbD08P3BocCBlY2hvIHVybGVuY29kZSgkZikgPz4iIG9uY2xpY2s9ImNvbmZpcm1EYWlsb2coZXZlbnQsIDEyMDksICc8P3BocCBlY2hvIGxuZygnRGVsZXRlJykuJyAnLmxuZygnRmlsZScpOyA/PicsJzw/cGhwIGVjaG8gdXJsZW5jb2RlKCRmKTsgPz4nLCB0aGlzLmhyZWYpOyI+IDxpIGNsYXNzPSJmYSBmYS10cmFzaC1vIj48L2k+PC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdSZW5hbWUnKSA/PiIgaHJlZj0iIyIgb25jbGljaz0icmVuYW1lKCc8P3BocCBlY2hvIGZtX2VuYyhhZGRzbGFzaGVzKEZNX1BBVEgpKSA/PicsICc8P3BocCBlY2hvIGZtX2VuYyhhZGRzbGFzaGVzKCRmKSkgPz4nKTtyZXR1cm4gZmFsc2U7Ij48aSBjbGFzcz0iZmEgZmEtcGVuY2lsLXNxdWFyZS1vIj48L2k+PC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdDb3B5VG8nKSA/Pi4uLiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9Ij9wPTw/cGhwIGVjaG8gdXJsZW5jb2RlKEZNX1BBVEgpID8+JmFtcDtjb3B5PTw/cGhwIGVjaG8gdXJsZW5jb2RlKHRyaW0oRk1fUEFUSCAuICcvJyAuICRmLCAnLycpKSA/PiI+PGkgY2xhc3M9ImZhIGZhLWZpbGVzLW8iPjwvaT48L2E+CiAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/PgogICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ0RpcmVjdExpbmsnKSA/PiIgaHJlZj0iPD9waHAgZWNobyBmbV9lbmMoRk1fUk9PVF9VUkwgLiAoRk1fUEFUSCAhPSAnJyA/ICcvJyAuIEZNX1BBVEggOiAnJykgLiAnLycgLiAkZikgPz4iIHRhcmdldD0iX2JsYW5rIj48aSBjbGFzcz0iZmEgZmEtbGluayI+PC9pPjwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdEb3dubG9hZCcpID8+IiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7ZGw9PD9waHAgZWNobyB1cmxlbmNvZGUoJGYpID8+IiBvbmNsaWNrPSJjb25maXJtRGFpbG9nKGV2ZW50LCAxMjExLCAnPD9waHAgZWNobyBsbmcoJ0Rvd25sb2FkJyk7ID8+JywnPD9waHAgZWNobyB1cmxlbmNvZGUoJGYpOyA/PicsIHRoaXMuaHJlZik7Ij48aSBjbGFzcz0iZmEgZmEtZG93bmxvYWQiPjwvaT48L2E+CiAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICA8P3BocAogICAgICAgICAgICAgICAgZmx1c2goKTsKICAgICAgICAgICAgICAgICRpaysrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoZW1wdHkoJGZvbGRlcnMpICYmIGVtcHR5KCRmaWxlcykpIHsgPz4KICAgICAgICAgICAgICAgIDx0Zm9vdD4KICAgICAgICAgICAgICAgICAgICA8dHI+PD9waHAgaWYgKCFGTV9SRUFET05MWSk6ID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQ+PC90ZD48P3BocCBlbmRpZjsgPz4KICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49Ijw/cGhwIGVjaG8gKCFGTV9JU19XSU4gJiYgISRoaWRlX0NvbHMpID8gJzYnIDogJzQnID8+Ij48ZW0+PD9waHAgZWNobyBsbmcoJ0ZvbGRlciBpcyBlbXB0eScpID8+PC9lbT48L3RkPgogICAgICAgICAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgICAgICA8L3Rmb290PgogICAgICAgICAgICAgICAgPD9waHAKICAgICAgICAgICAgfSBlbHNlIHsgPz4KICAgICAgICAgICAgICAgIDx0Zm9vdD4KICAgICAgICAgICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0iZ3JheSIgY29sc3Bhbj0iPD9waHAgZWNobyAoIUZNX0lTX1dJTiAmJiAhJGhpZGVfQ29scykgPyAoRk1fUkVBRE9OTFkgPyAnNicgOic3JykgOiAoRk1fUkVBRE9OTFkgPyAnNCcgOiAnNScpID8+Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gbG5nKCdGdWxsU2l6ZScpLic6IDxzcGFuIGNsYXNzPSJiYWRnZSB0ZXh0LWJnLWxpZ2h0IGJvcmRlci1yYWRpdXMtMCI+Jy5mbV9nZXRfZmlsZXNpemUoJGFsbF9maWxlc19zaXplKS4nPC9zcGFuPicgPz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/cGhwIGVjaG8gbG5nKCdGaWxlJykuJzogPHNwYW4gY2xhc3M9ImJhZGdlIHRleHQtYmctbGlnaHQgYm9yZGVyLXJhZGl1cy0wIj4nLiRudW1fZmlsZXMuJzwvc3Bhbj4nID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlY2hvIGxuZygnRm9sZGVyJykuJzogPHNwYW4gY2xhc3M9ImJhZGdlIHRleHQtYmctbGlnaHQgYm9yZGVyLXJhZGl1cy0wIj4nLiRudW1fZm9sZGVycy4nPC9zcGFuPicgPz4KICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgICAgICAgICA8L3RyPgogICAgICAgICAgICAgICAgPC90Zm9vdD4KICAgICAgICAgICAgICAgIDw/cGhwIH0gPz4KICAgICAgICA8L3RhYmxlPgogICAgPC9kaXY+CgogICAgPGRpdiBjbGFzcz0icm93Ij4KICAgICAgICA8P3BocCBpZiAoIUZNX1JFQURPTkxZKTogPz4KICAgICAgICA8ZGl2IGNsYXNzPSJjb2wteHMtMTIgY29sLXNtLTkiPgogICAgICAgICAgICA8dWwgY2xhc3M9Imxpc3QtaW5saW5lIGZvb3Rlci1hY3Rpb24iPgogICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJsaXN0LWlubGluZS1pdGVtIj4gPGEgaHJlZj0iIy9zZWxlY3QtYWxsIiBjbGFzcz0iYnRuIGJ0bi1zbWFsbCBidG4tb3V0bGluZS1wcmltYXJ5IGJ0bi0yIiBvbmNsaWNrPSJzZWxlY3RfYWxsKCk7cmV0dXJuIGZhbHNlOyI+PGkgY2xhc3M9ImZhIGZhLWNoZWNrLXNxdWFyZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnU2VsZWN0QWxsJykgPz4gPC9hPjwvbGk+CiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Imxpc3QtaW5saW5lLWl0ZW0iPjxhIGhyZWY9IiMvdW5zZWxlY3QtYWxsIiBjbGFzcz0iYnRuIGJ0bi1zbWFsbCBidG4tb3V0bGluZS1wcmltYXJ5IGJ0bi0yIiBvbmNsaWNrPSJ1bnNlbGVjdF9hbGwoKTtyZXR1cm4gZmFsc2U7Ij48aSBjbGFzcz0iZmEgZmEtd2luZG93LWNsb3NlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdVblNlbGVjdEFsbCcpID8+IDwvYT48L2xpPgogICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJsaXN0LWlubGluZS1pdGVtIj48YSBocmVmPSIjL2ludmVydC1hbGwiIGNsYXNzPSJidG4gYnRuLXNtYWxsIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLTIiIG9uY2xpY2s9ImludmVydF9hbGwoKTtyZXR1cm4gZmFsc2U7Ij48aSBjbGFzcz0iZmEgZmEtdGgtbGlzdCI+PC9pPiA8P3BocCBlY2hvIGxuZygnSW52ZXJ0U2VsZWN0aW9uJykgPz4gPC9hPjwvbGk+CiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Imxpc3QtaW5saW5lLWl0ZW0iPjxpbnB1dCB0eXBlPSJzdWJtaXQiIGNsYXNzPSJoaWRkZW4iIG5hbWU9ImRvd25sb2FkIiBpZD0iYS1kb3dubG9hZCIgdmFsdWU9IkRvd25sb2FkIiBvbmNsaWNrPSJyZXR1cm4gY29uZmlybSgnPD9waHAgZWNobyBsbmcoJ0Rvd25sb2FkIHNlbGVjdGVkIGZpbGVzIGFuZCBmb2xkZXJzPycpOyA/PicpIj4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhLWRvd25sb2FkJykuY2xpY2soKTsiIGNsYXNzPSJidG4gYnRuLXNtYWxsIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLTIiPjxpIGNsYXNzPSJmYSBmYS1kb3dubG9hZCI+PC9pPiA8P3BocCBlY2hvIGxuZygnRG93bmxvYWQnKSA/PiA8L2E+PC9saT4KICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibGlzdC1pbmxpbmUtaXRlbSI+PGlucHV0IHR5cGU9InN1Ym1pdCIgY2xhc3M9ImhpZGRlbiIgbmFtZT0iZGVsZXRlIiBpZD0iYS1kZWxldGUiIHZhbHVlPSJEZWxldGUiIG9uY2xpY2s9InJldHVybiBjb25maXJtKCc8P3BocCBlY2hvIGxuZygnRGVsZXRlIHNlbGVjdGVkIGZpbGVzIGFuZCBmb2xkZXJzPycpOyA/PicpIj4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhLWRlbGV0ZScpLmNsaWNrKCk7IiBjbGFzcz0iYnRuIGJ0bi1zbWFsbCBidG4tb3V0bGluZS1wcmltYXJ5IGJ0bi0yIj48aSBjbGFzcz0iZmEgZmEtdHJhc2giPjwvaT4gPD9waHAgZWNobyBsbmcoJ0RlbGV0ZScpID8+IDwvYT48L2xpPgogICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJsaXN0LWlubGluZS1pdGVtIj48aW5wdXQgdHlwZT0ic3VibWl0IiBjbGFzcz0iaGlkZGVuIiBuYW1lPSJ6aXAiIGlkPSJhLXppcCIgdmFsdWU9InppcCIgb25jbGljaz0icmV0dXJuIGNvbmZpcm0oJzw/cGhwIGVjaG8gbG5nKCdDcmVhdGUgYXJjaGl2ZT8nKTsgPz4nKSI+CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYS16aXAnKS5jbGljaygpOyIgY2xhc3M9ImJ0biBidG4tc21hbGwgYnRuLW91dGxpbmUtcHJpbWFyeSBidG4tMiI+PGkgY2xhc3M9ImZhIGZhLWZpbGUtYXJjaGl2ZS1vIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdaaXAnKSA/PiA8L2E+PC9saT4KICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibGlzdC1pbmxpbmUtaXRlbSI+PGlucHV0IHR5cGU9InN1Ym1pdCIgY2xhc3M9ImhpZGRlbiIgbmFtZT0idGFyIiBpZD0iYS10YXIiIHZhbHVlPSJ0YXIiIG9uY2xpY2s9InJldHVybiBjb25maXJtKCc8P3BocCBlY2hvIGxuZygnQ3JlYXRlIGFyY2hpdmU/Jyk7ID8+JykiPgogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9ImphdmFzY3JpcHQ6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2EtdGFyJykuY2xpY2soKTsiIGNsYXNzPSJidG4gYnRuLXNtYWxsIGJ0bi1vdXRsaW5lLXByaW1hcnkgYnRuLTIiPjxpIGNsYXNzPSJmYSBmYS1maWxlLWFyY2hpdmUtbyI+PC9pPiA8P3BocCBlY2hvIGxuZygnVGFyJykgPz4gPC9hPjwvbGk+CiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Imxpc3QtaW5saW5lLWl0ZW0iPjxpbnB1dCB0eXBlPSJzdWJtaXQiIGNsYXNzPSJoaWRkZW4iIG5hbWU9ImNvcHkiIGlkPSJhLWNvcHkiIHZhbHVlPSJDb3B5Ij4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhLWNvcHknKS5jbGljaygpOyIgY2xhc3M9ImJ0biBidG4tc21hbGwgYnRuLW91dGxpbmUtcHJpbWFyeSBidG4tMiI+PGkgY2xhc3M9ImZhIGZhLWZpbGVzLW8iPjwvaT4gPD9waHAgZWNobyBsbmcoJ0NvcHknKSA/PiA8L2E+PC9saT4KICAgICAgICAgICAgPC91bD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJjb2wtMyBkLW5vbmUgZC1zbS1ibG9jayI+PGEgaHJlZj0iaHR0cHM6Ly90aW55ZmlsZW1hbmFnZXIuZ2l0aHViLmlvIiB0YXJnZXQ9Il9ibGFuayIgY2xhc3M9ImZsb2F0LXJpZ2h0IHRleHQtbXV0ZWQiPlRpbnkgRmlsZSBNYW5hZ2VyIDw/cGhwIGVjaG8gVkVSU0lPTjsgPz48L2E+PC9kaXY+CiAgICAgICAgPD9waHAgZWxzZTogPz4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLTEyIj48YSBocmVmPSJodHRwczovL3RpbnlmaWxlbWFuYWdlci5naXRodWIuaW8iIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iZmxvYXQtcmlnaHQgdGV4dC1tdXRlZCI+VGlueSBGaWxlIE1hbmFnZXIgPD9waHAgZWNobyBWRVJTSU9OOyA/PjwvYT48L2Rpdj4KICAgICAgICA8P3BocCBlbmRpZjsgPz4KICAgIDwvZGl2Pgo8L2Zvcm0+Cgo8P3BocApmbV9zaG93X2Zvb3RlcigpOwoKLy8gLS0tIEVORCBIVE1MIC0tLQoKLy8gRnVuY3Rpb25zCgovKioKICogSXQgcHJpbnRzIHRoZSBjc3MvanMgZmlsZXMgaW50byBodG1sCiAqIEBwYXJhbSBrZXkgVGhlIGtleSBvZiB0aGUgZXh0ZXJuYWwgZmlsZSB0byBwcmludC4KICovCmZ1bmN0aW9uIHByaW50X2V4dGVybmFsKCRrZXkpIHsKICAgIGdsb2JhbCAkZXh0ZXJuYWw7CgogICAgaWYoIWFycmF5X2tleV9leGlzdHMoJGtleSwgJGV4dGVybmFsKSkgewogICAgICAgIC8vIHRocm93IG5ldyBFeGNlcHRpb24oJ0tleSBtaXNzaW5nIGluIGV4dGVybmFsOiAnIC4ga2V5KTsKICAgICAgICBlY2hvICI8IS0tIEVYVEVSTkFMOiBNSVNTSU5HIEtFWSAka2V5IC0tPiI7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGVjaG8gIiRleHRlcm5hbFska2V5XSI7Cn0KCi8qKgogKiBWZXJpZnkgQ1NSRiBUT0tFTiBhbmQgcmVtb3ZlIGFmdGVyIGNlcnRpZmllZAogKiBAcGFyYW0gc3RyaW5nICR0b2tlbgogKiBAcmV0dXJuIGJvb2wKICovCmZ1bmN0aW9uIHZlcmlmeVRva2VuKCR0b2tlbikgCnsKICAgIGlmIChoYXNoX2VxdWFscygkX1NFU1NJT05bJ3Rva2VuJ10sICR0b2tlbikpIHsgCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICByZXR1cm4gZmFsc2U7Cn0KCi8qKgogKiBEZWxldGUgIGZpbGUgb3IgZm9sZGVyIChyZWN1cnNpdmVseSkKICogQHBhcmFtIHN0cmluZyAkcGF0aAogKiBAcmV0dXJuIGJvb2wKICovCmZ1bmN0aW9uIGZtX3JkZWxldGUoJHBhdGgpCnsKICAgIGlmIChpc19saW5rKCRwYXRoKSkgewogICAgICAgIHJldHVybiB1bmxpbmsoJHBhdGgpOwogICAgfSBlbHNlaWYgKGlzX2RpcigkcGF0aCkpIHsKICAgICAgICAkb2JqZWN0cyA9IHNjYW5kaXIoJHBhdGgpOwogICAgICAgICRvayA9IHRydWU7CiAgICAgICAgaWYgKGlzX2FycmF5KCRvYmplY3RzKSkgewogICAgICAgICAgICBmb3JlYWNoICgkb2JqZWN0cyBhcyAkZmlsZSkgewogICAgICAgICAgICAgICAgaWYgKCRmaWxlICE9ICcuJyAmJiAkZmlsZSAhPSAnLi4nKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFmbV9yZGVsZXRlKCRwYXRoIC4gJy8nIC4gJGZpbGUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRvayA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gKCRvaykgPyBybWRpcigkcGF0aCkgOiBmYWxzZTsKICAgIH0gZWxzZWlmIChpc19maWxlKCRwYXRoKSkgewogICAgICAgIHJldHVybiB1bmxpbmsoJHBhdGgpOwogICAgfQogICAgcmV0dXJuIGZhbHNlOwp9CgovKioKICogUmVjdXJzaXZlIGNobW9kCiAqIEBwYXJhbSBzdHJpbmcgJHBhdGgKICogQHBhcmFtIGludCAkZmlsZW1vZGUKICogQHBhcmFtIGludCAkZGlybW9kZQogKiBAcmV0dXJuIGJvb2wKICogQHRvZG8gV2lsbCB1c2UgaW4gbWFzcyBjaG1vZAogKi8KZnVuY3Rpb24gZm1fcmNobW9kKCRwYXRoLCAkZmlsZW1vZGUsICRkaXJtb2RlKQp7CiAgICBpZiAoaXNfZGlyKCRwYXRoKSkgewogICAgICAgIGlmICghY2htb2QoJHBhdGgsICRkaXJtb2RlKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgICRvYmplY3RzID0gc2NhbmRpcigkcGF0aCk7CiAgICAgICAgaWYgKGlzX2FycmF5KCRvYmplY3RzKSkgewogICAgICAgICAgICBmb3JlYWNoICgkb2JqZWN0cyBhcyAkZmlsZSkgewogICAgICAgICAgICAgICAgaWYgKCRmaWxlICE9ICcuJyAmJiAkZmlsZSAhPSAnLi4nKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFmbV9yY2htb2QoJHBhdGggLiAnLycgLiAkZmlsZSwgJGZpbGVtb2RlLCAkZGlybW9kZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gZWxzZWlmIChpc19saW5rKCRwYXRoKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgfSBlbHNlaWYgKGlzX2ZpbGUoJHBhdGgpKSB7CiAgICAgICAgcmV0dXJuIGNobW9kKCRwYXRoLCAkZmlsZW1vZGUpOwogICAgfQogICAgcmV0dXJuIGZhbHNlOwp9CgovKioKICogQ2hlY2sgdGhlIGZpbGUgZXh0ZW5zaW9uIHdoaWNoIGlzIGFsbG93ZWQgb3Igbm90CiAqIEBwYXJhbSBzdHJpbmcgJGZpbGVuYW1lCiAqIEByZXR1cm4gYm9vbAogKi8KZnVuY3Rpb24gZm1faXNfdmFsaWRfZXh0KCRmaWxlbmFtZSkKewogICAgJGFsbG93ZWQgPSAoRk1fRklMRV9FWFRFTlNJT04pID8gZXhwbG9kZSgnLCcsIEZNX0ZJTEVfRVhURU5TSU9OKSA6IGZhbHNlOwoKICAgICRleHQgPSBwYXRoaW5mbygkZmlsZW5hbWUsIFBBVEhJTkZPX0VYVEVOU0lPTik7CiAgICAkaXNGaWxlQWxsb3dlZCA9ICgkYWxsb3dlZCkgPyBpbl9hcnJheSgkZXh0LCAkYWxsb3dlZCkgOiB0cnVlOwoKICAgIHJldHVybiAoJGlzRmlsZUFsbG93ZWQpID8gdHJ1ZSA6IGZhbHNlOwp9CgovKioKICogU2FmZWx5IHJlbmFtZQogKiBAcGFyYW0gc3RyaW5nICRvbGQKICogQHBhcmFtIHN0cmluZyAkbmV3CiAqIEByZXR1cm4gYm9vbHxudWxsCiAqLwpmdW5jdGlvbiBmbV9yZW5hbWUoJG9sZCwgJG5ldykKewogICAgJGlzRmlsZUFsbG93ZWQgPSBmbV9pc192YWxpZF9leHQoJG5ldyk7CgogICAgaWYoIWlzX2Rpcigkb2xkKSkgewogICAgICAgIGlmICghJGlzRmlsZUFsbG93ZWQpIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICByZXR1cm4gKCFmaWxlX2V4aXN0cygkbmV3KSAmJiBmaWxlX2V4aXN0cygkb2xkKSkgPyByZW5hbWUoJG9sZCwgJG5ldykgOiBudWxsOwp9CgovKioKICogQ29weSBmaWxlIG9yIGZvbGRlciAocmVjdXJzaXZlbHkpLgogKiBAcGFyYW0gc3RyaW5nICRwYXRoCiAqIEBwYXJhbSBzdHJpbmcgJGRlc3QKICogQHBhcmFtIGJvb2wgJHVwZCBVcGRhdGUgZmlsZXMKICogQHBhcmFtIGJvb2wgJGZvcmNlIENyZWF0ZSBmb2xkZXIgd2l0aCBzYW1lIG5hbWVzIGluc3RlYWQgZmlsZQogKiBAcmV0dXJuIGJvb2wKICovCmZ1bmN0aW9uIGZtX3Jjb3B5KCRwYXRoLCAkZGVzdCwgJHVwZCA9IHRydWUsICRmb3JjZSA9IHRydWUpCnsKICAgIGlmIChpc19kaXIoJHBhdGgpKSB7CiAgICAgICAgaWYgKCFmbV9ta2RpcigkZGVzdCwgJGZvcmNlKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgICRvYmplY3RzID0gc2NhbmRpcigkcGF0aCk7CiAgICAgICAgJG9rID0gdHJ1ZTsKICAgICAgICBpZiAoaXNfYXJyYXkoJG9iamVjdHMpKSB7CiAgICAgICAgICAgIGZvcmVhY2ggKCRvYmplY3RzIGFzICRmaWxlKSB7CiAgICAgICAgICAgICAgICBpZiAoJGZpbGUgIT0gJy4nICYmICRmaWxlICE9ICcuLicpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIWZtX3Jjb3B5KCRwYXRoIC4gJy8nIC4gJGZpbGUsICRkZXN0IC4gJy8nIC4gJGZpbGUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRvayA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gJG9rOwogICAgfSBlbHNlaWYgKGlzX2ZpbGUoJHBhdGgpKSB7CiAgICAgICAgcmV0dXJuIGZtX2NvcHkoJHBhdGgsICRkZXN0LCAkdXBkKTsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKfQoKLyoqCiAqIFNhZmVseSBjcmVhdGUgZm9sZGVyCiAqIEBwYXJhbSBzdHJpbmcgJGRpcgogKiBAcGFyYW0gYm9vbCAkZm9yY2UKICogQHJldHVybiBib29sCiAqLwpmdW5jdGlvbiBmbV9ta2RpcigkZGlyLCAkZm9yY2UpCnsKICAgIGlmIChmaWxlX2V4aXN0cygkZGlyKSkgewogICAgICAgIGlmIChpc19kaXIoJGRpcikpIHsKICAgICAgICAgICAgcmV0dXJuICRkaXI7CiAgICAgICAgfSBlbHNlaWYgKCEkZm9yY2UpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICB1bmxpbmsoJGRpcik7CiAgICB9CiAgICByZXR1cm4gbWtkaXIoJGRpciwgMDc3NywgdHJ1ZSk7Cn0KCi8qKgogKiBTYWZlbHkgY29weSBmaWxlCiAqIEBwYXJhbSBzdHJpbmcgJGYxCiAqIEBwYXJhbSBzdHJpbmcgJGYyCiAqIEBwYXJhbSBib29sICR1cGQgSW5kaWNhdGVzIGlmIGZpbGUgc2hvdWxkIGJlIHVwZGF0ZWQgd2l0aCBuZXcgY29udGVudAogKiBAcmV0dXJuIGJvb2wKICovCmZ1bmN0aW9uIGZtX2NvcHkoJGYxLCAkZjIsICR1cGQpCnsKICAgICR0aW1lMSA9IGZpbGVtdGltZSgkZjEpOwogICAgaWYgKGZpbGVfZXhpc3RzKCRmMikpIHsKICAgICAgICAkdGltZTIgPSBmaWxlbXRpbWUoJGYyKTsKICAgICAgICBpZiAoJHRpbWUyID49ICR0aW1lMSAmJiAkdXBkKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CiAgICAkb2sgPSBjb3B5KCRmMSwgJGYyKTsKICAgIGlmICgkb2spIHsKICAgICAgICB0b3VjaCgkZjIsICR0aW1lMSk7CiAgICB9CiAgICByZXR1cm4gJG9rOwp9CgovKioKICogR2V0IG1pbWUgdHlwZQogKiBAcGFyYW0gc3RyaW5nICRmaWxlX3BhdGgKICogQHJldHVybiBtaXhlZHxzdHJpbmcKICovCmZ1bmN0aW9uIGZtX2dldF9taW1lX3R5cGUoJGZpbGVfcGF0aCkKewogICAgaWYgKGZ1bmN0aW9uX2V4aXN0cygnZmluZm9fb3BlbicpKSB7CiAgICAgICAgJGZpbmZvID0gZmluZm9fb3BlbihGSUxFSU5GT19NSU1FX1RZUEUpOwogICAgICAgICRtaW1lID0gZmluZm9fZmlsZSgkZmluZm8sICRmaWxlX3BhdGgpOwogICAgICAgIGZpbmZvX2Nsb3NlKCRmaW5mbyk7CiAgICAgICAgcmV0dXJuICRtaW1lOwogICAgfSBlbHNlaWYgKGZ1bmN0aW9uX2V4aXN0cygnbWltZV9jb250ZW50X3R5cGUnKSkgewogICAgICAgIHJldHVybiBtaW1lX2NvbnRlbnRfdHlwZSgkZmlsZV9wYXRoKTsKICAgIH0gZWxzZWlmICghc3RyaXN0cihpbmlfZ2V0KCdkaXNhYmxlX2Z1bmN0aW9ucycpLCAnc2hlbGxfZXhlYycpKSB7CiAgICAgICAgJGZpbGUgPSBlc2NhcGVzaGVsbGFyZygkZmlsZV9wYXRoKTsKICAgICAgICAkbWltZSA9IHNoZWxsX2V4ZWMoJ2ZpbGUgLWJpICcgLiAkZmlsZSk7CiAgICAgICAgcmV0dXJuICRtaW1lOwogICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJy0tJzsKICAgIH0KfQoKLyoqCiAqIEhUVFAgUmVkaXJlY3QKICogQHBhcmFtIHN0cmluZyAkdXJsCiAqIEBwYXJhbSBpbnQgJGNvZGUKICovCmZ1bmN0aW9uIGZtX3JlZGlyZWN0KCR1cmwsICRjb2RlID0gMzAyKQp7CiAgICBoZWFkZXIoJ0xvY2F0aW9uOiAnIC4gJHVybCwgdHJ1ZSwgJGNvZGUpOwogICAgZXhpdDsKfQoKLyoqCiAqIFBhdGggdHJhdmVyc2FsIHByZXZlbnRpb24gYW5kIGNsZWFuIHRoZSB1cmwKICogSXQgcmVwbGFjZXMgKGNvbnNlY3V0aXZlKSBvY2N1cnJlbmNlcyBvZiAvIGFuZCBcXCB3aXRoIHdoYXRldmVyIGlzIGluIERJUkVDVE9SWV9TRVBBUkFUT1IsIGFuZCBwcm9jZXNzZXMgLy4gYW5kIC8uLiBmaW5lLgogKiBAcGFyYW0gJHBhdGgKICogQHJldHVybiBzdHJpbmcKICovCmZ1bmN0aW9uIGdldF9hYnNvbHV0ZV9wYXRoKCRwYXRoKSB7CiAgICAkcGF0aCA9IHN0cl9yZXBsYWNlKGFycmF5KCcvJywgJ1xcJyksIERJUkVDVE9SWV9TRVBBUkFUT1IsICRwYXRoKTsKICAgICRwYXJ0cyA9IGFycmF5X2ZpbHRlcihleHBsb2RlKERJUkVDVE9SWV9TRVBBUkFUT1IsICRwYXRoKSwgJ3N0cmxlbicpOwogICAgJGFic29sdXRlcyA9IGFycmF5KCk7CiAgICBmb3JlYWNoICgkcGFydHMgYXMgJHBhcnQpIHsKICAgICAgICBpZiAoJy4nID09ICRwYXJ0KSBjb250aW51ZTsKICAgICAgICBpZiAoJy4uJyA9PSAkcGFydCkgewogICAgICAgICAgICBhcnJheV9wb3AoJGFic29sdXRlcyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJGFic29sdXRlc1tdID0gJHBhcnQ7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIGltcGxvZGUoRElSRUNUT1JZX1NFUEFSQVRPUiwgJGFic29sdXRlcyk7Cn0KCi8qKgogKiBDbGVhbiBwYXRoCiAqIEBwYXJhbSBzdHJpbmcgJHBhdGgKICogQHJldHVybiBzdHJpbmcKICovCmZ1bmN0aW9uIGZtX2NsZWFuX3BhdGgoJHBhdGgsICR0cmltID0gdHJ1ZSkKewogICAgJHBhdGggPSAkdHJpbSA/IHRyaW0oJHBhdGgpIDogJHBhdGg7CiAgICAkcGF0aCA9IHRyaW0oJHBhdGgsICdcXC8nKTsKICAgICRwYXRoID0gc3RyX3JlcGxhY2UoYXJyYXkoJy4uLycsICcuLlxcJyksICcnLCAkcGF0aCk7CiAgICAkcGF0aCA9ICBnZXRfYWJzb2x1dGVfcGF0aCgkcGF0aCk7CiAgICBpZiAoJHBhdGggPT0gJy4uJykgewogICAgICAgICRwYXRoID0gJyc7CiAgICB9CiAgICByZXR1cm4gc3RyX3JlcGxhY2UoJ1xcJywgJy8nLCAkcGF0aCk7Cn0KCi8qKgogKiBHZXQgcGFyZW50IHBhdGgKICogQHBhcmFtIHN0cmluZyAkcGF0aAogKiBAcmV0dXJuIGJvb2x8c3RyaW5nCiAqLwpmdW5jdGlvbiBmbV9nZXRfcGFyZW50X3BhdGgoJHBhdGgpCnsKICAgICRwYXRoID0gZm1fY2xlYW5fcGF0aCgkcGF0aCk7CiAgICBpZiAoJHBhdGggIT0gJycpIHsKICAgICAgICAkYXJyYXkgPSBleHBsb2RlKCcvJywgJHBhdGgpOwogICAgICAgIGlmIChjb3VudCgkYXJyYXkpID4gMSkgewogICAgICAgICAgICAkYXJyYXkgPSBhcnJheV9zbGljZSgkYXJyYXksIDAsIC0xKTsKICAgICAgICAgICAgcmV0dXJuIGltcGxvZGUoJy8nLCAkYXJyYXkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gJyc7CiAgICB9CiAgICByZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGZtX2dldF9kaXNwbGF5X3BhdGgoJGZpbGVfcGF0aCkKewogICAgZ2xvYmFsICRwYXRoX2Rpc3BsYXlfbW9kZSwgJHJvb3RfcGF0aCwgJHJvb3RfdXJsOwogICAgc3dpdGNoICgkcGF0aF9kaXNwbGF5X21vZGUpIHsKICAgICAgICBjYXNlICdyZWxhdGl2ZSc6CiAgICAgICAgICAgIHJldHVybiBhcnJheSgKICAgICAgICAgICAgICAgICdsYWJlbCcgPT4gJ1BhdGgnLAogICAgICAgICAgICAgICAgJ3BhdGgnID0+IGZtX2VuYyhmbV9jb252ZXJ0X3dpbihzdHJfcmVwbGFjZSgkcm9vdF9wYXRoLCAnJywgJGZpbGVfcGF0aCkpKQogICAgICAgICAgICApOwogICAgICAgIGNhc2UgJ2hvc3QnOgogICAgICAgICAgICAkcmVsYXRpdmVfcGF0aCA9IHN0cl9yZXBsYWNlKCRyb290X3BhdGgsICcnLCAkZmlsZV9wYXRoKTsKICAgICAgICAgICAgcmV0dXJuIGFycmF5KAogICAgICAgICAgICAgICAgJ2xhYmVsJyA9PiAnSG9zdCBQYXRoJywKICAgICAgICAgICAgICAgICdwYXRoJyA9PiBmbV9lbmMoZm1fY29udmVydF93aW4oJy8nIC4gJHJvb3RfdXJsIC4gJy8nIC4gbHRyaW0oc3RyX3JlcGxhY2UoJ1xcJywgJy8nLCAkcmVsYXRpdmVfcGF0aCksICcvJykpKQogICAgICAgICAgICApOwogICAgICAgIGNhc2UgJ2Z1bGwnOgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiBhcnJheSgKICAgICAgICAgICAgICAgICdsYWJlbCcgPT4gJ0Z1bGwgUGF0aCcsCiAgICAgICAgICAgICAgICAncGF0aCcgPT4gZm1fZW5jKGZtX2NvbnZlcnRfd2luKCRmaWxlX3BhdGgpKQogICAgICAgICAgICApOwogICAgfQp9CgovKioKICogQ2hlY2sgZmlsZSBpcyBpbiBleGNsdWRlIGxpc3QKICogQHBhcmFtIHN0cmluZyAkZmlsZQogKiBAcmV0dXJuIGJvb2wKICovCmZ1bmN0aW9uIGZtX2lzX2V4Y2x1ZGVfaXRlbXMoJGZpbGUpIHsKICAgICRleHQgPSBzdHJ0b2xvd2VyKHBhdGhpbmZvKCRmaWxlLCBQQVRISU5GT19FWFRFTlNJT04pKTsKICAgIGlmIChpc3NldCgkZXhjbHVkZV9pdGVtcykgYW5kIHNpemVvZigkZXhjbHVkZV9pdGVtcykpIHsKICAgICAgICB1bnNldCgkZXhjbHVkZV9pdGVtcyk7CiAgICB9CgogICAgJGV4Y2x1ZGVfaXRlbXMgPSBGTV9FWENMVURFX0lURU1TOwogICAgaWYgKHZlcnNpb25fY29tcGFyZShQSFBfVkVSU0lPTiwgJzcuMC4wJywgJzwnKSkgewogICAgICAgICRleGNsdWRlX2l0ZW1zID0gdW5zZXJpYWxpemUoJGV4Y2x1ZGVfaXRlbXMpOwogICAgfQogICAgaWYgKCFpbl9hcnJheSgkZmlsZSwgJGV4Y2x1ZGVfaXRlbXMpICYmICFpbl9hcnJheSgiKi4kZXh0IiwgJGV4Y2x1ZGVfaXRlbXMpKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICByZXR1cm4gZmFsc2U7Cn0KCi8qKgogKiBnZXQgbGFuZ3VhZ2UgdHJhbnNsYXRpb25zIGZyb20ganNvbiBmaWxlCiAqIEBwYXJhbSBpbnQgJHRyCiAqIEByZXR1cm4gYXJyYXkKICovCmZ1bmN0aW9uIGZtX2dldF90cmFuc2xhdGlvbnMoJHRyKSB7CiAgICB0cnkgewogICAgICAgICRjb250ZW50ID0gQGZpbGVfZ2V0X2NvbnRlbnRzKCd0cmFuc2xhdGlvbi5qc29uJyk7CiAgICAgICAgaWYoJGNvbnRlbnQgIT09IEZBTFNFKSB7CiAgICAgICAgICAgICRsbmcgPSBqc29uX2RlY29kZSgkY29udGVudCwgVFJVRSk7CiAgICAgICAgICAgIGdsb2JhbCAkbGFuZ19saXN0OwogICAgICAgICAgICBmb3JlYWNoICgkbG5nWyJsYW5ndWFnZSJdIGFzICRrZXkgPT4gJHZhbHVlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkY29kZSA9ICR2YWx1ZVsiY29kZSJdOwogICAgICAgICAgICAgICAgJGxhbmdfbGlzdFskY29kZV0gPSAkdmFsdWVbIm5hbWUiXTsKICAgICAgICAgICAgICAgIGlmICgkdHIpCiAgICAgICAgICAgICAgICAgICAgJHRyWyRjb2RlXSA9ICR2YWx1ZVsidHJhbnNsYXRpb24iXTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gJHRyOwogICAgICAgIH0KCiAgICB9CiAgICBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CiAgICAgICAgZWNobyAkZTsKICAgIH0KfQoKLyoqCiAqIEBwYXJhbSBzdHJpbmcgJGZpbGUKICogUmVjb3ZlciBhbGwgZmlsZSBzaXplcyBsYXJnZXIgdGhhbiA+IDJHQi4KICogV29ya3Mgb24gcGhwIDMyYml0cyBhbmQgNjRiaXRzIGFuZCBzdXBwb3J0cyBsaW51eAogKiBAcmV0dXJuIGludHxzdHJpbmcKICovCmZ1bmN0aW9uIGZtX2dldF9zaXplKCRmaWxlKQp7CiAgICBzdGF0aWMgJGlzd2luOwogICAgc3RhdGljICRpc2RhcndpbjsKICAgIGlmICghaXNzZXQoJGlzd2luKSkgewogICAgICAgICRpc3dpbiA9IChzdHJ0b3VwcGVyKHN1YnN0cihQSFBfT1MsIDAsIDMpKSA9PSAnV0lOJyk7CiAgICB9CiAgICBpZiAoIWlzc2V0KCRpc2RhcndpbikpIHsKICAgICAgICAkaXNkYXJ3aW4gPSAoc3RydG91cHBlcihzdWJzdHIoUEhQX09TLCAwKSkgPT0gIkRBUldJTiIpOwogICAgfQoKICAgIHN0YXRpYyAkZXhlY193b3JrczsKICAgIGlmICghaXNzZXQoJGV4ZWNfd29ya3MpKSB7CiAgICAgICAgJGV4ZWNfd29ya3MgPSAoZnVuY3Rpb25fZXhpc3RzKCdleGVjJykgJiYgIWluaV9nZXQoJ3NhZmVfbW9kZScpICYmIEBleGVjKCdlY2hvIEVYRUMnKSA9PSAnRVhFQycpOwogICAgfQoKICAgIC8vIHRyeSBhIHNoZWxsIGNvbW1hbmQKICAgIGlmICgkZXhlY193b3JrcykgewogICAgICAgICRhcmcgPSBlc2NhcGVzaGVsbGFyZygkZmlsZSk7CiAgICAgICAgJGNtZCA9ICgkaXN3aW4pID8gImZvciAlRiBpbiAoXCIkZmlsZVwiKSBkbyBAZWNobyAlfnpGIiA6ICgkaXNkYXJ3aW4gPyAic3RhdCAtZiV6ICRhcmciIDogInN0YXQgLWMlcyAkYXJnIik7CiAgICAgICAgQGV4ZWMoJGNtZCwgJG91dHB1dCk7CiAgICAgICAgaWYgKGlzX2FycmF5KCRvdXRwdXQpICYmIGN0eXBlX2RpZ2l0KCRzaXplID0gdHJpbShpbXBsb2RlKCJcbiIsICRvdXRwdXQpKSkpIHsKICAgICAgICAgICAgcmV0dXJuICRzaXplOwogICAgICAgIH0KICAgIH0KCiAgICAvLyB0cnkgdGhlIFdpbmRvd3MgQ09NIGludGVyZmFjZQogICAgaWYgKCRpc3dpbiAmJiBjbGFzc19leGlzdHMoIkNPTSIpKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJGZzb2JqID0gbmV3IENPTSgnU2NyaXB0aW5nLkZpbGVTeXN0ZW1PYmplY3QnKTsKICAgICAgICAgICAgJGYgPSAkZnNvYmotPkdldEZpbGUoIHJlYWxwYXRoKCRmaWxlKSApOwogICAgICAgICAgICAkc2l6ZSA9ICRmLT5TaXplOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgICAgICAgICAkc2l6ZSA9IG51bGw7CiAgICAgICAgfQogICAgICAgIGlmIChjdHlwZV9kaWdpdCgkc2l6ZSkpIHsKICAgICAgICAgICAgcmV0dXJuICRzaXplOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBpZiBhbGwgZWxzZSBmYWlscwogICAgcmV0dXJuIGZpbGVzaXplKCRmaWxlKTsKfQoKLyoqCiAqIEdldCBuaWNlIGZpbGVzaXplCiAqIEBwYXJhbSBpbnQgJHNpemUKICogQHJldHVybiBzdHJpbmcKICovCmZ1bmN0aW9uIGZtX2dldF9maWxlc2l6ZSgkc2l6ZSkKewogICAgJHNpemUgPSAoZmxvYXQpICRzaXplOwogICAgJHVuaXRzID0gYXJyYXkoJ0InLCAnS0InLCAnTUInLCAnR0InLCAnVEInLCAnUEInLCAnRUInLCAnWkInLCAnWUInKTsKICAgICRwb3dlciA9ICgkc2l6ZSA+IDApID8gZmxvb3IobG9nKCRzaXplLCAxMDI0KSkgOiAwOwogICAgJHBvd2VyID0gKCRwb3dlciA+IChjb3VudCgkdW5pdHMpIC0gMSkpID8gKGNvdW50KCR1bml0cykgLSAxKSA6ICRwb3dlcjsKICAgIHJldHVybiBzcHJpbnRmKCclcyAlcycsIHJvdW5kKCRzaXplIC8gcG93KDEwMjQsICRwb3dlciksIDIpLCAkdW5pdHNbJHBvd2VyXSk7Cn0KCi8qKgogKiBHZXQgdG90YWwgc2l6ZSBvZiBkaXJlY3RvcnkgdHJlZS4KICoKICogQHBhcmFtICBzdHJpbmcgJGRpcmVjdG9yeSBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBkaXJlY3RvcnkgbmFtZS4KICogQHJldHVybiBpbnQgVG90YWwgbnVtYmVyIG9mIGJ5dGVzLgogKi8KZnVuY3Rpb24gZm1fZ2V0X2RpcmVjdG9yeXNpemUoJGRpcmVjdG9yeSkgewogICAgJGJ5dGVzID0gMDsKICAgICRkaXJlY3RvcnkgPSByZWFscGF0aCgkZGlyZWN0b3J5KTsKICAgIGlmICgkZGlyZWN0b3J5ICE9PSBmYWxzZSAmJiAkZGlyZWN0b3J5ICE9ICcnICYmIGZpbGVfZXhpc3RzKCRkaXJlY3RvcnkpKXsKICAgICAgICBmb3JlYWNoKG5ldyBSZWN1cnNpdmVJdGVyYXRvckl0ZXJhdG9yKG5ldyBSZWN1cnNpdmVEaXJlY3RvcnlJdGVyYXRvcigkZGlyZWN0b3J5LCBGaWxlc3lzdGVtSXRlcmF0b3I6OlNLSVBfRE9UUykpIGFzICRmaWxlKXsKICAgICAgICAgICAgJGJ5dGVzICs9ICRmaWxlLT5nZXRTaXplKCk7CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuICRieXRlczsKfQoKLyoqCiAqIEdldCBpbmZvIGFib3V0IHppcCBhcmNoaXZlCiAqIEBwYXJhbSBzdHJpbmcgJHBhdGgKICogQHJldHVybiBhcnJheXxib29sCiAqLwpmdW5jdGlvbiBmbV9nZXRfemlmX2luZm8oJHBhdGgsICRleHQpIHsKICAgIGlmICgkZXh0ID09ICd6aXAnICYmIGZ1bmN0aW9uX2V4aXN0cygnemlwX29wZW4nKSkgewogICAgICAgICRhcmNoID0gQHppcF9vcGVuKCRwYXRoKTsKICAgICAgICBpZiAoJGFyY2gpIHsKICAgICAgICAgICAgJGZpbGVuYW1lcyA9IGFycmF5KCk7CiAgICAgICAgICAgIHdoaWxlICgkemlwX2VudHJ5ID0gQHppcF9yZWFkKCRhcmNoKSkgewogICAgICAgICAgICAgICAgJHppcF9uYW1lID0gQHppcF9lbnRyeV9uYW1lKCR6aXBfZW50cnkpOwogICAgICAgICAgICAgICAgJHppcF9mb2xkZXIgPSBzdWJzdHIoJHppcF9uYW1lLCAtMSkgPT0gJy8nOwogICAgICAgICAgICAgICAgJGZpbGVuYW1lc1tdID0gYXJyYXkoCiAgICAgICAgICAgICAgICAgICAgJ25hbWUnID0+ICR6aXBfbmFtZSwKICAgICAgICAgICAgICAgICAgICAnZmlsZXNpemUnID0+IEB6aXBfZW50cnlfZmlsZXNpemUoJHppcF9lbnRyeSksCiAgICAgICAgICAgICAgICAgICAgJ2NvbXByZXNzZWRfc2l6ZScgPT4gQHppcF9lbnRyeV9jb21wcmVzc2Vkc2l6ZSgkemlwX2VudHJ5KSwKICAgICAgICAgICAgICAgICAgICAnZm9sZGVyJyA9PiAkemlwX2ZvbGRlcgogICAgICAgICAgICAgICAgICAgIC8vJ2NvbXByZXNzaW9uX21ldGhvZCcgPT4gemlwX2VudHJ5X2NvbXByZXNzaW9ubWV0aG9kKCR6aXBfZW50cnkpLAogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBAemlwX2Nsb3NlKCRhcmNoKTsKICAgICAgICAgICAgcmV0dXJuICRmaWxlbmFtZXM7CiAgICAgICAgfQogICAgfSBlbHNlaWYoJGV4dCA9PSAndGFyJyAmJiBjbGFzc19leGlzdHMoJ1BoYXJEYXRhJykpIHsKICAgICAgICAkYXJjaGl2ZSA9IG5ldyBQaGFyRGF0YSgkcGF0aCk7CiAgICAgICAgJGZpbGVuYW1lcyA9IGFycmF5KCk7CiAgICAgICAgZm9yZWFjaChuZXcgUmVjdXJzaXZlSXRlcmF0b3JJdGVyYXRvcigkYXJjaGl2ZSkgYXMgJGZpbGUpIHsKICAgICAgICAgICAgJHBhcmVudF9pbmZvID0gJGZpbGUtPmdldFBhdGhJbmZvKCk7CiAgICAgICAgICAgICR6aXBfbmFtZSA9IHN0cl9yZXBsYWNlKCJwaGFyOi8vIi4kcGF0aCwgJycsICRmaWxlLT5nZXRQYXRoTmFtZSgpKTsKICAgICAgICAgICAgJHppcF9uYW1lID0gc3Vic3RyKCR6aXBfbmFtZSwgKCRwb3MgPSBzdHJwb3MoJHppcF9uYW1lLCAnLycpKSAhPT0gZmFsc2UgPyAkcG9zICsgMSA6IDApOwogICAgICAgICAgICAkemlwX2ZvbGRlciA9ICRwYXJlbnRfaW5mby0+Z2V0RmlsZU5hbWUoKTsKICAgICAgICAgICAgJHppcF9pbmZvID0gbmV3IFNwbEZpbGVJbmZvKCRmaWxlKTsKICAgICAgICAgICAgJGZpbGVuYW1lc1tdID0gYXJyYXkoCiAgICAgICAgICAgICAgICAnbmFtZScgPT4gJHppcF9uYW1lLAogICAgICAgICAgICAgICAgJ2ZpbGVzaXplJyA9PiAkemlwX2luZm8tPmdldFNpemUoKSwKICAgICAgICAgICAgICAgICdjb21wcmVzc2VkX3NpemUnID0+ICRmaWxlLT5nZXRDb21wcmVzc2VkU2l6ZSgpLAogICAgICAgICAgICAgICAgJ2ZvbGRlcicgPT4gJHppcF9mb2xkZXIKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICRmaWxlbmFtZXM7CiAgICB9CiAgICByZXR1cm4gZmFsc2U7Cn0KCi8qKgogKiBFbmNvZGUgaHRtbCBlbnRpdGllcwogKiBAcGFyYW0gc3RyaW5nICR0ZXh0CiAqIEByZXR1cm4gc3RyaW5nCiAqLwpmdW5jdGlvbiBmbV9lbmMoJHRleHQpCnsKICAgIHJldHVybiBodG1sc3BlY2lhbGNoYXJzKCR0ZXh0LCBFTlRfUVVPVEVTLCAnVVRGLTgnKTsKfQoKLyoqCiAqIFByZXZlbnQgWFNTIGF0dGFja3MKICogQHBhcmFtIHN0cmluZyAkdGV4dAogKiBAcmV0dXJuIHN0cmluZwogKi8KZnVuY3Rpb24gZm1faXN2YWxpZF9maWxlbmFtZSgkdGV4dCkgewogICAgcmV0dXJuIChzdHJwYnJrKCR0ZXh0LCAnLz8lKjp8Ijw+JykgPT09IEZBTFNFKSA/IHRydWUgOiBmYWxzZTsKfQoKLyoqCiAqIFNhdmUgbWVzc2FnZSBpbiBzZXNzaW9uCiAqIEBwYXJhbSBzdHJpbmcgJG1zZwogKiBAcGFyYW0gc3RyaW5nICRzdGF0dXMKICovCmZ1bmN0aW9uIGZtX3NldF9tc2coJG1zZywgJHN0YXR1cyA9ICdvaycpCnsKICAgICRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbWVzc2FnZSddID0gJG1zZzsKICAgICRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnc3RhdHVzJ10gPSAkc3RhdHVzOwp9CgovKioKICogQ2hlY2sgaWYgc3RyaW5nIGlzIGluIFVURi04CiAqIEBwYXJhbSBzdHJpbmcgJHN0cmluZwogKiBAcmV0dXJuIGludAogKi8KZnVuY3Rpb24gZm1faXNfdXRmOCgkc3RyaW5nKQp7CiAgICByZXR1cm4gcHJlZ19tYXRjaCgnLy91JywgJHN0cmluZyk7Cn0KCi8qKgogKiBDb252ZXJ0IGZpbGUgbmFtZSB0byBVVEYtOCBpbiBXaW5kb3dzCiAqIEBwYXJhbSBzdHJpbmcgJGZpbGVuYW1lCiAqIEByZXR1cm4gc3RyaW5nCiAqLwpmdW5jdGlvbiBmbV9jb252ZXJ0X3dpbigkZmlsZW5hbWUpCnsKICAgIGlmIChGTV9JU19XSU4gJiYgZnVuY3Rpb25fZXhpc3RzKCdpY29udicpKSB7CiAgICAgICAgJGZpbGVuYW1lID0gaWNvbnYoRk1fSUNPTlZfSU5QVVRfRU5DLCAnVVRGLTgvL0lHTk9SRScsICRmaWxlbmFtZSk7CiAgICB9CiAgICByZXR1cm4gJGZpbGVuYW1lOwp9CgovKioKICogQHBhcmFtICRvYmoKICogQHJldHVybiBhcnJheQogKi8KZnVuY3Rpb24gZm1fb2JqZWN0X3RvX2FycmF5KCRvYmopCnsKICAgIGlmICghaXNfb2JqZWN0KCRvYmopICYmICFpc19hcnJheSgkb2JqKSkgewogICAgICAgIHJldHVybiAkb2JqOwogICAgfQogICAgaWYgKGlzX29iamVjdCgkb2JqKSkgewogICAgICAgICRvYmogPSBnZXRfb2JqZWN0X3ZhcnMoJG9iaik7CiAgICB9CiAgICByZXR1cm4gYXJyYXlfbWFwKCdmbV9vYmplY3RfdG9fYXJyYXknLCAkb2JqKTsKfQoKLyoqCiAqIEdldCBDU1MgY2xhc3NuYW1lIGZvciBmaWxlCiAqIEBwYXJhbSBzdHJpbmcgJHBhdGgKICogQHJldHVybiBzdHJpbmcKICovCmZ1bmN0aW9uIGZtX2dldF9maWxlX2ljb25fY2xhc3MoJHBhdGgpCnsKICAgIC8vIGdldCBleHRlbnNpb24KICAgICRleHQgPSBzdHJ0b2xvd2VyKHBhdGhpbmZvKCRwYXRoLCBQQVRISU5GT19FWFRFTlNJT04pKTsKCiAgICBzd2l0Y2ggKCRleHQpIHsKICAgICAgICBjYXNlICdpY28nOgogICAgICAgIGNhc2UgJ2dpZic6CiAgICAgICAgY2FzZSAnanBnJzoKICAgICAgICBjYXNlICdqcGVnJzoKICAgICAgICBjYXNlICdqcGMnOgogICAgICAgIGNhc2UgJ2pwMic6CiAgICAgICAgY2FzZSAnanB4JzoKICAgICAgICBjYXNlICd4Ym0nOgogICAgICAgIGNhc2UgJ3dibXAnOgogICAgICAgIGNhc2UgJ3BuZyc6CiAgICAgICAgY2FzZSAnYm1wJzoKICAgICAgICBjYXNlICd0aWYnOgogICAgICAgIGNhc2UgJ3RpZmYnOgogICAgICAgIGNhc2UgJ3dlYnAnOgogICAgICAgIGNhc2UgJ2F2aWYnOgogICAgICAgIGNhc2UgJ3N2Zyc6CiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtcGljdHVyZS1vJzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAncGFzc3dkJzoKICAgICAgICBjYXNlICdmdHBxdW90YSc6CiAgICAgICAgY2FzZSAnc3FsJzoKICAgICAgICBjYXNlICdqcyc6CiAgICAgICAgY2FzZSAndHMnOgogICAgICAgIGNhc2UgJ2pzeCc6CiAgICAgICAgY2FzZSAndHN4JzoKICAgICAgICBjYXNlICdoYnMnOgogICAgICAgIGNhc2UgJ2pzb24nOgogICAgICAgIGNhc2UgJ3NoJzoKICAgICAgICBjYXNlICdjb25maWcnOgogICAgICAgIGNhc2UgJ3R3aWcnOgogICAgICAgIGNhc2UgJ3RwbCc6CiAgICAgICAgY2FzZSAnbWQnOgogICAgICAgIGNhc2UgJ2dpdGlnbm9yZSc6CiAgICAgICAgY2FzZSAnYyc6CiAgICAgICAgY2FzZSAnY3BwJzoKICAgICAgICBjYXNlICdjcyc6CiAgICAgICAgY2FzZSAncHknOgogICAgICAgIGNhc2UgJ3JzJzoKICAgICAgICBjYXNlICdtYXAnOgogICAgICAgIGNhc2UgJ2xvY2snOgogICAgICAgIGNhc2UgJ2R0ZCc6CiAgICAgICAgY2FzZSAncHMxJzoKICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLWNvZGUtbyc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3R4dCc6CiAgICAgICAgY2FzZSAnaW5pJzoKICAgICAgICBjYXNlICdjb25mJzoKICAgICAgICBjYXNlICdsb2cnOgogICAgICAgIGNhc2UgJ2h0YWNjZXNzJzoKICAgICAgICBjYXNlICd5YW1sJzoKICAgICAgICBjYXNlICd5bWwnOgogICAgICAgIGNhc2UgJ3RvbWwnOgogICAgICAgIGNhc2UgJ3RtcCc6CiAgICAgICAgY2FzZSAndG9wJzoKICAgICAgICBjYXNlICdib3QnOgogICAgICAgIGNhc2UgJ2RhdCc6CiAgICAgICAgY2FzZSAnYmFrJzoKICAgICAgICBjYXNlICdodHBhc3N3ZCc6CiAgICAgICAgY2FzZSAncGwnOgogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWZpbGUtdGV4dC1vJzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnY3NzJzoKICAgICAgICBjYXNlICdsZXNzJzoKICAgICAgICBjYXNlICdzYXNzJzoKICAgICAgICBjYXNlICdzY3NzJzoKICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1jc3MzJzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnYnoyJzoKICAgICAgICBjYXNlICd0YnoyJzoKICAgICAgICBjYXNlICd0YnonOgogICAgICAgIGNhc2UgJ3ppcCc6CiAgICAgICAgY2FzZSAncmFyJzoKICAgICAgICBjYXNlICdneic6CiAgICAgICAgY2FzZSAndGd6JzoKICAgICAgICBjYXNlICd0YXInOgogICAgICAgIGNhc2UgJzd6JzoKICAgICAgICBjYXNlICd4eic6CiAgICAgICAgY2FzZSAndHh6JzoKICAgICAgICBjYXNlICd6c3QnOgogICAgICAgIGNhc2UgJ3R6c3QnOgogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWZpbGUtYXJjaGl2ZS1vJzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAncGhwJzoKICAgICAgICBjYXNlICdwaHA0JzoKICAgICAgICBjYXNlICdwaHA1JzoKICAgICAgICBjYXNlICdwaHBzJzoKICAgICAgICBjYXNlICdwaHRtbCc6CiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtY29kZSc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2h0bSc6CiAgICAgICAgY2FzZSAnaHRtbCc6CiAgICAgICAgY2FzZSAnc2h0bWwnOgogICAgICAgIGNhc2UgJ3hodG1sJzoKICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1odG1sNSc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3htbCc6CiAgICAgICAgY2FzZSAneHNsJzoKICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLWV4Y2VsLW8nOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICd3YXYnOgogICAgICAgIGNhc2UgJ21wMyc6CiAgICAgICAgY2FzZSAnbXAyJzoKICAgICAgICBjYXNlICdtNGEnOgogICAgICAgIGNhc2UgJ2FhYyc6CiAgICAgICAgY2FzZSAnb2dnJzoKICAgICAgICBjYXNlICdvZ2EnOgogICAgICAgIGNhc2UgJ3dtYSc6CiAgICAgICAgY2FzZSAnbWthJzoKICAgICAgICBjYXNlICdmbGFjJzoKICAgICAgICBjYXNlICdhYzMnOgogICAgICAgIGNhc2UgJ3Rkcyc6CiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtbXVzaWMnOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdtM3UnOgogICAgICAgIGNhc2UgJ20zdTgnOgogICAgICAgIGNhc2UgJ3Bscyc6CiAgICAgICAgY2FzZSAnY3VlJzoKICAgICAgICBjYXNlICd4c3BmJzoKICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1oZWFkcGhvbmVzJzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnYXZpJzoKICAgICAgICBjYXNlICdtcGcnOgogICAgICAgIGNhc2UgJ21wZWcnOgogICAgICAgIGNhc2UgJ21wNCc6CiAgICAgICAgY2FzZSAnbTR2JzoKICAgICAgICBjYXNlICdmbHYnOgogICAgICAgIGNhc2UgJ2Y0dic6CiAgICAgICAgY2FzZSAnb2dtJzoKICAgICAgICBjYXNlICdvZ3YnOgogICAgICAgIGNhc2UgJ21vdic6CiAgICAgICAgY2FzZSAnbWt2JzoKICAgICAgICBjYXNlICczZ3AnOgogICAgICAgIGNhc2UgJ2FzZic6CiAgICAgICAgY2FzZSAnd212JzoKICAgICAgICBjYXNlICd3ZWJtJzoKICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLXZpZGVvLW8nOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdlbWwnOgogICAgICAgIGNhc2UgJ21zZyc6CiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtZW52ZWxvcGUtbyc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3hscyc6CiAgICAgICAgY2FzZSAneGxzeCc6CiAgICAgICAgY2FzZSAnb2RzJzoKICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLWV4Y2VsLW8nOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdjc3YnOgogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWZpbGUtdGV4dC1vJzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnYmFrJzoKICAgICAgICBjYXNlICdzd3AnOgogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWNsaXBib2FyZCc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2RvYyc6CiAgICAgICAgY2FzZSAnZG9jeCc6CiAgICAgICAgY2FzZSAnb2R0JzoKICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLXdvcmQtbyc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3BwdCc6CiAgICAgICAgY2FzZSAncHB0eCc6CiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtZmlsZS1wb3dlcnBvaW50LW8nOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICd0dGYnOgogICAgICAgIGNhc2UgJ3R0Yyc6CiAgICAgICAgY2FzZSAnb3RmJzoKICAgICAgICBjYXNlICd3b2ZmJzoKICAgICAgICBjYXNlICd3b2ZmMic6CiAgICAgICAgY2FzZSAnZW90JzoKICAgICAgICBjYXNlICdmb24nOgogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWZvbnQnOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdwZGYnOgogICAgICAgICAgICAkaW1nID0gJ2ZhIGZhLWZpbGUtcGRmLW8nOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdwc2QnOgogICAgICAgIGNhc2UgJ2FpJzoKICAgICAgICBjYXNlICdlcHMnOgogICAgICAgIGNhc2UgJ2ZsYSc6CiAgICAgICAgY2FzZSAnc3dmJzoKICAgICAgICAgICAgJGltZyA9ICdmYSBmYS1maWxlLWltYWdlLW8nOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdleGUnOgogICAgICAgIGNhc2UgJ21zaSc6CiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtZmlsZS1vJzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnYmF0JzoKICAgICAgICAgICAgJGltZyA9ICdmYSBmYS10ZXJtaW5hbCc7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICRpbWcgPSAnZmEgZmEtaW5mby1jaXJjbGUnOwogICAgfQoKICAgIHJldHVybiAkaW1nOwp9CgovKioKICogR2V0IGltYWdlIGZpbGVzIGV4dGVuc2lvbnMKICogQHJldHVybiBhcnJheQogKi8KZnVuY3Rpb24gZm1fZ2V0X2ltYWdlX2V4dHMoKQp7CiAgICByZXR1cm4gYXJyYXkoJ2ljbycsICdnaWYnLCAnanBnJywgJ2pwZWcnLCAnanBjJywgJ2pwMicsICdqcHgnLCAneGJtJywgJ3dibXAnLCAncG5nJywgJ2JtcCcsICd0aWYnLCAndGlmZicsICdwc2QnLCAnc3ZnJywgJ3dlYnAnLCAnYXZpZicpOwp9CgovKioKICogR2V0IHZpZGVvIGZpbGVzIGV4dGVuc2lvbnMKICogQHJldHVybiBhcnJheQogKi8KZnVuY3Rpb24gZm1fZ2V0X3ZpZGVvX2V4dHMoKQp7CiAgICByZXR1cm4gYXJyYXkoJ2F2aScsICd3ZWJtJywgJ3dtdicsICdtcDQnLCAnbTR2JywgJ29nbScsICdvZ3YnLCAnbW92JywgJ21rdicpOwp9CgovKioKICogR2V0IGF1ZGlvIGZpbGVzIGV4dGVuc2lvbnMKICogQHJldHVybiBhcnJheQogKi8KZnVuY3Rpb24gZm1fZ2V0X2F1ZGlvX2V4dHMoKQp7CiAgICByZXR1cm4gYXJyYXkoJ3dhdicsICdtcDMnLCAnb2dnJywgJ200YScpOwp9CgovKioKICogR2V0IHRleHQgZmlsZSBleHRlbnNpb25zCiAqIEByZXR1cm4gYXJyYXkKICovCmZ1bmN0aW9uIGZtX2dldF90ZXh0X2V4dHMoKQp7CiAgICByZXR1cm4gYXJyYXkoCiAgICAgICAgJ3R4dCcsICdjc3MnLCAnaW5pJywgJ2NvbmYnLCAnbG9nJywgJ2h0YWNjZXNzJywgJ3Bhc3N3ZCcsICdmdHBxdW90YScsICdzcWwnLCAnanMnLCAndHMnLCAnanN4JywgJ3RzeCcsICdtanMnLCAnanNvbicsICdzaCcsICdjb25maWcnLAogICAgICAgICdwaHAnLCAncGhwNCcsICdwaHA1JywgJ3BocHMnLCAncGh0bWwnLCAnaHRtJywgJ2h0bWwnLCAnc2h0bWwnLCAneGh0bWwnLCAneG1sJywgJ3hzbCcsICdtM3UnLCAnbTN1OCcsICdwbHMnLCAnY3VlJywgJ2Jhc2gnLCAndnVlJywKICAgICAgICAnZW1sJywgJ21zZycsICdjc3YnLCAnYmF0JywgJ3R3aWcnLCAndHBsJywgJ21kJywgJ2dpdGlnbm9yZScsICdsZXNzJywgJ3Nhc3MnLCAnc2NzcycsICdjJywgJ2NwcCcsICdjcycsICdweScsICdnbycsICd6c2gnLCAnc3dpZnQnLAogICAgICAgICdtYXAnLCAnbG9jaycsICdkdGQnLCAnc3ZnJywgJ2FzcCcsICdhc3B4JywgJ2FzeCcsICdhc214JywgJ2FzaHgnLCAnanNwJywgJ2pzcHgnLCAnY2dpJywgJ2RvY2tlcmZpbGUnLCAncnVieScsICd5bWwnLCAneWFtbCcsICd0b21sJywKICAgICAgICAndmhvc3QnLCAnc2NwdCcsICdhcHBsZXNjcmlwdCcsICdjc3gnLCAnY3NodG1sJywgJ2MrKycsICdjb2ZmZWUnLCAnY2ZtJywgJ3JiJywgJ2dyYXBocWwnLCAnbXVzdGFjaGUnLCAnamluamEnLCAnaHR0cCcsICdoYW5kbGViYXJzJywKICAgICAgICAnamF2YScsICdlcycsICdlczYnLCAnbWFya2Rvd24nLCAnd2lraScsICd0bXAnLCAndG9wJywgJ2JvdCcsICdkYXQnLCAnYmFrJywgJ2h0cGFzc3dkJywgJ3BsJywgJ3BzMScKICAgICk7Cn0KCi8qKgogKiBHZXQgbWltZSB0eXBlcyBvZiB0ZXh0IGZpbGVzCiAqIEByZXR1cm4gYXJyYXkKICovCmZ1bmN0aW9uIGZtX2dldF90ZXh0X21pbWVzKCkKewogICAgcmV0dXJuIGFycmF5KAogICAgICAgICdhcHBsaWNhdGlvbi94bWwnLAogICAgICAgICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0JywKICAgICAgICAnYXBwbGljYXRpb24veC1qYXZhc2NyaXB0JywKICAgICAgICAnaW1hZ2Uvc3ZnK3htbCcsCiAgICAgICAgJ21lc3NhZ2UvcmZjODIyJywKICAgICAgICAnYXBwbGljYXRpb24vanNvbicsCiAgICApOwp9CgovKioKICogR2V0IGZpbGUgbmFtZXMgb2YgdGV4dCBmaWxlcyB3L28gZXh0ZW5zaW9ucwogKiBAcmV0dXJuIGFycmF5CiAqLwpmdW5jdGlvbiBmbV9nZXRfdGV4dF9uYW1lcygpCnsKICAgIHJldHVybiBhcnJheSgKICAgICAgICAnbGljZW5zZScsCiAgICAgICAgJ3JlYWRtZScsCiAgICAgICAgJ2F1dGhvcnMnLAogICAgICAgICdjb250cmlidXRvcnMnLAogICAgICAgICdjaGFuZ2Vsb2cnLAogICAgKTsKfQoKLyoqCiAqIEdldCBvbmxpbmUgZG9jcyB2aWV3ZXIgc3VwcG9ydGVkIGZpbGVzIGV4dGVuc2lvbnMKICogQHJldHVybiBhcnJheQogKi8KZnVuY3Rpb24gZm1fZ2V0X29ubGluZVZpZXdlcl9leHRzKCkKewogICAgcmV0dXJuIGFycmF5KCdkb2MnLCAnZG9jeCcsICd4bHMnLCAneGxzeCcsICdwZGYnLCAncHB0JywgJ3BwdHgnLCAnYWknLCAncHNkJywgJ2R4ZicsICd4cHMnLCAncmFyJywgJ29kdCcsICdvZHMnKTsKfQoKLyoqCiAqIEl0IHJldHVybnMgdGhlIG1pbWUgdHlwZSBvZiBhIGZpbGUgYmFzZWQgb24gaXRzIGV4dGVuc2lvbi4KICogQHBhcmFtIGV4dGVuc2lvbiBUaGUgZmlsZSBleHRlbnNpb24gb2YgdGhlIGZpbGUgeW91IHdhbnQgdG8gZ2V0IHRoZSBtaW1lIHR5cGUgZm9yLgogKiBAcmV0dXJuIHN0cmluZ3xzdHJpbmdbXSBUaGUgbWltZSB0eXBlIG9mIHRoZSBmaWxlLgogKi8KZnVuY3Rpb24gZm1fZ2V0X2ZpbGVfbWltZXMoJGV4dGVuc2lvbikKewogICAgJGZpbGVUeXBlc1snc3dmJ10gPSAnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnOwogICAgJGZpbGVUeXBlc1sncGRmJ10gPSAnYXBwbGljYXRpb24vcGRmJzsKICAgICRmaWxlVHlwZXNbJ2V4ZSddID0gJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc7CiAgICAkZmlsZVR5cGVzWyd6aXAnXSA9ICdhcHBsaWNhdGlvbi96aXAnOwogICAgJGZpbGVUeXBlc1snZG9jJ10gPSAnYXBwbGljYXRpb24vbXN3b3JkJzsKICAgICRmaWxlVHlwZXNbJ3hscyddID0gJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCc7CiAgICAkZmlsZVR5cGVzWydwcHQnXSA9ICdhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludCc7CiAgICAkZmlsZVR5cGVzWydnaWYnXSA9ICdpbWFnZS9naWYnOwogICAgJGZpbGVUeXBlc1sncG5nJ10gPSAnaW1hZ2UvcG5nJzsKICAgICRmaWxlVHlwZXNbJ2pwZWcnXSA9ICdpbWFnZS9qcGcnOwogICAgJGZpbGVUeXBlc1snanBnJ10gPSAnaW1hZ2UvanBnJzsKICAgICRmaWxlVHlwZXNbJ3dlYnAnXSA9ICdpbWFnZS93ZWJwJzsKICAgICRmaWxlVHlwZXNbJ2F2aWYnXSA9ICdpbWFnZS9hdmlmJzsKICAgICRmaWxlVHlwZXNbJ3JhciddID0gJ2FwcGxpY2F0aW9uL3Jhcic7CgogICAgJGZpbGVUeXBlc1sncmEnXSA9ICdhdWRpby94LXBuLXJlYWxhdWRpbyc7CiAgICAkZmlsZVR5cGVzWydyYW0nXSA9ICdhdWRpby94LXBuLXJlYWxhdWRpbyc7CiAgICAkZmlsZVR5cGVzWydvZ2cnXSA9ICdhdWRpby94LXBuLXJlYWxhdWRpbyc7CgogICAgJGZpbGVUeXBlc1snd2F2J10gPSAndmlkZW8veC1tc3ZpZGVvJzsKICAgICRmaWxlVHlwZXNbJ3dtdiddID0gJ3ZpZGVvL3gtbXN2aWRlbyc7CiAgICAkZmlsZVR5cGVzWydhdmknXSA9ICd2aWRlby94LW1zdmlkZW8nOwogICAgJGZpbGVUeXBlc1snYXNmJ10gPSAndmlkZW8veC1tc3ZpZGVvJzsKICAgICRmaWxlVHlwZXNbJ2RpdngnXSA9ICd2aWRlby94LW1zdmlkZW8nOwoKICAgICRmaWxlVHlwZXNbJ21wMyddID0gJ2F1ZGlvL21wZWcnOwogICAgJGZpbGVUeXBlc1snbXA0J10gPSAnYXVkaW8vbXBlZyc7CiAgICAkZmlsZVR5cGVzWydtcGVnJ10gPSAndmlkZW8vbXBlZyc7CiAgICAkZmlsZVR5cGVzWydtcGcnXSA9ICd2aWRlby9tcGVnJzsKICAgICRmaWxlVHlwZXNbJ21wZSddID0gJ3ZpZGVvL21wZWcnOwogICAgJGZpbGVUeXBlc1snbW92J10gPSAndmlkZW8vcXVpY2t0aW1lJzsKICAgICRmaWxlVHlwZXNbJ3N3ZiddID0gJ3ZpZGVvL3F1aWNrdGltZSc7CiAgICAkZmlsZVR5cGVzWyczZ3AnXSA9ICd2aWRlby9xdWlja3RpbWUnOwogICAgJGZpbGVUeXBlc1snbTRhJ10gPSAndmlkZW8vcXVpY2t0aW1lJzsKICAgICRmaWxlVHlwZXNbJ2FhYyddID0gJ3ZpZGVvL3F1aWNrdGltZSc7CiAgICAkZmlsZVR5cGVzWydtM3UnXSA9ICd2aWRlby9xdWlja3RpbWUnOwoKICAgICRmaWxlVHlwZXNbJ3BocCddID0gWydhcHBsaWNhdGlvbi94LXBocCddOwogICAgJGZpbGVUeXBlc1snaHRtbCddID0gWyd0ZXh0L2h0bWwnXTsKICAgICRmaWxlVHlwZXNbJ3R4dCddID0gWyd0ZXh0L3BsYWluJ107CiAgICAvL1Vua25vd24gbWltZS10eXBlcyBzaG91bGQgYmUgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScKICAgIGlmKGVtcHR5KCRmaWxlVHlwZXNbJGV4dGVuc2lvbl0pKSB7CiAgICAgICRmaWxlVHlwZXNbJGV4dGVuc2lvbl0gPSBbJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSddOwogICAgfQogICAgcmV0dXJuICRmaWxlVHlwZXNbJGV4dGVuc2lvbl07Cn0KCi8qKgogKiBUaGlzIGZ1bmN0aW9uIHNjYW5zIHRoZSBmaWxlcyBhbmQgZm9sZGVyIHJlY3Vyc2l2ZWx5LCBhbmQgcmV0dXJuIG1hdGNoaW5nIGZpbGVzCiAqIEBwYXJhbSBzdHJpbmcgJGRpcgogKiBAcGFyYW0gc3RyaW5nICRmaWx0ZXIKICogQHJldHVybiBhcnJheXxudWxsCiAqLwogZnVuY3Rpb24gc2NhbigkZGlyID0gJycsICRmaWx0ZXIgPSAnJykgewogICAgJHBhdGggPSBGTV9ST09UX1BBVEguJy8nLiRkaXI7CiAgICAgaWYoJHBhdGgpIHsKICAgICAgICAgJGl0ZSA9IG5ldyBSZWN1cnNpdmVJdGVyYXRvckl0ZXJhdG9yKG5ldyBSZWN1cnNpdmVEaXJlY3RvcnlJdGVyYXRvcigkcGF0aCkpOwogICAgICAgICAkcmlpID0gbmV3IFJlZ2V4SXRlcmF0b3IoJGl0ZSwgIi8oIiAuICRmaWx0ZXIgLiAiKS9pIik7CgogICAgICAgICAkZmlsZXMgPSBhcnJheSgpOwogICAgICAgICBmb3JlYWNoICgkcmlpIGFzICRmaWxlKSB7CiAgICAgICAgICAgICBpZiAoISRmaWxlLT5pc0RpcigpKSB7CiAgICAgICAgICAgICAgICAgJGZpbGVOYW1lID0gJGZpbGUtPmdldEZpbGVuYW1lKCk7CiAgICAgICAgICAgICAgICAgJGxvY2F0aW9uID0gc3RyX3JlcGxhY2UoRk1fUk9PVF9QQVRILCAnJywgJGZpbGUtPmdldFBhdGgoKSk7CiAgICAgICAgICAgICAgICAgJGZpbGVzW10gPSBhcnJheSgKICAgICAgICAgICAgICAgICAgICAgIm5hbWUiID0+ICRmaWxlTmFtZSwKICAgICAgICAgICAgICAgICAgICAgInR5cGUiID0+ICJmaWxlIiwKICAgICAgICAgICAgICAgICAgICAgInBhdGgiID0+ICRsb2NhdGlvbiwKICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgfQogICAgICAgICB9CiAgICAgICAgIHJldHVybiAkZmlsZXM7CiAgICAgfQp9CgovKioKKiBQYXJhbWV0ZXJzOiBkb3dubG9hZEZpbGUoRmlsZSBMb2NhdGlvbiwgRmlsZSBOYW1lLAoqIG1heCBzcGVlZCwgaXMgc3RyZWFtaW5nCiogSWYgc3RyZWFtaW5nIC0gdmlkZW9zIHdpbGwgc2hvdyBhcyB2aWRlb3MsIGltYWdlcyBhcyBpbWFnZXMKKiBpbnN0ZWFkIG9mIGRvd25sb2FkIHByb21wdAoqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzgyMTk5Mi8xMTY0NjQyCiovCmZ1bmN0aW9uIGZtX2Rvd25sb2FkX2ZpbGUoJGZpbGVMb2NhdGlvbiwgJGZpbGVOYW1lLCAkY2h1bmtTaXplICA9IDEwMjQpCnsKICAgIGlmIChjb25uZWN0aW9uX3N0YXR1cygpICE9IDApCiAgICAgICAgcmV0dXJuIChmYWxzZSk7CiAgICAkZXh0ZW5zaW9uID0gcGF0aGluZm8oJGZpbGVOYW1lLCBQQVRISU5GT19FWFRFTlNJT04pOwoKICAgICRjb250ZW50VHlwZSA9IGZtX2dldF9maWxlX21pbWVzKCRleHRlbnNpb24pOwoKICAgIGlmKGlzX2FycmF5KCRjb250ZW50VHlwZSkpIHsKICAgICAgICAkY29udGVudFR5cGUgPSBpbXBsb2RlKCcgJywgJGNvbnRlbnRUeXBlKTsKICAgIH0KCiAgICAkc2l6ZSA9IGZpbGVzaXplKCRmaWxlTG9jYXRpb24pOwoKICAgIGlmICgkc2l6ZSA9PSAwKSB7CiAgICAgICAgZm1fc2V0X21zZyhsbmcoJ1plcm8gYnl0ZSBmaWxlISBBYm9ydGluZyBkb3dubG9hZCcpLCAnZXJyb3InKTsKICAgICAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7CgogICAgICAgIHJldHVybiAoZmFsc2UpOwogICAgfQoKICAgIEBpbmlfc2V0KCdtYWdpY19xdW90ZXNfcnVudGltZScsIDApOwogICAgJGZwID0gZm9wZW4oIiRmaWxlTG9jYXRpb24iLCAicmIiKTsKCiAgICBpZiAoJGZwID09PSBmYWxzZSkgewogICAgICAgIGZtX3NldF9tc2cobG5nKCdDYW5ub3Qgb3BlbiBmaWxlISBBYm9ydGluZyBkb3dubG9hZCcpLCAnZXJyb3InKTsKICAgICAgICAkRk1fUEFUSD1GTV9QQVRIOyBmbV9yZWRpcmVjdChGTV9TRUxGX1VSTCAuICc/cD0nIC4gdXJsZW5jb2RlKCRGTV9QQVRIKSk7CiAgICAgICAgcmV0dXJuIChmYWxzZSk7CiAgICB9CgogICAgLy8gaGVhZGVycwogICAgaGVhZGVyKCdDb250ZW50LURlc2NyaXB0aW9uOiBGaWxlIFRyYW5zZmVyJyk7CiAgICBoZWFkZXIoJ0V4cGlyZXM6IDAnKTsKICAgIGhlYWRlcignQ2FjaGUtQ29udHJvbDogbXVzdC1yZXZhbGlkYXRlLCBwb3N0LWNoZWNrPTAsIHByZS1jaGVjaz0wJyk7CiAgICBoZWFkZXIoJ1ByYWdtYTogcHVibGljJyk7CiAgICBoZWFkZXIoIkNvbnRlbnQtVHJhbnNmZXItRW5jb2Rpbmc6IGJpbmFyeSIpOwogICAgaGVhZGVyKCJDb250ZW50LVR5cGU6ICRjb250ZW50VHlwZSIpOwoKICAgICRjb250ZW50RGlzcG9zaXRpb24gPSAnYXR0YWNobWVudCc7CgogICAgaWYgKHN0cnN0cigkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ10sICJNU0lFIikpIHsKICAgICAgICAkZmlsZU5hbWUgPSBwcmVnX3JlcGxhY2UoJy9cLi8nLCAnJTJlJywgJGZpbGVOYW1lLCBzdWJzdHJfY291bnQoJGZpbGVOYW1lLCAnLicpIC0gMSk7CiAgICAgICAgaGVhZGVyKCJDb250ZW50LURpc3Bvc2l0aW9uOiAkY29udGVudERpc3Bvc2l0aW9uO2ZpbGVuYW1lPVwiJGZpbGVOYW1lXCIiKTsKICAgIH0gZWxzZSB7CiAgICAgICAgaGVhZGVyKCJDb250ZW50LURpc3Bvc2l0aW9uOiAkY29udGVudERpc3Bvc2l0aW9uO2ZpbGVuYW1lPVwiJGZpbGVOYW1lXCIiKTsKICAgIH0KCiAgICBoZWFkZXIoIkFjY2VwdC1SYW5nZXM6IGJ5dGVzIik7CiAgICAkcmFuZ2UgPSAwOwoKICAgIGlmIChpc3NldCgkX1NFUlZFUlsnSFRUUF9SQU5HRSddKSkgewogICAgICAgIGxpc3QoJGEsICRyYW5nZSkgPSBleHBsb2RlKCI9IiwgJF9TRVJWRVJbJ0hUVFBfUkFOR0UnXSk7CiAgICAgICAgc3RyX3JlcGxhY2UoJHJhbmdlLCAiLSIsICRyYW5nZSk7CiAgICAgICAgJHNpemUyID0gJHNpemUgLSAxOwogICAgICAgICRuZXdfbGVuZ3RoID0gJHNpemUgLSAkcmFuZ2U7CiAgICAgICAgaGVhZGVyKCJIVFRQLzEuMSAyMDYgUGFydGlhbCBDb250ZW50Iik7CiAgICAgICAgaGVhZGVyKCJDb250ZW50LUxlbmd0aDogJG5ld19sZW5ndGgiKTsKICAgICAgICBoZWFkZXIoIkNvbnRlbnQtUmFuZ2U6IGJ5dGVzICRyYW5nZSRzaXplMi8kc2l6ZSIpOwogICAgfSBlbHNlIHsKICAgICAgICAkc2l6ZTIgPSAkc2l6ZSAtIDE7CiAgICAgICAgaGVhZGVyKCJDb250ZW50LVJhbmdlOiBieXRlcyAwLSRzaXplMi8kc2l6ZSIpOwogICAgICAgIGhlYWRlcigiQ29udGVudC1MZW5ndGg6ICIgLiAkc2l6ZSk7CiAgICB9CiAgICAkZmlsZUxvY2F0aW9uID0gcmVhbHBhdGgoJGZpbGVMb2NhdGlvbik7CiAgICB3aGlsZSAob2JfZ2V0X2xldmVsKCkpIG9iX2VuZF9jbGVhbigpOwogICAgcmVhZGZpbGUoJGZpbGVMb2NhdGlvbik7CgogICAgZmNsb3NlKCRmcCk7CgogICAgcmV0dXJuICgoY29ubmVjdGlvbl9zdGF0dXMoKSA9PSAwKSBhbmQgIWNvbm5lY3Rpb25fYWJvcnRlZCgpKTsKfQoKLyoqCiAqIElmIHRoZSB0aGVtZSBpcyBkYXJrLCByZXR1cm4gdGhlIHRleHQtd2hpdGUgYW5kIGJnLWRhcmsgY2xhc3Nlcy4KICogQHJldHVybiBzdHJpbmcgdGhlIHZhbHVlIG9mIHRoZSAgdmFyaWFibGUuCiAqLwpmdW5jdGlvbiBmbV9nZXRfdGhlbWUoKSB7CiAgICAkcmVzdWx0ID0gJyc7CiAgICBpZihGTV9USEVNRSA9PSAiZGFyayIpIHsKICAgICAgICAkcmVzdWx0ID0gInRleHQtd2hpdGUgYmctZGFyayI7CiAgICB9CiAgICByZXR1cm4gJHJlc3VsdDsKfQoKLyoqCiAqIENsYXNzIHRvIHdvcmsgd2l0aCB6aXAgZmlsZXMgKHVzaW5nIFppcEFyY2hpdmUpCiAqLwpjbGFzcyBGTV9aaXBwZXIKewogICAgcHJpdmF0ZSAkemlwOwoKICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpCiAgICB7CiAgICAgICAgJHRoaXMtPnppcCA9IG5ldyBaaXBBcmNoaXZlKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGUgYXJjaGl2ZSB3aXRoIG5hbWUgJGZpbGVuYW1lIGFuZCBmaWxlcyAkZmlsZXMgKFJFTEFUSVZFIFBBVEhTISkKICAgICAqIEBwYXJhbSBzdHJpbmcgJGZpbGVuYW1lCiAgICAgKiBAcGFyYW0gYXJyYXl8c3RyaW5nICRmaWxlcwogICAgICogQHJldHVybiBib29sCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBjcmVhdGUoJGZpbGVuYW1lLCAkZmlsZXMpCiAgICB7CiAgICAgICAgJHJlcyA9ICR0aGlzLT56aXAtPm9wZW4oJGZpbGVuYW1lLCBaaXBBcmNoaXZlOjpDUkVBVEUpOwogICAgICAgIGlmICgkcmVzICE9PSB0cnVlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKGlzX2FycmF5KCRmaWxlcykpIHsKICAgICAgICAgICAgZm9yZWFjaCAoJGZpbGVzIGFzICRmKSB7CiAgICAgICAgICAgICAgICAkZiA9IGZtX2NsZWFuX3BhdGgoJGYpOwogICAgICAgICAgICAgICAgaWYgKCEkdGhpcy0+YWRkRmlsZU9yRGlyKCRmKSkgewogICAgICAgICAgICAgICAgICAgICR0aGlzLT56aXAtPmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICR0aGlzLT56aXAtPmNsb3NlKCk7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmICgkdGhpcy0+YWRkRmlsZU9yRGlyKCRmaWxlcykpIHsKICAgICAgICAgICAgICAgICR0aGlzLT56aXAtPmNsb3NlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogRXh0cmFjdCBhcmNoaXZlICRmaWxlbmFtZSB0byBmb2xkZXIgJHBhdGggKFJFTEFUSVZFIE9SIEFCU09MVVRFIFBBVEhTKQogICAgICogQHBhcmFtIHN0cmluZyAkZmlsZW5hbWUKICAgICAqIEBwYXJhbSBzdHJpbmcgJHBhdGgKICAgICAqIEByZXR1cm4gYm9vbAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gdW56aXAoJGZpbGVuYW1lLCAkcGF0aCkKICAgIHsKICAgICAgICAkcmVzID0gJHRoaXMtPnppcC0+b3BlbigkZmlsZW5hbWUpOwogICAgICAgIGlmICgkcmVzICE9PSB0cnVlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKCR0aGlzLT56aXAtPmV4dHJhY3RUbygkcGF0aCkpIHsKICAgICAgICAgICAgJHRoaXMtPnppcC0+Y2xvc2UoKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICAqIEFkZCBmaWxlL2ZvbGRlciB0byBhcmNoaXZlCiAgICAgKiBAcGFyYW0gc3RyaW5nICRmaWxlbmFtZQogICAgICogQHJldHVybiBib29sCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gYWRkRmlsZU9yRGlyKCRmaWxlbmFtZSkKICAgIHsKICAgICAgICBpZiAoaXNfZmlsZSgkZmlsZW5hbWUpKSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+emlwLT5hZGRGaWxlKCRmaWxlbmFtZSk7CiAgICAgICAgfSBlbHNlaWYgKGlzX2RpcigkZmlsZW5hbWUpKSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YWRkRGlyKCRmaWxlbmFtZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICAqIEFkZCBmb2xkZXIgcmVjdXJzaXZlbHkKICAgICAqIEBwYXJhbSBzdHJpbmcgJHBhdGgKICAgICAqIEByZXR1cm4gYm9vbAogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIGFkZERpcigkcGF0aCkKICAgIHsKICAgICAgICBpZiAoISR0aGlzLT56aXAtPmFkZEVtcHR5RGlyKCRwYXRoKSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgICRvYmplY3RzID0gc2NhbmRpcigkcGF0aCk7CiAgICAgICAgaWYgKGlzX2FycmF5KCRvYmplY3RzKSkgewogICAgICAgICAgICBmb3JlYWNoICgkb2JqZWN0cyBhcyAkZmlsZSkgewogICAgICAgICAgICAgICAgaWYgKCRmaWxlICE9ICcuJyAmJiAkZmlsZSAhPSAnLi4nKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzX2RpcigkcGF0aCAuICcvJyAuICRmaWxlKSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoISR0aGlzLT5hZGREaXIoJHBhdGggLiAnLycgLiAkZmlsZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZWlmIChpc19maWxlKCRwYXRoIC4gJy8nIC4gJGZpbGUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHRoaXMtPnppcC0+YWRkRmlsZSgkcGF0aCAuICcvJyAuICRmaWxlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9Cn0KCi8qKgogKiBDbGFzcyB0byB3b3JrIHdpdGggVGFyIGZpbGVzICh1c2luZyBQaGFyRGF0YSkKICovCmNsYXNzIEZNX1ppcHBlcl9UYXIKewogICAgcHJpdmF0ZSAkdGFyOwoKICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpCiAgICB7CiAgICAgICAgJHRoaXMtPnRhciA9IG51bGw7CiAgICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGUgYXJjaGl2ZSB3aXRoIG5hbWUgJGZpbGVuYW1lIGFuZCBmaWxlcyAkZmlsZXMgKFJFTEFUSVZFIFBBVEhTISkKICAgICAqIEBwYXJhbSBzdHJpbmcgJGZpbGVuYW1lCiAgICAgKiBAcGFyYW0gYXJyYXl8c3RyaW5nICRmaWxlcwogICAgICogQHJldHVybiBib29sCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBjcmVhdGUoJGZpbGVuYW1lLCAkZmlsZXMpCiAgICB7CiAgICAgICAgJHRoaXMtPnRhciA9IG5ldyBQaGFyRGF0YSgkZmlsZW5hbWUpOwogICAgICAgIGlmIChpc19hcnJheSgkZmlsZXMpKSB7CiAgICAgICAgICAgIGZvcmVhY2ggKCRmaWxlcyBhcyAkZikgewogICAgICAgICAgICAgICAgJGYgPSBmbV9jbGVhbl9wYXRoKCRmKTsKICAgICAgICAgICAgICAgIGlmICghJHRoaXMtPmFkZEZpbGVPckRpcigkZikpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKCR0aGlzLT5hZGRGaWxlT3JEaXIoJGZpbGVzKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEV4dHJhY3QgYXJjaGl2ZSAkZmlsZW5hbWUgdG8gZm9sZGVyICRwYXRoIChSRUxBVElWRSBPUiBBQlNPTFVURSBQQVRIUykKICAgICAqIEBwYXJhbSBzdHJpbmcgJGZpbGVuYW1lCiAgICAgKiBAcGFyYW0gc3RyaW5nICRwYXRoCiAgICAgKiBAcmV0dXJuIGJvb2wKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHVuemlwKCRmaWxlbmFtZSwgJHBhdGgpCiAgICB7CiAgICAgICAgJHJlcyA9ICR0aGlzLT50YXItPm9wZW4oJGZpbGVuYW1lKTsKICAgICAgICBpZiAoJHJlcyAhPT0gdHJ1ZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmICgkdGhpcy0+dGFyLT5leHRyYWN0VG8oJHBhdGgpKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLyoqCiAgICAgKiBBZGQgZmlsZS9mb2xkZXIgdG8gYXJjaGl2ZQogICAgICogQHBhcmFtIHN0cmluZyAkZmlsZW5hbWUKICAgICAqIEByZXR1cm4gYm9vbAogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIGFkZEZpbGVPckRpcigkZmlsZW5hbWUpCiAgICB7CiAgICAgICAgaWYgKGlzX2ZpbGUoJGZpbGVuYW1lKSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJHRoaXMtPnRhci0+YWRkRmlsZSgkZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlaWYgKGlzX2RpcigkZmlsZW5hbWUpKSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+YWRkRGlyKCRmaWxlbmFtZSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICAqIEFkZCBmb2xkZXIgcmVjdXJzaXZlbHkKICAgICAqIEBwYXJhbSBzdHJpbmcgJHBhdGgKICAgICAqIEByZXR1cm4gYm9vbAogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIGFkZERpcigkcGF0aCkKICAgIHsKICAgICAgICAkb2JqZWN0cyA9IHNjYW5kaXIoJHBhdGgpOwogICAgICAgIGlmIChpc19hcnJheSgkb2JqZWN0cykpIHsKICAgICAgICAgICAgZm9yZWFjaCAoJG9iamVjdHMgYXMgJGZpbGUpIHsKICAgICAgICAgICAgICAgIGlmICgkZmlsZSAhPSAnLicgJiYgJGZpbGUgIT0gJy4uJykgewogICAgICAgICAgICAgICAgICAgIGlmIChpc19kaXIoJHBhdGggLiAnLycgLiAkZmlsZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEkdGhpcy0+YWRkRGlyKCRwYXRoIC4gJy8nIC4gJGZpbGUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2VpZiAoaXNfZmlsZSgkcGF0aCAuICcvJyAuICRmaWxlKSkgewogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPnRhci0+YWRkRmlsZSgkcGF0aCAuICcvJyAuICRmaWxlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KfQoKLyoqCiAqIFNhdmUgQ29uZmlndXJhdGlvbgogKi8KIGNsYXNzIEZNX0NvbmZpZwp7CiAgICAgdmFyICRkYXRhOwoKICAgIGZ1bmN0aW9uIF9fY29uc3RydWN0KCkKICAgIHsKICAgICAgICBnbG9iYWwgJHJvb3RfcGF0aCwgJHJvb3RfdXJsLCAkQ09ORklHOwogICAgICAgICRmbV91cmwgPSAkcm9vdF91cmwuJF9TRVJWRVJbIlBIUF9TRUxGIl07CiAgICAgICAgJHRoaXMtPmRhdGEgPSBhcnJheSgKICAgICAgICAgICAgJ2xhbmcnID0+ICdlbicsCiAgICAgICAgICAgICdlcnJvcl9yZXBvcnRpbmcnID0+IHRydWUsCiAgICAgICAgICAgICdzaG93X2hpZGRlbicgPT4gdHJ1ZQogICAgICAgICk7CiAgICAgICAgJGRhdGEgPSBmYWxzZTsKICAgICAgICBpZiAoc3RybGVuKCRDT05GSUcpKSB7CiAgICAgICAgICAgICRkYXRhID0gZm1fb2JqZWN0X3RvX2FycmF5KGpzb25fZGVjb2RlKCRDT05GSUcpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkbXNnID0gJ1RpbnkgRmlsZSBNYW5hZ2VyPGJyPkVycm9yOiBDYW5ub3QgbG9hZCBjb25maWd1cmF0aW9uJzsKICAgICAgICAgICAgaWYgKHN1YnN0cigkZm1fdXJsLCAtMSkgPT0gJy8nKSB7CiAgICAgICAgICAgICAgICAkZm1fdXJsID0gcnRyaW0oJGZtX3VybCwgJy8nKTsKICAgICAgICAgICAgICAgICRtc2cgLj0gJzxicj4nOwogICAgICAgICAgICAgICAgJG1zZyAuPSAnPGJyPlNlZW1zIGxpa2UgeW91IGhhdmUgYSB0cmFpbGluZyBzbGFzaCBvbiB0aGUgVVJMLic7CiAgICAgICAgICAgICAgICAkbXNnIC49ICc8YnI+VHJ5IHRoaXMgbGluazogPGEgaHJlZj0iJyAuICRmbV91cmwgLiAnIj4nIC4gJGZtX3VybCAuICc8L2E+JzsKICAgICAgICAgICAgfQogICAgICAgICAgICBkaWUoJG1zZyk7CiAgICAgICAgfQogICAgICAgIGlmIChpc19hcnJheSgkZGF0YSkgJiYgY291bnQoJGRhdGEpKSAkdGhpcy0+ZGF0YSA9ICRkYXRhOwogICAgICAgIGVsc2UgJHRoaXMtPnNhdmUoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzYXZlKCkKICAgIHsKICAgICAgICBnbG9iYWwgJGNvbmZpZ19maWxlOwogICAgICAgICRmbV9maWxlID0gaXNfcmVhZGFibGUoJGNvbmZpZ19maWxlKSA/ICRjb25maWdfZmlsZSA6IF9fRklMRV9fOwogICAgICAgICR2YXJfbmFtZSA9ICckQ09ORklHJzsKICAgICAgICAkdmFyX3ZhbHVlID0gdmFyX2V4cG9ydChqc29uX2VuY29kZSgkdGhpcy0+ZGF0YSksIHRydWUpOwogICAgICAgICRjb25maWdfc3RyaW5nID0gIjw/cGhwIiAuIGNocigxMykgLiBjaHIoMTApIC4gIi8vRGVmYXVsdCBDb25maWd1cmF0aW9uIi5jaHIoMTMpIC4gY2hyKDEwKS4iJHZhcl9uYW1lID0gJHZhcl92YWx1ZTsiIC4gY2hyKDEzKSAuIGNocigxMCk7CiAgICAgICAgaWYgKGlzX3dyaXRhYmxlKCRmbV9maWxlKSkgewogICAgICAgICAgICAkbGluZXMgPSBmaWxlKCRmbV9maWxlKTsKICAgICAgICAgICAgaWYgKCRmaCA9IEBmb3BlbigkZm1fZmlsZSwgInciKSkgewogICAgICAgICAgICAgICAgQGZwdXRzKCRmaCwgJGNvbmZpZ19zdHJpbmcsIHN0cmxlbigkY29uZmlnX3N0cmluZykpOwogICAgICAgICAgICAgICAgZm9yICgkeCA9IDM7ICR4IDwgY291bnQoJGxpbmVzKTsgJHgrKykgewogICAgICAgICAgICAgICAgICAgIEBmcHV0cygkZmgsICRsaW5lc1skeF0sIHN0cmxlbigkbGluZXNbJHhdKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBAZmNsb3NlKCRmaCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCi8vLS0tIFRlbXBsYXRlcyBGdW5jdGlvbnMgLS0tCgovKioKICogU2hvdyBuYXYgYmxvY2sKICogQHBhcmFtIHN0cmluZyAkcGF0aAogKi8KZnVuY3Rpb24gZm1fc2hvd19uYXZfcGF0aCgkcGF0aCkKewogICAgZ2xvYmFsICRsYW5nLCAkc3RpY2t5X25hdmJhciwgJGVkaXRGaWxlOwogICAgJGlzU3RpY2t5TmF2QmFyID0gJHN0aWNreV9uYXZiYXIgPyAnZml4ZWQtdG9wJyA6ICcnOwogICAgJGdldFRoZW1lID0gZm1fZ2V0X3RoZW1lKCk7CiAgICAkZ2V0VGhlbWUgLj0gIiBuYXZiYXItbGlnaHQiOwogICAgaWYoRk1fVEhFTUUgPT0gImRhcmsiKSB7CiAgICAgICAgJGdldFRoZW1lIC49ICIgbmF2YmFyLWRhcmsiOwogICAgfSBlbHNlIHsKICAgICAgICAkZ2V0VGhlbWUgLj0gIiBiZy13aGl0ZSI7CiAgICB9CiAgICA/PgogICAgPG5hdiBjbGFzcz0ibmF2YmFyIG5hdmJhci1leHBhbmQtbGcgPD9waHAgZWNobyAkZ2V0VGhlbWU7ID8+IG1iLTQgbWFpbi1uYXYgPD9waHAgZWNobyAkaXNTdGlja3lOYXZCYXIgPz4iPgogICAgICAgIDxhIGNsYXNzPSJuYXZiYXItYnJhbmQiPiA8P3BocCBlY2hvIGxuZygnQXBwVGl0bGUnKSA/PiA8L2E+CiAgICAgICAgPGJ1dHRvbiBjbGFzcz0ibmF2YmFyLXRvZ2dsZXIiIHR5cGU9ImJ1dHRvbiIgZGF0YS1icy10b2dnbGU9ImNvbGxhcHNlIiBkYXRhLWJzLXRhcmdldD0iI25hdmJhclN1cHBvcnRlZENvbnRlbnQiIGFyaWEtY29udHJvbHM9Im5hdmJhclN1cHBvcnRlZENvbnRlbnQiIGFyaWEtZXhwYW5kZWQ9ImZhbHNlIiBhcmlhLWxhYmVsPSJUb2dnbGUgbmF2aWdhdGlvbiI+CiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJuYXZiYXItdG9nZ2xlci1pY29uIj48L3NwYW4+CiAgICAgICAgPC9idXR0b24+CiAgICAgICAgPGRpdiBjbGFzcz0iY29sbGFwc2UgbmF2YmFyLWNvbGxhcHNlIiBpZD0ibmF2YmFyU3VwcG9ydGVkQ29udGVudCI+CgogICAgICAgICAgICA8P3BocAogICAgICAgICAgICAkcGF0aCA9IGZtX2NsZWFuX3BhdGgoJHBhdGgpOwogICAgICAgICAgICAkcm9vdF91cmwgPSAiPGEgaHJlZj0nP3A9Jz48aSBjbGFzcz0nZmEgZmEtaG9tZScgYXJpYS1oaWRkZW49J3RydWUnIHRpdGxlPSciIC4gRk1fUk9PVF9QQVRIIC4gIic+PC9pPjwvYT4iOwogICAgICAgICAgICAkc2VwID0gJzxpIGNsYXNzPSJicmVhZC1jcnVtYiI+IC8gPC9pPic7CiAgICAgICAgICAgIGlmICgkcGF0aCAhPSAnJykgewogICAgICAgICAgICAgICAgJGV4cGxvZGVkID0gZXhwbG9kZSgnLycsICRwYXRoKTsKICAgICAgICAgICAgICAgICRjb3VudCA9IGNvdW50KCRleHBsb2RlZCk7CiAgICAgICAgICAgICAgICAkYXJyYXkgPSBhcnJheSgpOwogICAgICAgICAgICAgICAgJHBhcmVudCA9ICcnOwogICAgICAgICAgICAgICAgZm9yICgkaSA9IDA7ICRpIDwgJGNvdW50OyAkaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgJHBhcmVudCA9IHRyaW0oJHBhcmVudCAuICcvJyAuICRleHBsb2RlZFskaV0sICcvJyk7CiAgICAgICAgICAgICAgICAgICAgJHBhcmVudF9lbmMgPSB1cmxlbmNvZGUoJHBhcmVudCk7CiAgICAgICAgICAgICAgICAgICAgJGFycmF5W10gPSAiPGEgaHJlZj0nP3A9eyRwYXJlbnRfZW5jfSc+IiAuIGZtX2VuYyhmbV9jb252ZXJ0X3dpbigkZXhwbG9kZWRbJGldKSkgLiAiPC9hPiI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkcm9vdF91cmwgLj0gJHNlcCAuIGltcGxvZGUoJHNlcCwgJGFycmF5KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlY2hvICc8ZGl2IGNsYXNzPSJjb2wteHMtNiBjb2wtc20tNSI+JyAuICRyb290X3VybCAuICRlZGl0RmlsZSAuICc8L2Rpdj4nOwogICAgICAgICAgICA/PgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29sLXhzLTYgY29sLXNtLTciPgogICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJuYXZiYXItbmF2IGp1c3RpZnktY29udGVudC1lbmQgPD9waHAgZWNobyBmbV9nZXRfdGhlbWUoKTsgID8+Ij4KICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im5hdi1pdGVtIG1yLTIiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJpbnB1dC1ncm91cCBpbnB1dC1ncm91cC1zbSBtci0xIiBzdHlsZT0ibWFyZ2luLXRvcDo0cHg7Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBwbGFjZWhvbGRlcj0iPD9waHAgZWNobyBsbmcoJ1NlYXJjaCcpID8+IiBhcmlhLWxhYmVsPSI8P3BocCBlY2hvIGxuZygnU2VhcmNoJykgPz4iIGFyaWEtZGVzY3JpYmVkYnk9InNlYXJjaC1hZGRvbjIiIGlkPSJzZWFyY2gtYWRkb24iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaW5wdXQtZ3JvdXAtYXBwZW5kIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iaW5wdXQtZ3JvdXAtdGV4dCBicmwtMCBicnItMCIgaWQ9InNlYXJjaC1hZGRvbjIiPjxpIGNsYXNzPSJmYSBmYS1zZWFyY2giPjwvaT48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImlucHV0LWdyb3VwLWFwcGVuZCBidG4tZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJpbnB1dC1ncm91cC10ZXh0IGRyb3Bkb3duLXRvZ2dsZSBicmwtMCIgZGF0YS1icy10b2dnbGU9ImRyb3Bkb3duIiBhcmlhLWhhc3BvcHVwPSJ0cnVlIiBhcmlhLWV4cGFuZGVkPSJmYWxzZSI+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZHJvcGRvd24tbWVudSBkcm9wZG93bi1tZW51LXJpZ2h0Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9ImRyb3Bkb3duLWl0ZW0iIGhyZWY9Ijw/cGhwIGVjaG8gJHBhdGgyID0gJHBhdGggPyAkcGF0aCA6ICcuJzsgPz4iIGlkPSJqcy1zZWFyY2gtbW9kYWwiIGRhdGEtYnMtdG9nZ2xlPSJtb2RhbCIgZGF0YS1icy10YXJnZXQ9IiNzZWFyY2hNb2RhbCI+PD9waHAgZWNobyBsbmcoJ0FkdmFuY2VkIFNlYXJjaCcpID8+PC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICA8P3BocCBpZiAoIUZNX1JFQURPTkxZKTogPz4KICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im5hdi1pdGVtIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdVcGxvYWQnKSA/PiIgY2xhc3M9Im5hdi1saW5rIiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7dXBsb2FkIj48aSBjbGFzcz0iZmEgZmEtY2xvdWQtdXBsb2FkIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnVXBsb2FkJykgPz48L2E+CiAgICAgICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im5hdi1pdGVtIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdOZXdJdGVtJykgPz4iIGNsYXNzPSJuYXYtbGluayIgaHJlZj0iI2NyZWF0ZU5ld0l0ZW0iIGRhdGEtYnMtdG9nZ2xlPSJtb2RhbCIgZGF0YS1icy10YXJnZXQ9IiNjcmVhdGVOZXdJdGVtIj48aSBjbGFzcz0iZmEgZmEtcGx1cy1zcXVhcmUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ05ld0l0ZW0nKSA/PjwvYT4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgIDw/cGhwIGVuZGlmOyA/PgogICAgICAgICAgICAgICAgICAgIDw/cGhwIGlmIChGTV9VU0VfQVVUSCk6ID8+CiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJuYXYtaXRlbSBhdmF0YXIgZHJvcGRvd24iPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz0ibmF2LWxpbmsgZHJvcGRvd24tdG9nZ2xlIiBpZD0ibmF2YmFyRHJvcGRvd25NZW51TGluay01IiBkYXRhLWJzLXRvZ2dsZT0iZHJvcGRvd24iIGFyaWEtaGFzcG9wdXA9InRydWUiIGFyaWEtZXhwYW5kZWQ9ImZhbHNlIj4gPGkgY2xhc3M9ImZhIGZhLXVzZXItY2lyY2xlIj48L2k+IDw/cGhwIGlmKGlzc2V0KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbG9nZ2VkJ10pKSB7IGVjaG8gJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydsb2dnZWQnXTsgfSA/PjwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZHJvcGRvd24tbWVudSB0ZXh0LXNtYWxsIHNoYWRvdyA8P3BocCBlY2hvIGZtX2dldF90aGVtZSgpOyA/PiIgYXJpYS1sYWJlbGxlZGJ5PSJuYXZiYXJEcm9wZG93bk1lbnVMaW5rLTUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9SRUFET05MWSk6ID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1NldHRpbmdzJykgPz4iIGNsYXNzPSJkcm9wZG93bi1pdGVtIG5hdi1saW5rIiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7c2V0dGluZ3M9MSI+PGkgY2xhc3M9ImZhIGZhLWNvZyIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1NldHRpbmdzJykgPz48L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZiA/PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdIZWxwJykgPz4iIGNsYXNzPSJkcm9wZG93bi1pdGVtIG5hdi1saW5rIiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7aGVscD0yIj48aSBjbGFzcz0iZmEgZmEtZXhjbGFtYXRpb24tY2lyY2xlIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnSGVscCcpID8+PC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgdGl0bGU9Ijw/cGhwIGVjaG8gbG5nKCdMb2dvdXQnKSA/PiIgY2xhc3M9ImRyb3Bkb3duLWl0ZW0gbmF2LWxpbmsiIGhyZWY9Ij9sb2dvdXQ9MSI+PGkgY2xhc3M9ImZhIGZhLXNpZ24tb3V0IiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPiA8P3BocCBlY2hvIGxuZygnTG9nb3V0JykgPz48L2E+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPD9waHAgZWxzZTogPz4KICAgICAgICAgICAgICAgICAgICAgICAgPD9waHAgaWYgKCFGTV9SRUFET05MWSk6ID8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im5hdi1pdGVtIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSB0aXRsZT0iPD9waHAgZWNobyBsbmcoJ1NldHRpbmdzJykgPz4iIGNsYXNzPSJkcm9wZG93bi1pdGVtIG5hdi1saW5rIiBocmVmPSI/cD08P3BocCBlY2hvIHVybGVuY29kZShGTV9QQVRIKSA/PiZhbXA7c2V0dGluZ3M9MSI+PGkgY2xhc3M9ImZhIGZhLWNvZyIgYXJpYS1oaWRkZW49InRydWUiPjwvaT4gPD9waHAgZWNobyBsbmcoJ1NldHRpbmdzJykgPz48L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4KICAgICAgICAgICAgICAgICAgICA8P3BocCBlbmRpZjsgPz4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9uYXY+CiAgICA8P3BocAp9CgovKioKICogU2hvdyBhbGVydCBtZXNzYWdlIGZyb20gc2Vzc2lvbgogKi8KZnVuY3Rpb24gZm1fc2hvd19tZXNzYWdlKCkKewogICAgaWYgKGlzc2V0KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnbWVzc2FnZSddKSkgewogICAgICAgICRjbGFzcyA9IGlzc2V0KCRfU0VTU0lPTltGTV9TRVNTSU9OX0lEXVsnc3RhdHVzJ10pID8gJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydzdGF0dXMnXSA6ICdvayc7CiAgICAgICAgZWNobyAnPHAgY2xhc3M9Im1lc3NhZ2UgJyAuICRjbGFzcyAuICciPicgLiAkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ21lc3NhZ2UnXSAuICc8L3A+JzsKICAgICAgICB1bnNldCgkX1NFU1NJT05bRk1fU0VTU0lPTl9JRF1bJ21lc3NhZ2UnXSk7CiAgICAgICAgdW5zZXQoJF9TRVNTSU9OW0ZNX1NFU1NJT05fSURdWydzdGF0dXMnXSk7CiAgICB9Cn0KCi8qKgogKiBTaG93IHBhZ2UgaGVhZGVyIGluIExvZ2luIEZvcm0KICovCmZ1bmN0aW9uIGZtX3Nob3dfaGVhZGVyX2xvZ2luKCkKewokc3ByaXRlc192ZXIgPSAnMjAxNjAzMTUnOwpoZWFkZXIoIkNvbnRlbnQtVHlwZTogdGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Iik7CmhlYWRlcigiRXhwaXJlczogU2F0LCAyNiBKdWwgMTk5NyAwNTowMDowMCBHTVQiKTsKaGVhZGVyKCJDYWNoZS1Db250cm9sOiBuby1zdG9yZSwgbm8tY2FjaGUsIG11c3QtcmV2YWxpZGF0ZSwgcG9zdC1jaGVjaz0wLCBwcmUtY2hlY2s9MCIpOwpoZWFkZXIoIlByYWdtYTogbm8tY2FjaGUiKTsKCmdsb2JhbCAkbGFuZywgJHJvb3RfdXJsLCAkZmF2aWNvbl9wYXRoOwo/Pgo8IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0iZW4iPgo8aGVhZD4KICAgIDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSwgc2hyaW5rLXRvLWZpdD1ubyI+CiAgICA8bWV0YSBuYW1lPSJkZXNjcmlwdGlvbiIgY29udGVudD0iV2ViIGJhc2VkIEZpbGUgTWFuYWdlciBpbiBQSFAsIE1hbmFnZSB5b3VyIGZpbGVzIGVmZmljaWVudGx5IGFuZCBlYXNpbHkgd2l0aCBUaW55IEZpbGUgTWFuYWdlciI+CiAgICA8bWV0YSBuYW1lPSJhdXRob3IiIGNvbnRlbnQ9IkNDUCBQcm9ncmFtbWVycyI+CiAgICA8bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQ9Im5vaW5kZXgsIG5vZm9sbG93Ij4KICAgIDxtZXRhIG5hbWU9Imdvb2dsZWJvdCIgY29udGVudD0ibm9pbmRleCI+CiAgICA8P3BocCBpZigkZmF2aWNvbl9wYXRoKSB7IGVjaG8gJzxsaW5rIHJlbD0iaWNvbiIgaHJlZj0iJy5mbV9lbmMoJGZhdmljb25fcGF0aCkuJyIgdHlwZT0iaW1hZ2UvcG5nIj4nOyB9ID8+CiAgICA8dGl0bGU+PD9waHAgZWNobyBmbV9lbmMoQVBQX1RJVExFKSA/PjwvdGl0bGU+CiAgICA8P3BocCBwcmludF9leHRlcm5hbCgncHJlLWpzZGVsaXZyJyk7ID8+CiAgICA8P3BocCBwcmludF9leHRlcm5hbCgnY3NzLWJvb3RzdHJhcCcpOyA/PgogICAgPHN0eWxlPgogICAgICAgIGJvZHkuZm0tbG9naW4tcGFnZXsgYmFja2dyb3VuZC1jb2xvcjojZjdmOWZiO2ZvbnQtc2l6ZToxNHB4O2JhY2tncm91bmQtY29sb3I6I2Y3ZjlmYjtiYWNrZ3JvdW5kLWltYWdlOnVybCgiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAzMDQgMzA0JyB3aWR0aD0nMzA0JyBoZWlnaHQ9JzMwNCclM0UlM0NwYXRoIGZpbGw9JyUyM2UyZTlmMScgZmlsbC1vcGFjaXR5PScwLjQnIGQ9J000NC4xIDIyNGE1IDUgMCAxIDEgMCAySDB2LTJoNDQuMXptMTYwIDQ4YTUgNSAwIDEgMSAwIDJIODJ2LTJoMTIyLjF6bTU3LjgtNDZhNSA1IDAgMSAxIDAtMkgzMDR2MmgtNDIuMXptMCAxNmE1IDUgMCAxIDEgMC0ySDMwNHYyaC00Mi4xem02LjItMTE0YTUgNSAwIDEgMSAwIDJoLTg2LjJhNSA1IDAgMSAxIDAtMmg4Ni4yem0tMjU2LTQ4YTUgNSAwIDEgMSAwIDJIMHYtMmgxMi4xem0xODUuOCAzNGE1IDUgMCAxIDEgMC0yaDg2LjJhNSA1IDAgMSAxIDAgMmgtODYuMnpNMjU4IDEyLjFhNSA1IDAgMSAxLTIgMFYwaDJ2MTIuMXptLTY0IDIwOGE1IDUgMCAxIDEtMiAwdi01NC4yYTUgNSAwIDEgMSAyIDB2NTQuMnptNDgtMTk4LjJWODBoNjJ2MmgtNjRWMjEuOWE1IDUgMCAxIDEgMiAwem0xNiAxNlY2NGg0NnYyaC00OFYzNy45YTUgNSAwIDEgMSAyIDB6bS0xMjggOTZWMjA4aDE2djEyLjFhNSA1IDAgMSAxLTIgMFYyMTBoLTE2di03Ni4xYTUgNSAwIDEgMSAyIDB6bS01LjktMjEuOWE1IDUgMCAxIDEgMCAySDExNHY0OEg4NS45YTUgNSAwIDEgMSAwLTJIMTEydi00OGgxMi4xem0tNi4yIDEzMGE1IDUgMCAxIDEgMC0ySDE3NnYtNzQuMWE1IDUgMCAxIDEgMiAwVjI0MmgtNjAuMXptLTE2LTY0YTUgNSAwIDEgMSAwLTJIMTE0djQ4aDEwLjFhNSA1IDAgMSAxIDAgMkgxMTJ2LTQ4aC0xMC4xek02NiAyODQuMWE1IDUgMCAxIDEtMiAwVjI3NEg1MHYzMGgtMnYtMzJoMTh2MTIuMXpNMjM2LjEgMTc2YTUgNSAwIDEgMSAwIDJIMjI2djk0aDQ4djMyaC0ydi0zMGgtNDh2LTk4aDEyLjF6bTI1LjgtMzBhNSA1IDAgMSAxIDAtMkgyNzR2NDQuMWE1IDUgMCAxIDEtMiAwVjE0NmgtMTAuMXptLTY0IDk2YTUgNSAwIDEgMSAwLTJIMjA4di04MGgxNnYtMTRoLTQyLjFhNSA1IDAgMSAxIDAtMkgyMjZ2MThoLTE2djgwaC0xMi4xem04Ni4yLTIxMGE1IDUgMCAxIDEgMCAySDI3MlYwaDJ2MzJoMTAuMXpNOTggMTAxLjlWMTQ2SDUzLjlhNSA1IDAgMSAxIDAtMkg5NnYtNDIuMWE1IDUgMCAxIDEgMiAwek01My45IDM0YTUgNSAwIDEgMSAwLTJIODBWMGgydjM0SDUzLjl6bTYwLjEgMy45VjY2SDgydjY0SDY5LjlhNSA1IDAgMSAxIDAtMkg4MFY2NGgzMlYzNy45YTUgNSAwIDEgMSAyIDB6TTEwMS45IDgyYTUgNSAwIDEgMSAwLTJIMTI4VjM3LjlhNSA1IDAgMSAxIDIgMFY4MmgtMjguMXptMTYtNjRhNSA1IDAgMSAxIDAtMkgxNDZ2NDQuMWE1IDUgMCAxIDEtMiAwVjE4aC0yNi4xem0xMDIuMiAyNzBhNSA1IDAgMSAxIDAgMkg5OHYxNGgtMnYtMTZoMTI0LjF6TTI0MiAxNDkuOVYxNjBoMTZ2MzRoLTE2djYyaDQ4djQ4aC0ydi00NmgtNDh2LTY2aDE2di0zMGgtMTZ2LTEyLjFhNSA1IDAgMSAxIDIgMHpNNTMuOSAxOGE1IDUgMCAxIDEgMC0ySDY0VjJINDhWMGgxOHYxOEg1My45em0xMTIgMzJhNSA1IDAgMSAxIDAtMkgxOTJWMGg1MHYyaC00OHY0OGgtMjguMXptLTQ4LTQ4YTUgNSAwIDAgMS05LjgtMmgyLjA3YTMgMyAwIDEgMCA1LjY2IDBIMTc4djM0aC0xOFYyMS45YTUgNSAwIDEgMSAyIDBWMzJoMTRWMmgtNTguMXptMCA5NmE1IDUgMCAxIDEgMC0ySDEzN2wzMi0zMmgzOVYyMS45YTUgNSAwIDEgMSAyIDBWNjZoLTQwLjE3bC0zMiAzMkgxMTcuOXptMjguMSA5MC4xYTUgNSAwIDEgMS0yIDB2LTc2LjUxTDE3NS41OSA4MEgyMjRWMjEuOWE1IDUgMCAxIDEgMiAwVjgyaC00OS41OUwxNDYgMTEyLjQxdjc1LjY5em0xNiAzMmE1IDUgMCAxIDEtMiAwdi05OS41MUwxODQuNTkgOTZIMzAwLjFhNSA1IDAgMCAxIDMuOS0zLjl2Mi4wN2EzIDMgMCAwIDAgMCA1LjY2djIuMDdhNSA1IDAgMCAxLTMuOS0zLjlIMTg1LjQxTDE2MiAxMjEuNDF2OTguNjl6bS0xNDQtNjRhNSA1IDAgMSAxLTIgMHYtMy41MWw0OC00OFY0OGgzMlYwaDJ2NTBINjZ2NTUuNDFsLTQ4IDQ4djIuNjl6TTUwIDUzLjl2NDMuNTFsLTQ4IDQ4VjIwOGgyNi4xYTUgNSAwIDEgMSAwIDJIMHYtNjUuNDFsNDgtNDhWNTMuOWE1IDUgMCAxIDEgMiAwem0tMTYgMTZWODkuNDFsLTM0IDM0di0yLjgybDMyLTMyVjY5LjlhNSA1IDAgMSAxIDIgMHpNMTIuMSAzMmE1IDUgMCAxIDEgMCAySDkuNDFMMCA0My40MVY0MC42TDguNTkgMzJoMy41MXptMjY1LjggMThhNSA1IDAgMSAxIDAtMmgxOC42OWw3LjQxLTcuNDF2Mi44MkwyOTcuNDEgNTBIMjc3Ljl6bS0xNiAxNjBhNSA1IDAgMSAxIDAtMkgyODh2LTcxLjQxbDE2LTE2djIuODJsLTE0IDE0VjIxMGgtMjguMXptLTIwOCAzMmE1IDUgMCAxIDEgMC0ySDY0di0yMi41OUw0MC41OSAxOTRIMjEuOWE1IDUgMCAxIDEgMC0ySDQxLjQxTDY2IDIxNi41OVYyNDJINTMuOXptMTUwLjIgMTRhNSA1IDAgMSAxIDAgMkg5NnYtNTYuNkw1Ni42IDE2MkgzNy45YTUgNSAwIDEgMSAwLTJoMTkuNUw5OCAyMDAuNlYyNTZoMTA2LjF6bS0xNTAuMiAyYTUgNSAwIDEgMSAwLTJIODB2LTQ2LjU5TDQ4LjU5IDE3OEgyMS45YTUgNSAwIDEgMSAwLTJINDkuNDFMODIgMjA4LjU5VjI1OEg1My45ek0zNCAzOS44djEuNjFMOS40MSA2Nkgwdi0yaDguNTlMMzIgNDAuNTlWMGgydjM5Ljh6TTIgMzAwLjFhNSA1IDAgMCAxIDMuOSAzLjlIMy44M0EzIDMgMCAwIDAgMCAzMDIuMTdWMjU2aDE4djQ4aC0ydi00NkgydjQyLjF6TTM0IDI0MXY2M2gtMnYtNjJIMHYtMmgzNHYxek0xNyAxOEgwdi0yaDE2VjBoMnYxOGgtMXptMjczLTJoMTR2MmgtMTZWMGgydjE2em0tMzIgMjczdjE1aC0ydi0xNGgtMTR2MTRoLTJ2LTE2aDE4djF6TTAgOTIuMUE1LjAyIDUuMDIgMCAwIDEgNiA5N2E1IDUgMCAwIDEtNiA0Ljl2LTIuMDdhMyAzIDAgMSAwIDAtNS42NlY5Mi4xek04MCAyNzJoMnYzMmgtMnYtMzJ6bTM3LjkgMzJoLTIuMDdhMyAzIDAgMCAwLTUuNjYgMGgtMi4wN2E1IDUgMCAwIDEgOS44IDB6TTUuOSAwQTUuMDIgNS4wMiAwIDAgMSAwIDUuOVYzLjgzQTMgMyAwIDAgMCAzLjgzIDBINS45em0yOTQuMiAwaDIuMDdBMyAzIDAgMCAwIDMwNCAzLjgzVjUuOWE1IDUgMCAwIDEtMy45LTUuOXptMy45IDMwMC4xdjIuMDdhMyAzIDAgMCAwLTEuODMgMS44M2gtMi4wN2E1IDUgMCAwIDEgMy45LTMuOXpNOTcgMTAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMC0xNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2IDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wIDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTQ4IDMyYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0zMiA0OGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTMyLTE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMC0zMmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2IDMyYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMzIgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wLTE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2LTY0YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2IDk2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMCAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2IDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYtMTQ0YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMCAzMmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2LTMyYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYtMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tOTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNi0zMmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTk2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYtNjRhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNi0xNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0zMiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMC0xNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6TTQ5IDM2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTMyIDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0zMiAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6TTMzIDY4YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYtNDhhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wIDI0MGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2IDMyYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2LTY0YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMCAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNi0zMmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTgwLTE3NmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYtMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0zMiA0OGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTE2LTE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMC0zMmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTExMiAxNzZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wIDE2YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMCAxNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6TTE3IDE4MGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bTAgMTZhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0wLTMyYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6TTE3IDg0YTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptMzIgNjRhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0xNi0xNmEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6JyUzRSUzQy9wYXRoJTNFJTNDL3N2ZyUzRSIpO30KICAgICAgICAuZm0tbG9naW4tcGFnZSAuYnJhbmR7IHdpZHRoOjEyMXB4O292ZXJmbG93OmhpZGRlbjttYXJnaW46MCBhdXRvO3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MX0KICAgICAgICAuZm0tbG9naW4tcGFnZSAuYnJhbmQgaW1neyB3aWR0aDoxMDAlfQogICAgICAgIC5mbS1sb2dpbi1wYWdlIC5jYXJkLXdyYXBwZXJ7IHdpZHRoOjM2MHB4O21hcmdpbi10b3A6MTAlO21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG87fQogICAgICAgIC5mbS1sb2dpbi1wYWdlIC5jYXJkeyBib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7Ym94LXNoYWRvdzowIDRweCA4cHggcmdiYSgwLDAsMCwuMDUpfQogICAgICAgIC5mbS1sb2dpbi1wYWdlIC5jYXJkLXRpdGxleyBtYXJnaW4tYm90dG9tOjEuNXJlbTtmb250LXNpemU6MjRweDtmb250LXdlaWdodDo0MDA7fQogICAgICAgIC5mbS1sb2dpbi1wYWdlIC5mb3JtLWNvbnRyb2x7IGJvcmRlci13aWR0aDoyLjNweH0KICAgICAgICAuZm0tbG9naW4tcGFnZSAuZm9ybS1ncm91cCBsYWJlbHsgd2lkdGg6MTAwJX0KICAgICAgICAuZm0tbG9naW4tcGFnZSAuYnRuLmJ0bi1ibG9ja3sgcGFkZGluZzoxMnB4IDEwcHh9CiAgICAgICAgLmZtLWxvZ2luLXBhZ2UgLmZvb3RlcnsgbWFyZ2luOjQwcHggMDtjb2xvcjojODg4O3RleHQtYWxpZ246Y2VudGVyfQogICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NDI1cHgpewogICAgICAgICAgICAuZm0tbG9naW4tcGFnZSAuY2FyZC13cmFwcGVyeyB3aWR0aDo5MCU7bWFyZ2luOjAgYXV0bzttYXJnaW4tdG9wOjEwJTt9CiAgICAgICAgfQogICAgICAgIEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6MzIwcHgpewogICAgICAgICAgICAuZm0tbG9naW4tcGFnZSAuY2FyZC5mYXR7IHBhZGRpbmc6MH0KICAgICAgICAgICAgLmZtLWxvZ2luLXBhZ2UgLmNhcmQuZmF0IC5jYXJkLWJvZHl7IHBhZGRpbmc6MTVweH0KICAgICAgICB9CiAgICAgICAgLm1lc3NhZ2V7IHBhZGRpbmc6NHB4IDdweDtib3JkZXI6MXB4IHNvbGlkICNkZGQ7YmFja2dyb3VuZC1jb2xvcjojZmZmfQogICAgICAgIC5tZXNzYWdlLm9reyBib3JkZXItY29sb3I6Z3JlZW47Y29sb3I6Z3JlZW59CiAgICAgICAgLm1lc3NhZ2UuZXJyb3J7IGJvcmRlci1jb2xvcjpyZWQ7Y29sb3I6cmVkfQogICAgICAgIC5tZXNzYWdlLmFsZXJ0eyBib3JkZXItY29sb3I6b3JhbmdlO2NvbG9yOm9yYW5nZX0KICAgICAgICBib2R5LmZtLWxvZ2luLXBhZ2UudGhlbWUtZGFyayB7YmFja2dyb3VuZC1jb2xvcjogIzJmMmEyYTt9CiAgICAgICAgLnRoZW1lLWRhcmsgc3ZnIGcsIC50aGVtZS1kYXJrIHN2ZyBwYXRoIHtmaWxsOiAjZmZmZmZmOyB9CiAgICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5IGNsYXNzPSJmbS1sb2dpbi1wYWdlIDw/cGhwIGVjaG8gKEZNX1RIRU1FID09ICJkYXJrIikgPyAndGhlbWUtZGFyaycgOiAnJzsgPz4iPgo8ZGl2IGlkPSJ3cmFwcGVyIiBjbGFzcz0iY29udGFpbmVyLWZsdWlkIj4KCiAgICA8P3BocAogICAgfQoKICAgIC8qKgogICAgICogU2hvdyBwYWdlIGZvb3RlciBpbiBMb2dpbiBGb3JtCiAgICAgKi8KICAgIGZ1bmN0aW9uIGZtX3Nob3dfZm9vdGVyX2xvZ2luKCkKICAgIHsKICAgID8+CjwvZGl2Pgo8P3BocCBwcmludF9leHRlcm5hbCgnanMtanF1ZXJ5Jyk7ID8+Cjw/cGhwIHByaW50X2V4dGVybmFsKCdqcy1ib290c3RyYXAnKTsgPz4KPC9ib2R5Pgo8L2h0bWw+Cjw/cGhwCn0KCi8qKgogKiBTaG93IEhlYWRlciBhZnRlciBsb2dpbgogKi8KZnVuY3Rpb24gZm1fc2hvd19oZWFkZXIoKQp7CiRzcHJpdGVzX3ZlciA9ICcyMDE2MDMxNSc7CmhlYWRlcigiQ29udGVudC1UeXBlOiB0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgiKTsKaGVhZGVyKCJFeHBpcmVzOiBTYXQsIDI2IEp1bCAxOTk3IDA1OjAwOjAwIEdNVCIpOwpoZWFkZXIoIkNhY2hlLUNvbnRyb2w6IG5vLXN0b3JlLCBuby1jYWNoZSwgbXVzdC1yZXZhbGlkYXRlLCBwb3N0LWNoZWNrPTAsIHByZS1jaGVjaz0wIik7CmhlYWRlcigiUHJhZ21hOiBuby1jYWNoZSIpOwoKZ2xvYmFsICRsYW5nLCAkcm9vdF91cmwsICRzdGlja3lfbmF2YmFyLCAkZmF2aWNvbl9wYXRoOwokaXNTdGlja3lOYXZCYXIgPSAkc3RpY2t5X25hdmJhciA/ICduYXZiYXItZml4ZWQnIDogJ25hdmJhci1ub3JtYWwnOwo/Pgo8IURPQ1RZUEUgaHRtbD4KPGh0bWw+CjxoZWFkPgogICAgPG1ldGEgY2hhcnNldD0idXRmLTgiPgogICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLCBzaHJpbmstdG8tZml0PW5vIj4KICAgIDxtZXRhIG5hbWU9ImRlc2NyaXB0aW9uIiBjb250ZW50PSJXZWIgYmFzZWQgRmlsZSBNYW5hZ2VyIGluIFBIUCwgTWFuYWdlIHlvdXIgZmlsZXMgZWZmaWNpZW50bHkgYW5kIGVhc2lseSB3aXRoIFRpbnkgRmlsZSBNYW5hZ2VyIj4KICAgIDxtZXRhIG5hbWU9ImF1dGhvciIgY29udGVudD0iQ0NQIFByb2dyYW1tZXJzIj4KICAgIDxtZXRhIG5hbWU9InJvYm90cyIgY29udGVudD0ibm9pbmRleCwgbm9mb2xsb3ciPgogICAgPG1ldGEgbmFtZT0iZ29vZ2xlYm90IiBjb250ZW50PSJub2luZGV4Ij4KICAgIDw/cGhwIGlmKCRmYXZpY29uX3BhdGgpIHsgZWNobyAnPGxpbmsgcmVsPSJpY29uIiBocmVmPSInLmZtX2VuYygkZmF2aWNvbl9wYXRoKS4nIiB0eXBlPSJpbWFnZS9wbmciPic7IH0gPz4KICAgIDx0aXRsZT48P3BocCBlY2hvIGlzc2V0KCRfR0VUWydlZGl0J10pID8gJF9HRVRbJ2VkaXQnXSA6IGZtX2VuYyhBUFBfVElUTEUpOyA/PjwvdGl0bGU+CiAgICA8P3BocCBwcmludF9leHRlcm5hbCgncHJlLWpzZGVsaXZyJyk7ID8+CiAgICA8P3BocCBwcmludF9leHRlcm5hbCgncHJlLWNsb3VkZmxhcmUnKTsgPz4KICAgIDw/cGhwIHByaW50X2V4dGVybmFsKCdjc3MtYm9vdHN0cmFwJyk7ID8+CiAgICA8P3BocCBwcmludF9leHRlcm5hbCgnY3NzLWZvbnQtYXdlc29tZScpOyA/PgogICAgPD9waHAgaWYgKEZNX1VTRV9ISUdITElHSFRKUyAmJiBpc3NldCgkX0dFVFsndmlldyddKSk6ID8+CiAgICA8P3BocCBwcmludF9leHRlcm5hbCgnY3NzLWhpZ2hsaWdodGpzJyk7ID8+CiAgICA8P3BocCBlbmRpZjsgPz4KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij53aW5kb3cuY3NyZiA9ICc8P3BocCBlY2hvICRfU0VTU0lPTlsndG9rZW4nXTsgPz4nOzwvc2NyaXB0PgogICAgPHN0eWxlPgogICAgICAgIGh0bWwgeyAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlOyAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDsgdGV4dC1yZW5kZXJpbmc6IG9wdGltaXplTGVnaWJpbGl0eTsgaGVpZ2h0OiAxMDAlOyBzY3JvbGwtYmVoYXZpb3I6IHNtb290aDt9CiAgICAgICAgKiwqOjpiZWZvcmUsKjo6YWZ0ZXIgeyBib3gtc2l6aW5nOiBib3JkZXItYm94O30KICAgICAgICBib2R5IHsgZm9udC1zaXplOjE1cHg7IGNvbG9yOiMyMjI7YmFja2dyb3VuZDojRjdGN0Y3OyB9CiAgICAgICAgYm9keS5uYXZiYXItZml4ZWQgeyBtYXJnaW4tdG9wOjU1cHg7IH0KICAgICAgICBhLCBhOmhvdmVyLCBhOnZpc2l0ZWQsIGE6Zm9jdXMgeyB0ZXh0LWRlY29yYXRpb246bm9uZSAhaW1wb3J0YW50OyB9CiAgICAgICAgLmZpbGVuYW1lLCB0ZCwgdGggeyB3aGl0ZS1zcGFjZTpub3dyYXAgIH0KICAgICAgICAubmF2YmFyLWJyYW5kIHsgZm9udC13ZWlnaHQ6Ym9sZDsgfQogICAgICAgIC5uYXYtaXRlbS5hdmF0YXIgYSB7IGN1cnNvcjpwb2ludGVyO3RleHQtdHJhbnNmb3JtOmNhcGl0YWxpemU7IH0KICAgICAgICAubmF2LWl0ZW0uYXZhdGFyIGEgPiBpIHsgZm9udC1zaXplOjE1cHg7IH0KICAgICAgICAubmF2LWl0ZW0uYXZhdGFyIC5kcm9wZG93bi1tZW51IGEgeyBmb250LXNpemU6MTNweDsgfQogICAgICAgICNzZWFyY2gtYWRkb24geyBmb250LXNpemU6MTJweDtib3JkZXItcmlnaHQtd2lkdGg6MDsgfQogICAgICAgIC5icmwtMCB7IGJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyLWxlZnQ6MDsgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMDsgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDsgfQogICAgICAgIC5icnItMCB7IGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwOyBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDsgfQogICAgICAgIC5icmVhZC1jcnVtYiB7IGNvbG9yOiNjY2NjY2M7Zm9udC1zdHlsZTpub3JtYWw7IH0KICAgICAgICAjbWFpbi10YWJsZSB7IHRyYW5zaXRpb246IHRyYW5zZm9ybSAuMjVzIGN1YmljLWJlemllcigwLjQsIDAuNSwgMCwgMSksd2lkdGggMHMgLjI1czt9CiAgICAgICAgI21haW4tdGFibGUgLmZpbGVuYW1lIGEgeyBjb2xvcjojMjIyMjIyOyB9CiAgICAgICAgLnRhYmxlIHRkLCAudGFibGUgdGggeyB2ZXJ0aWNhbC1hbGlnbjptaWRkbGUgIWltcG9ydGFudDsgfQogICAgICAgIC50YWJsZSAuY3VzdG9tLWNoZWNrYm94LXRkIC5jdXN0b20tY29udHJvbC5jdXN0b20tY2hlY2tib3gsIC50YWJsZSAuY3VzdG9tLWNoZWNrYm94LWhlYWRlciAuY3VzdG9tLWNvbnRyb2wuY3VzdG9tLWNoZWNrYm94IHsgbWluLXdpZHRoOjE4cHg7IGRpc3BsYXk6IGZsZXg7YWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IH0KICAgICAgICAudGFibGUtc20gdGQsIC50YWJsZS1zbSB0aCB7IHBhZGRpbmc6LjRyZW07IH0KICAgICAgICAudGFibGUtYm9yZGVyZWQgdGQsIC50YWJsZS1ib3JkZXJlZCB0aCB7IGJvcmRlcjoxcHggc29saWQgI2YxZjFmMTsgfQogICAgICAgIC5oaWRkZW4geyBkaXNwbGF5Om5vbmUgIH0KICAgICAgICBwcmUud2l0aC1obGpzIHsgcGFkZGluZzowOyBvdmVyZmxvdzogaGlkZGVuOyAgfQogICAgICAgIHByZS53aXRoLWhsanMgY29kZSB7IG1hcmdpbjowO2JvcmRlcjowO292ZXJmbG93OnNjcm9sbDsgIH0KICAgICAgICBjb2RlLm1heGhlaWdodCwgcHJlLm1heGhlaWdodCB7IG1heC1oZWlnaHQ6NTEycHggIH0KICAgICAgICAuZmEuZmEtY2FyZXQtcmlnaHQgeyBmb250LXNpemU6MS4yZW07bWFyZ2luOjAgNHB4O3ZlcnRpY2FsLWFsaWduOm1pZGRsZTtjb2xvcjojZWNlY2VjICB9CiAgICAgICAgLmZhLmZhLWhvbWUgeyBmb250LXNpemU6MS4zZW07dmVydGljYWwtYWxpZ246Ym90dG9tICB9CiAgICAgICAgLnBhdGggeyBtYXJnaW4tYm90dG9tOjEwcHggIH0KICAgICAgICBmb3JtLmRyb3B6b25lIHsgbWluLWhlaWdodDoyMDBweDtib3JkZXI6MnB4IGRhc2hlZCAjMDA3YmZmO2xpbmUtaGVpZ2h0OjZyZW07IH0KICAgICAgICAucmlnaHQgeyB0ZXh0LWFsaWduOnJpZ2h0ICB9CiAgICAgICAgLmNlbnRlciwgLmNsb3NlLCAubG9naW4tZm9ybSwgLnByZXZpZXctaW1nLWNvbnRhaW5lciB7IHRleHQtYWxpZ246Y2VudGVyICB9CiAgICAgICAgLm1lc3NhZ2UgeyBwYWRkaW5nOjRweCA3cHg7Ym9yZGVyOjFweCBzb2xpZCAjZGRkO2JhY2tncm91bmQtY29sb3I6I2ZmZiAgfQogICAgICAgIC5tZXNzYWdlLm9rIHsgYm9yZGVyLWNvbG9yOmdyZWVuO2NvbG9yOmdyZWVuICB9CiAgICAgICAgLm1lc3NhZ2UuZXJyb3IgeyBib3JkZXItY29sb3I6cmVkO2NvbG9yOnJlZCAgfQogICAgICAgIC5tZXNzYWdlLmFsZXJ0IHsgYm9yZGVyLWNvbG9yOm9yYW5nZTtjb2xvcjpvcmFuZ2UgIH0KICAgICAgICAucHJldmlldy1pbWcgeyBtYXgtd2lkdGg6MTAwJTttYXgtaGVpZ2h0Ojgwdmg7YmFja2dyb3VuZDp1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FJQUFBQ1FrV2cyQUFBQUtrbEVRVlI0Mm1MNS8vOC9BemJ3K1BGanJPSk1EQ1NDVVEzRUFCWmM0UzByS3pzYVN2VFRBQkJnQU15ZkNNc1k0QjlpQUFBQUFFbEZUa1N1UW1DQyk7Y3Vyc29yOnpvb20taW4gfQogICAgICAgIGlucHV0I3ByZXZpZXctaW1nLXpvb21DaGVja1t0eXBlPWNoZWNrYm94XSB7IGRpc3BsYXk6bm9uZSB9CiAgICAgICAgaW5wdXQjcHJldmlldy1pbWctem9vbUNoZWNrW3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQgfiBsYWJlbCA+IGltZyB7IG1heC13aWR0aDpub25lO21heC1oZWlnaHQ6bm9uZTtjdXJzb3I6em9vbS1vdXQgfQogICAgICAgIC5pbmxpbmUtYWN0aW9ucyA+IGEgPiBpIHsgZm9udC1zaXplOjFlbTttYXJnaW4tbGVmdDo1cHg7YmFja2dyb3VuZDojMzc4NWMxO2NvbG9yOiNmZmY7cGFkZGluZzozcHggNHB4O2JvcmRlci1yYWRpdXM6M3B4OyB9CiAgICAgICAgLnByZXZpZXctdmlkZW8geyBwb3NpdGlvbjpyZWxhdGl2ZTttYXgtd2lkdGg6MTAwJTtoZWlnaHQ6MDtwYWRkaW5nLWJvdHRvbTo2Mi41JTttYXJnaW4tYm90dG9tOjEwcHggIH0KICAgICAgICAucHJldmlldy12aWRlbyB2aWRlbyB7IHBvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7bGVmdDowO3RvcDowO2JhY2tncm91bmQ6IzAwMCAgfQogICAgICAgIC5jb21wYWN0LXRhYmxlIHsgYm9yZGVyOjA7d2lkdGg6YXV0byAgfQogICAgICAgIC5jb21wYWN0LXRhYmxlIHRkLCAuY29tcGFjdC10YWJsZSB0aCB7IHdpZHRoOjEwMHB4O2JvcmRlcjowO3RleHQtYWxpZ246Y2VudGVyICB9CiAgICAgICAgLmNvbXBhY3QtdGFibGUgdHI6aG92ZXIgdGQgeyBiYWNrZ3JvdW5kLWNvbG9yOiNmZmYgIH0KICAgICAgICAuZmlsZW5hbWUgeyBtYXgtd2lkdGg6NDIwcHg7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMgIH0KICAgICAgICAuYnJlYWstd29yZCB7IHdvcmQtd3JhcDpicmVhay13b3JkO21hcmdpbi1sZWZ0OjMwcHggIH0KICAgICAgICAuYnJlYWstd29yZC5mbG9hdC1sZWZ0IGEgeyBjb2xvcjojN2Q3ZDdkICB9CiAgICAgICAgLmJyZWFrLXdvcmQgKyAuZmxvYXQtcmlnaHQgeyBwYWRkaW5nLXJpZ2h0OjMwcHg7cG9zaXRpb246cmVsYXRpdmUgIH0KICAgICAgICAuYnJlYWstd29yZCArIC5mbG9hdC1yaWdodCA+IGEgeyBjb2xvcjojN2Q3ZDdkO2ZvbnQtc2l6ZToxLjJlbTttYXJnaW4tcmlnaHQ6NHB4ICB9CiAgICAgICAgI2VkaXRvciB7IHBvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjE1cHg7dG9wOjEwMHB4O2JvdHRvbToxNXB4O2xlZnQ6MTVweCAgfQogICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOjQ4MXB4KSB7CiAgICAgICAgICAgICNlZGl0b3IgeyB0b3A6MTUwcHg7IH0KICAgICAgICB9CiAgICAgICAgI25vcm1hbC1lZGl0b3IgeyBib3JkZXItcmFkaXVzOjNweDtib3JkZXItd2lkdGg6MnB4O3BhZGRpbmc6MTBweDtvdXRsaW5lOm5vbmU7IH0KICAgICAgICAuYnRuLTIgeyBwYWRkaW5nOjRweCAxMHB4O2ZvbnQtc2l6ZTpzbWFsbDsgfQogICAgICAgIGxpLmZpbGU6YmVmb3JlLGxpLmZvbGRlcjpiZWZvcmUgeyBmb250Om5vcm1hbCBub3JtYWwgbm9ybWFsIDE0cHgvMSBGb250QXdlc29tZTtjb250ZW50OiJcZjAxNiI7bWFyZ2luLXJpZ2h0OjVweCB9CiAgICAgICAgbGkuZm9sZGVyOmJlZm9yZSB7IGNvbnRlbnQ6IlxmMTE0IiB9CiAgICAgICAgaS5mYS5mYS1mb2xkZXItbyB7IGNvbG9yOiMwMTU3YjMgfQogICAgICAgIGkuZmEuZmEtcGljdHVyZS1vIHsgY29sb3I6IzI2Yjk5YSB9CiAgICAgICAgaS5mYS5mYS1maWxlLWFyY2hpdmUtbyB7IGNvbG9yOiNkYTdkN2QgfQogICAgICAgIC5idG4tMiBpLmZhLmZhLWZpbGUtYXJjaGl2ZS1vIHsgY29sb3I6aW5oZXJpdCB9CiAgICAgICAgaS5mYS5mYS1jc3MzIHsgY29sb3I6I2YzNmZhMCB9CiAgICAgICAgaS5mYS5mYS1maWxlLWNvZGUtbyB7IGNvbG9yOiMwMDdiZmYgfQogICAgICAgIGkuZmEuZmEtY29kZSB7IGNvbG9yOiNjYzRiNGMgfQogICAgICAgIGkuZmEuZmEtZmlsZS10ZXh0LW8geyBjb2xvcjojMDA5NmU2IH0KICAgICAgICBpLmZhLmZhLWh0bWw1IHsgY29sb3I6I2Q3NWU3MiB9CiAgICAgICAgaS5mYS5mYS1maWxlLWV4Y2VsLW8geyBjb2xvcjojMDljNTVkIH0KICAgICAgICBpLmZhLmZhLWZpbGUtcG93ZXJwb2ludC1vIHsgY29sb3I6I2Y2NzEyZSB9CiAgICAgICAgaS5nby1iYWNrIHsgZm9udC1zaXplOjEuMmVtO2NvbG9yOiMwMDdiZmY7IH0KICAgICAgICAubWFpbi1uYXYgeyBwYWRkaW5nOjAuMnJlbSAxcmVtO2JveC1zaGFkb3c6MCA0cHggNXB4IDAgcmdiYSgwLCAwLCAwLCAuMTQpLCAwIDFweCAxMHB4IDAgcmdiYSgwLCAwLCAwLCAuMTIpLCAwIDJweCA0cHggLTFweCByZ2JhKDAsIDAsIDAsIC4yKSAgfQogICAgICAgIC5kYXRhVGFibGVzX2ZpbHRlciB7IGRpc3BsYXk6bm9uZTsgfQogICAgICAgIHRhYmxlLmRhdGFUYWJsZSB0aGVhZCAuc29ydGluZyB7IGN1cnNvcjpwb2ludGVyO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlciByaWdodDtiYWNrZ3JvdW5kLWltYWdlOnVybCgnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCTUFBQUFUQ0FRQUFBRFlXZjVIQUFBQWtFbEVRVlFvejdYUU1RNUFRQkNGNGRXUVNKeEM1d3dheDFDcTFlN0JBZHhENVNMK1RxL1FDTTFvTmlKaWR3b3gwMzU1bVhuRy9EckV0SVE2YXppb05aUXhJMHlrUGhUUUl3aENSK0JtQll0bEs3a0xKWXdXQ2NKQTlNNHFkclpyZDhwUGpaV1B0T3FkUlF5MzIwWVNWMTdPYXRGQzRldXRzNnozOUdZTUtSUENUS1k5VW5QUTZQK0d0TVJmR3RQbkJDaXFoQWVKUG1rcUFBQUFBRWxGVGtTdVFtQ0MnKTsgfQogICAgICAgIHRhYmxlLmRhdGFUYWJsZSB0aGVhZCAuc29ydGluZ19hc2MgeyBjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXIgcmlnaHQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQk1BQUFBVENBWUFBQUJ5VURiTUFBQUFaMGxFUVZRNHkyTmdHTEtncXVFdUZ4QlBBR0kyYWhoV0NzUy9nRGliVW9PMGdQZ3hFUDhINHR0QXJFeXVRWXhBUEJkcUVBeFBCSW1UWTVnakVMOURNK3dURU51UWFoQXZFTzlETXdpR2R3QXhPeW1HSlFMeFR5RCtqZ1dEeENNWlJzRW9HQVZvQUFEZWVtd3RQY1pJMndBQUFBQkpSVTVFcmtKZ2dnPT0nKTsgfQogICAgICAgIHRhYmxlLmRhdGFUYWJsZSB0aGVhZCAuc29ydGluZ19kZXNjIHsgY3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIHJpZ2h0O2JhY2tncm91bmQtaW1hZ2U6dXJsKCdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJNQUFBQVRDQVlBQUFCeVVEYk1BQUFBWlVsRVFWUTR5Mk5nR0FXallCU2dnYXFHdTVGQS9CT0l2MlBCSVBGRVVneGpCK0lkUVB3ZkM5NEh4THlrdXM0R2lEK2hHZlFPaUIzSjhTb2pFRTlFTTJ3dVNKemNzRk1HNHR0UWd4NERzUmFsa1pFTnhMK0F1SlFhTWNzR3hCT0FtR3ZvcGs4QVZ6MXNMWmdnMGJzQUFBQUFTVVZPUks1Q1lJST0nKTsgfQogICAgICAgIHRhYmxlLmRhdGFUYWJsZSB0aGVhZCB0cjpmaXJzdC1jaGlsZCB0aC5jdXN0b20tY2hlY2tib3gtaGVhZGVyOmZpcnN0LWNoaWxkIHsgYmFja2dyb3VuZC1pbWFnZTpub25lOyB9CiAgICAgICAgLmZvb3Rlci1hY3Rpb24gbGkgeyBtYXJnaW4tYm90dG9tOjEwcHg7IH0KICAgICAgICAuYXBwLXYtdGl0bGUgeyBmb250LXNpemU6MjRweDtmb250LXdlaWdodDozMDA7bGV0dGVyLXNwYWNpbmc6LS41cHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlOyB9CiAgICAgICAgaHIuY3VzdG9tLWhyIHsgYm9yZGVyLXRvcDoxcHggZGFzaGVkICM4YzhiOGI7Ym9yZGVyLWJvdHRvbToxcHggZGFzaGVkICNmZmY7IH0KICAgICAgICAjc25hY2tiYXIgeyB2aXNpYmlsaXR5OmhpZGRlbjttaW4td2lkdGg6MjUwcHg7bWFyZ2luLWxlZnQ6LTEyNXB4O2JhY2tncm91bmQtY29sb3I6IzMzMztjb2xvcjojZmZmO3RleHQtYWxpZ246Y2VudGVyO2JvcmRlci1yYWRpdXM6MnB4O3BhZGRpbmc6MTZweDtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjE7bGVmdDo1MCU7Ym90dG9tOjMwcHg7Zm9udC1zaXplOjE3cHg7IH0KICAgICAgICAjc25hY2tiYXIuc2hvdyB7IHZpc2liaWxpdHk6dmlzaWJsZTstd2Via2l0LWFuaW1hdGlvbjpmYWRlaW4gMC41cywgZmFkZW91dCAwLjVzIDIuNXM7YW5pbWF0aW9uOmZhZGVpbiAwLjVzLCBmYWRlb3V0IDAuNXMgMi41czsgfQogICAgICAgIEAtd2Via2l0LWtleWZyYW1lcyBmYWRlaW4geyBmcm9tIHsgYm90dG9tOjA7b3BhY2l0eTowOyB9CiAgICAgICAgdG8geyBib3R0b206MzBweDtvcGFjaXR5OjE7IH0KICAgICAgICB9CiAgICAgICAgQGtleWZyYW1lcyBmYWRlaW4geyBmcm9tIHsgYm90dG9tOjA7b3BhY2l0eTowOyB9CiAgICAgICAgdG8geyBib3R0b206MzBweDtvcGFjaXR5OjE7IH0KICAgICAgICB9CiAgICAgICAgQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVvdXQgeyBmcm9tIHsgYm90dG9tOjMwcHg7b3BhY2l0eToxOyB9CiAgICAgICAgdG8geyBib3R0b206MDtvcGFjaXR5OjA7IH0KICAgICAgICB9CiAgICAgICAgQGtleWZyYW1lcyBmYWRlb3V0IHsgZnJvbSB7IGJvdHRvbTozMHB4O29wYWNpdHk6MTsgfQogICAgICAgIHRvIHsgYm90dG9tOjA7b3BhY2l0eTowOyB9CiAgICAgICAgfQogICAgICAgICNtYWluLXRhYmxlIHNwYW4uYmFkZ2UgeyBib3JkZXItYm90dG9tOjJweCBzb2xpZCAjZjhmOWZhIH0KICAgICAgICAjbWFpbi10YWJsZSBzcGFuLmJhZGdlOm50aC1jaGlsZCgxKSB7IGJvcmRlci1jb2xvcjojZGY0MjI3IH0KICAgICAgICAjbWFpbi10YWJsZSBzcGFuLmJhZGdlOm50aC1jaGlsZCgyKSB7IGJvcmRlci1jb2xvcjojZjhiNjAwIH0KICAgICAgICAjbWFpbi10YWJsZSBzcGFuLmJhZGdlOm50aC1jaGlsZCgzKSB7IGJvcmRlci1jb2xvcjojMDBiZDYwIH0KICAgICAgICAjbWFpbi10YWJsZSBzcGFuLmJhZGdlOm50aC1jaGlsZCg0KSB7IGJvcmRlci1jb2xvcjojNDU4MWZmIH0KICAgICAgICAjbWFpbi10YWJsZSBzcGFuLmJhZGdlOm50aC1jaGlsZCg1KSB7IGJvcmRlci1jb2xvcjojYWM2OGZjIH0KICAgICAgICAjbWFpbi10YWJsZSBzcGFuLmJhZGdlOm50aC1jaGlsZCg2KSB7IGJvcmRlci1jb2xvcjojNDVjM2QyIH0KICAgICAgICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4tZGV2aWNlLXdpZHRoOjc2OHB4KSBhbmQgKG1heC1kZXZpY2Utd2lkdGg6MTAyNHB4KSBhbmQgKG9yaWVudGF0aW9uOmxhbmRzY2FwZSkgYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86MikgeyAubmF2YmFyLWNvbGxhcHNlIC5jb2wteHMtNiB7IHBhZGRpbmc6MDsgfQogICAgICAgIH0KICAgICAgICAuYnRuLmFjdGl2ZS5mb2N1cywuYnRuLmFjdGl2ZTpmb2N1cywuYnRuLmZvY3VzLC5idG4uZm9jdXM6YWN0aXZlLC5idG46YWN0aXZlOmZvY3VzLC5idG46Zm9jdXMgeyBvdXRsaW5lOjAhaW1wb3J0YW50O291dGxpbmUtb2Zmc2V0OjAhaW1wb3J0YW50O2JhY2tncm91bmQtaW1hZ2U6bm9uZSFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtc2hhZG93Om5vbmUhaW1wb3J0YW50O2JveC1zaGFkb3c6bm9uZSFpbXBvcnRhbnQgfQogICAgICAgIC5sZHMtZmFjZWJvb2sgeyBkaXNwbGF5Om5vbmU7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6NjRweDtoZWlnaHQ6NjRweCB9CiAgICAgICAgLmxkcy1mYWNlYm9vayBkaXYsLmxkcy1mYWNlYm9vay5zaG93LW1lIHsgZGlzcGxheTppbmxpbmUtYmxvY2sgfQogICAgICAgIC5sZHMtZmFjZWJvb2sgZGl2IHsgcG9zaXRpb246YWJzb2x1dGU7bGVmdDo2cHg7d2lkdGg6MTNweDtiYWNrZ3JvdW5kOiMwMDdiZmY7YW5pbWF0aW9uOmxkcy1mYWNlYm9vayAxLjJzIGN1YmljLWJlemllcigwLC41LC41LDEpIGluZmluaXRlIH0KICAgICAgICAubGRzLWZhY2Vib29rIGRpdjpudGgtY2hpbGQoMSkgeyBsZWZ0OjZweDthbmltYXRpb24tZGVsYXk6LS4yNHMgfQogICAgICAgIC5sZHMtZmFjZWJvb2sgZGl2Om50aC1jaGlsZCgyKSB7IGxlZnQ6MjZweDthbmltYXRpb24tZGVsYXk6LS4xMnMgfQogICAgICAgIC5sZHMtZmFjZWJvb2sgZGl2Om50aC1jaGlsZCgzKSB7IGxlZnQ6NDVweDthbmltYXRpb24tZGVsYXk6MHMgfQogICAgICAgIEBrZXlmcmFtZXMgbGRzLWZhY2Vib29rIHsgMCUgeyB0b3A6NnB4O2hlaWdodDo1MXB4IH0KICAgICAgICAxMDAlLDUwJSB7IHRvcDoxOXB4O2hlaWdodDoyNnB4IH0KICAgICAgICB9CiAgICAgICAgdWwjc2VhcmNoLXdyYXBwZXIgeyBwYWRkaW5nLWxlZnQ6IDA7Ym9yZGVyOiAxcHggc29saWQgI2VjZWNlY2NjOyB9IHVsI3NlYXJjaC13cmFwcGVyIGxpIHsgbGlzdC1zdHlsZTogbm9uZTsgcGFkZGluZzogNXB4O2JvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWNlY2VjY2M7IH0KICAgICAgICB1bCNzZWFyY2gtd3JhcHBlciBsaTpudGgtY2hpbGQob2RkKXsgYmFja2dyb3VuZDogI2Y5ZjlmOWNjO30KICAgICAgICAuYy1wcmV2aWV3LWltZyB7IG1heC13aWR0aDogMzAwcHg7IH0KICAgICAgICAuYm9yZGVyLXJhZGl1cy0wIHsgYm9yZGVyLXJhZGl1czogMDsgfQogICAgICAgIC5mbG9hdC1yaWdodCB7IGZsb2F0OiByaWdodDsgfQogICAgICAgIC50YWJsZS1ob3Zlcj50Ym9keT50cjpob3Zlcj50ZDpmaXJzdC1jaGlsZCB7IGJvcmRlci1sZWZ0OiAxcHggc29saWQgIzFiNzdmZDsgfQogICAgICAgICNtYWluLXRhYmxlIHRyLmV2ZW4geyBiYWNrZ3JvdW5kLWNvbG9yOiAjRjhGOUZhOyB9CiAgICAgICAgLmZpbGVuYW1lPmE+aSB7bWFyZ2luLXJpZ2h0OiAzcHg7fQogICAgPC9zdHlsZT4KICAgIDw/cGhwCiAgICBpZiAoRk1fVEhFTUUgPT0gImRhcmsiKTogPz4KICAgICAgICA8c3R5bGU+CiAgICAgICAgICAgIDpyb290IHsKICAgICAgICAgICAgICAgIC0tYnMtYmctb3BhY2l0eTogMTsKICAgICAgICAgICAgICAgIC0tYmctY29sb3I6ICNmM2RhYTY7CiAgICAgICAgICAgICAgICAtLWJzLWRhcmstcmdiOiAyOCwgMzYsIDQxICFpbXBvcnRhbnQ7CiAgICAgICAgICAgICAgICAtLWJzLWJnLW9wYWNpdHk6IDE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLnRhYmxlLWRhcmsgeyAtLWJzLXRhYmxlLWJnOiAyOCwgMzYsIDQxICFpbXBvcnRhbnQ7IH0KICAgICAgICAgICAgLmJ0bi1wcmltYXJ5IHsgLS1icy1idG4tYmc6ICMyNjU2NmM7IC0tYnMtYnRuLWJvcmRlci1jb2xvcjogIzI2NTY2YzsgfQogICAgICAgICAgICBib2R5LnRoZW1lLWRhcmsgeyBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICMxYzI0MjksICMyNjMyMzgpOyBjb2xvcjogI0NGRDhEQzsgfQogICAgICAgICAgICAubGlzdC1ncm91cCAubGlzdC1ncm91cC1pdGVtIHsgYmFja2dyb3VuZDogIzM0M2E0MDsgfQogICAgICAgICAgICAudGhlbWUtZGFyayAubmF2YmFyLW5hdiBpLCAubmF2YmFyLW5hdiAuZHJvcGRvd24tdG9nZ2xlLCAuYnJlYWstd29yZCB7IGNvbG9yOiAjQ0ZEOERDOyB9CiAgICAgICAgICAgIGEsIGE6aG92ZXIsIGE6dmlzaXRlZCwgYTphY3RpdmUsICNtYWluLXRhYmxlIC5maWxlbmFtZSBhLCBpLmZhLmZhLWZvbGRlci1vLCBpLmdvLWJhY2sgeyBjb2xvcjogdmFyKC0tYmctY29sb3IpOyB9CiAgICAgICAgICAgIHVsI3NlYXJjaC13cmFwcGVyIGxpOm50aC1jaGlsZChvZGQpIHsgYmFja2dyb3VuZDogIzIxMmEyZjsgfQogICAgICAgICAgICAudGhlbWUtZGFyayAuYnRuLW91dGxpbmUtcHJpbWFyeSB7IGNvbG9yOiAjYjhlNTljOyBib3JkZXItY29sb3I6ICNiOGU1OWM7IH0KICAgICAgICAgICAgLnRoZW1lLWRhcmsgLmJ0bi1vdXRsaW5lLXByaW1hcnk6aG92ZXIsIC50aGVtZS1kYXJrIC5idG4tb3V0bGluZS1wcmltYXJ5OmFjdGl2ZSB7IGJhY2tncm91bmQtY29sb3I6ICMyZDQxMjE7fQogICAgICAgICAgICAudGhlbWUtZGFyayBpbnB1dC5mb3JtLWNvbnRyb2wgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjMTAxNTE4OyBjb2xvcjogI0NGRDhEQzsgfQogICAgICAgICAgICAudGhlbWUtZGFyayAuZHJvcHpvbmUgeyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgfQogICAgICAgICAgICAudGhlbWUtZGFyayAuaW5saW5lLWFjdGlvbnMgPiBhID4gaSB7IGJhY2tncm91bmQ6ICM3OTc1NWU7IH0KICAgICAgICAgICAgLnRoZW1lLWRhcmsgLnRleHQtd2hpdGUgeyBjb2xvcjogI0NGRDhEQyAhaW1wb3J0YW50OyB9CiAgICAgICAgICAgIC50aGVtZS1kYXJrIC50YWJsZS1ib3JkZXJlZCB0ZCwgLnRhYmxlLWJvcmRlcmVkIHRoIHsgYm9yZGVyLWNvbG9yOiAjMzQzNDM0OyB9CiAgICAgICAgICAgIC50aGVtZS1kYXJrIC50YWJsZS1ib3JkZXJlZCB0ZCAuY3VzdG9tLWNvbnRyb2wtaW5wdXQsIC50aGVtZS1kYXJrIC50YWJsZS1ib3JkZXJlZCB0aCAuY3VzdG9tLWNvbnRyb2wtaW5wdXQgeyBvcGFjaXR5OiAwLjY3ODsgfQogICAgICAgICAgICAubWVzc2FnZSB7IGJhY2tncm91bmQtY29sb3I6ICMyMTI1Mjk7IH0KICAgICAgICAgICAgLmNvbXBhY3QtdGFibGUgdHI6aG92ZXIgdGQgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjM2QzZDNkOyB9CiAgICAgICAgICAgICNtYWluLXRhYmxlIHRyLmV2ZW4geyBiYWNrZ3JvdW5kLWNvbG9yOiAjMjEyOTJmOyB9CiAgICAgICAgICAgIGZvcm0uZHJvcHpvbmUgeyBib3JkZXItY29sb3I6ICM3OTc1NWU7IH0KICAgICAgICA8L3N0eWxlPgogICAgPD9waHAgZW5kaWY7ID8+CjwvaGVhZD4KPGJvZHkgY2xhc3M9Ijw/cGhwIGVjaG8gKEZNX1RIRU1FID09ICJkYXJrIikgPyAndGhlbWUtZGFyaycgOiAnJzsgPz4gPD9waHAgZWNobyAkaXNTdGlja3lOYXZCYXI7ID8+Ij4KPGRpdiBpZD0id3JhcHBlciIgY2xhc3M9ImNvbnRhaW5lci1mbHVpZCI+CiAgICA8IS0tIE5ldyBJdGVtIGNyZWF0aW9uIC0tPgogICAgPGRpdiBjbGFzcz0ibW9kYWwgZmFkZSIgaWQ9ImNyZWF0ZU5ld0l0ZW0iIHRhYmluZGV4PSItMSIgcm9sZT0iZGlhbG9nIiBkYXRhLWJzLWJhY2tkcm9wPSJzdGF0aWMiIGRhdGEtYnMta2V5Ym9hcmQ9ImZhbHNlIiBhcmlhLWxhYmVsbGVkYnk9Im5ld0l0ZW1Nb2RhbExhYmVsIiBhcmlhLWhpZGRlbj0idHJ1ZSI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZGlhbG9nIiByb2xlPSJkb2N1bWVudCI+CiAgICAgICAgICAgIDxmb3JtIGNsYXNzPSJtb2RhbC1jb250ZW50IDw/cGhwIGVjaG8gZm1fZ2V0X3RoZW1lKCk7ID8+IiBtZXRob2Q9InBvc3QiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtaGVhZGVyIj4KICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9Im1vZGFsLXRpdGxlIiBpZD0ibmV3SXRlbU1vZGFsTGFiZWwiPjxpIGNsYXNzPSJmYSBmYS1wbHVzLXNxdWFyZSBmYS1mdyI+PC9pPjw/cGhwIGVjaG8gbG5nKCdDcmVhdGVOZXdJdGVtJykgPz48L2g1PgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuLWNsb3NlIiBkYXRhLWJzLWRpc21pc3M9Im1vZGFsIiBhcmlhLWxhYmVsPSJDbG9zZSI+PC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkiPgogICAgICAgICAgICAgICAgICAgIDxwPjxsYWJlbCBmb3I9Im5ld2ZpbGUiPjw/cGhwIGVjaG8gbG5nKCdJdGVtVHlwZScpID8+IDwvbGFiZWw+PC9wPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvcm0tY2hlY2sgZm9ybS1jaGVjay1pbmxpbmUiPgogICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPSJmb3JtLWNoZWNrLWlucHV0IiB0eXBlPSJyYWRpbyIgbmFtZT0ibmV3ZmlsZSIgaWQ9ImN1c3RvbVJhZGlvSW5saW5lMSIgbmFtZT0ibmV3ZmlsZSIgdmFsdWU9ImZpbGUiPgogICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWNoZWNrLWxhYmVsIiBmb3I9ImN1c3RvbVJhZGlvSW5saW5lMSI+PD9waHAgZWNobyBsbmcoJ0ZpbGUnKSA/PjwvbGFiZWw+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9ybS1jaGVjayBmb3JtLWNoZWNrLWlubGluZSI+CiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9ImZvcm0tY2hlY2staW5wdXQiIHR5cGU9InJhZGlvIiBuYW1lPSJuZXdmaWxlIiBpZD0iY3VzdG9tUmFkaW9JbmxpbmUyIiB2YWx1ZT0iZm9sZGVyIiBjaGVja2VkPgogICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJmb3JtLWNoZWNrLWxhYmVsIiBmb3I9ImN1c3RvbVJhZGlvSW5saW5lMiI+PD9waHAgZWNobyBsbmcoJ0ZvbGRlcicpID8+PC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9Im10LTMiPjxsYWJlbCBmb3I9Im5ld2ZpbGVuYW1lIj48P3BocCBlY2hvIGxuZygnSXRlbU5hbWUnKSA/PiA8L2xhYmVsPjwvcD4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0ibmV3ZmlsZW5hbWUiIGlkPSJuZXdmaWxlbmFtZSIgdmFsdWU9IiIgY2xhc3M9ImZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9Ijw/cGhwIGVjaG8gbG5nKCdFbnRlciBoZXJlLi4uJykgPz4iIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1mb290ZXIiPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InRva2VuIiB2YWx1ZT0iPD9waHAgZWNobyAkX1NFU1NJT05bJ3Rva2VuJ107ID8+Ij4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biBidG4tb3V0bGluZS1wcmltYXJ5IiBkYXRhLWJzLWRpc21pc3M9Im1vZGFsIj48aSBjbGFzcz0iZmEgZmEtdGltZXMtY2lyY2xlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdDYW5jZWwnKSA/PjwvYnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIj48aSBjbGFzcz0iZmEgZmEtY2hlY2stY2lyY2xlIj48L2k+IDw/cGhwIGVjaG8gbG5nKCdDcmVhdGVOb3cnKSA/PjwvYnV0dG9uPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gQWR2YW5jZSBTZWFyY2ggTW9kYWwgLS0+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbCBmYWRlIiBpZD0ic2VhcmNoTW9kYWwiIHRhYmluZGV4PSItMSIgcm9sZT0iZGlhbG9nIiBhcmlhLWxhYmVsbGVkYnk9InNlYXJjaE1vZGFsTGFiZWwiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZGlhbG9nIG1vZGFsLWxnIiByb2xlPSJkb2N1bWVudCI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCA8P3BocCBlY2hvIGZtX2dldF90aGVtZSgpOyA/PiI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICA8aDUgY2xhc3M9Im1vZGFsLXRpdGxlIGNvbC0xMCIgaWQ9InNlYXJjaE1vZGFsTGFiZWwiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaW5wdXQtZ3JvdXAgbWItMyI+CiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iZm9ybS1jb250cm9sIiBwbGFjZWhvbGRlcj0iPD9waHAgZWNobyBsbmcoJ1NlYXJjaCcpID8+IDw/cGhwIGVjaG8gbG5nKCdhIGZpbGVzJykgPz4iIGFyaWEtbGFiZWw9Ijw/cGhwIGVjaG8gbG5nKCdTZWFyY2gnKSA/PiIgYXJpYS1kZXNjcmliZWRieT0ic2VhcmNoLWFkZG9uMyIgaWQ9ImFkdmFuY2VkLXNlYXJjaCIgYXV0b2ZvY3VzIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iaW5wdXQtZ3JvdXAtdGV4dCIgaWQ9InNlYXJjaC1hZGRvbjMiPjxpIGNsYXNzPSJmYSBmYS1zZWFyY2giPjwvaT48L3NwYW4+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9oNT4KICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4tY2xvc2UiIGRhdGEtYnMtZGlzbWlzcz0ibW9kYWwiIGFyaWEtbGFiZWw9IkNsb3NlIj48L2J1dHRvbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtYm9keSI+CiAgICAgICAgICAgIDxmb3JtIGFjdGlvbj0iIiBtZXRob2Q9InBvc3QiPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibGRzLWZhY2Vib29rIj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48L2Rpdj4KICAgICAgICAgICAgICAgIDx1bCBpZD0ic2VhcmNoLXdyYXBwZXIiPgogICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPSJtLTIiPjw/cGhwIGVjaG8gbG5nKCdTZWFyY2ggZmlsZSBpbiBmb2xkZXIgYW5kIHN1YmZvbGRlcnMuLi4nKSA/PjwvcD4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgIDwvZm9ybT4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS1SZW5hbWUgTW9kYWwgLS0+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbCBtb2RhbC1hbGVydCIgZGF0YS1icy1iYWNrZHJvcD0ic3RhdGljIiBkYXRhLWJzLWtleWJvYXJkPSJmYWxzZSIgdGFiaW5kZXg9Ii0xIiByb2xlPSJkaWFsb2ciIGlkPSJyZW5hbWVEYWlsb2ciPgogICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1kaWFsb2ciIHJvbGU9ImRvY3VtZW50Ij4KICAgICAgICA8Zm9ybSBjbGFzcz0ibW9kYWwtY29udGVudCByb3VuZGVkLTMgc2hhZG93IDw/cGhwIGVjaG8gZm1fZ2V0X3RoZW1lKCk7ID8+IiBtZXRob2Q9InBvc3QiIGF1dG9jb21wbGV0ZT0ib2ZmIj4KICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkgcC00IHRleHQtY2VudGVyIj4KICAgICAgICAgICAgPGg1IGNsYXNzPSJtYi0zIj48P3BocCBlY2hvIGxuZygnQXJlIHlvdSBzdXJlIHdhbnQgdG8gcmVuYW1lPycpID8+PC9oNT4KICAgICAgICAgICAgPHAgY2xhc3M9Im1iLTEiPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9InJlbmFtZV90byIgaWQ9ImpzLXJlbmFtZS10byIgY2xhc3M9ImZvcm0tY29udHJvbCIgcGxhY2Vob2xkZXI9Ijw/cGhwIGVjaG8gbG5nKCdFbnRlciBuZXcgZmlsZSBuYW1lJykgPz4iIHJlcXVpcmVkPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0idG9rZW4iIHZhbHVlPSI8P3BocCBlY2hvICRfU0VTU0lPTlsndG9rZW4nXTsgPz4iPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0icmVuYW1lX2Zyb20iIGlkPSJqcy1yZW5hbWUtZnJvbSI+CiAgICAgICAgICAgIDwvcD4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtZm9vdGVyIGZsZXgtbm93cmFwIHAtMCI+CiAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1sZyBidG4tbGluayBmcy02IHRleHQtZGVjb3JhdGlvbi1ub25lIGNvbC02IG0tMCByb3VuZGVkLTAgYm9yZGVyLWVuZCIgZGF0YS1icy1kaXNtaXNzPSJtb2RhbCI+PD9waHAgZWNobyBsbmcoJ0NhbmNlbCcpID8+PC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gdHlwZT0ic3VibWl0IiBjbGFzcz0iYnRuIGJ0bi1sZyBidG4tbGluayBmcy02IHRleHQtZGVjb3JhdGlvbi1ub25lIGNvbC02IG0tMCByb3VuZGVkLTAiPjxzdHJvbmc+PD9waHAgZWNobyBsbmcoJ09rYXknKSA/Pjwvc3Ryb25nPjwvYnV0dG9uPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9mb3JtPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIDwhLS0gQ29uZmlybSBNb2RhbCAtLT4KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0ianMtdHBsLWNvbmZpcm0iPgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsIG1vZGFsLWFsZXJ0IGNvbmZpcm1EYWlsb2ciIGRhdGEtYnMtYmFja2Ryb3A9InN0YXRpYyIgZGF0YS1icy1rZXlib2FyZD0iZmFsc2UiIHRhYmluZGV4PSItMSIgcm9sZT0iZGlhbG9nIiBpZD0iY29uZmlybURhaWxvZy08JXRoaXMuaWQlPiI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1kaWFsb2ciIHJvbGU9ImRvY3VtZW50Ij4KICAgICAgICAgICAgPGZvcm0gY2xhc3M9Im1vZGFsLWNvbnRlbnQgcm91bmRlZC0zIHNoYWRvdyA8P3BocCBlY2hvIGZtX2dldF90aGVtZSgpOyA/PiIgbWV0aG9kPSJwb3N0IiBhdXRvY29tcGxldGU9Im9mZiIgYWN0aW9uPSI8JXRoaXMuYWN0aW9uJT4iPgogICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWJvZHkgcC00IHRleHQtY2VudGVyIj4KICAgICAgICAgICAgICAgIDxoNSBjbGFzcz0ibWItMiI+PD9waHAgZWNobyBsbmcoJ0FyZSB5b3Ugc3VyZSB3YW50IHRvJykgPz4gPCV0aGlzLnRpdGxlJT4gPzwvaDU+CiAgICAgICAgICAgICAgICA8cCBjbGFzcz0ibWItMSI+PCV0aGlzLmNvbnRlbnQlPjwvcD4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1mb290ZXIgZmxleC1ub3dyYXAgcC0wIj4KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIGJ0bi1sZyBidG4tbGluayBmcy02IHRleHQtZGVjb3JhdGlvbi1ub25lIGNvbC02IG0tMCByb3VuZGVkLTAgYm9yZGVyLWVuZCIgZGF0YS1icy1kaXNtaXNzPSJtb2RhbCI+PD9waHAgZWNobyBsbmcoJ0NhbmNlbCcpID8+PC9idXR0b24+CiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ0b2tlbiIgdmFsdWU9Ijw/cGhwIGVjaG8gJF9TRVNTSU9OWyd0b2tlbiddOyA/PiI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJ0biBidG4tbGcgYnRuLWxpbmsgZnMtNiB0ZXh0LWRlY29yYXRpb24tbm9uZSBjb2wtNiBtLTAgcm91bmRlZC0wIiBkYXRhLWJzLWRpc21pc3M9Im1vZGFsIj48c3Ryb25nPjw/cGhwIGVjaG8gbG5nKCdPa2F5JykgPz48L3N0cm9uZz48L2J1dHRvbj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPC9mb3JtPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICA8L3NjcmlwdD4KCiAgICA8P3BocAogICAgfQoKICAgIC8qKgogICAgICogU2hvdyBwYWdlIGZvb3RlciBhZnRlciBsb2dpbgogICAgICovCiAgICBmdW5jdGlvbiBmbV9zaG93X2Zvb3RlcigpCiAgICB7CiAgICA/Pgo8L2Rpdj4KPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2pzLWpxdWVyeScpOyA/Pgo8P3BocCBwcmludF9leHRlcm5hbCgnanMtYm9vdHN0cmFwJyk7ID8+Cjw/cGhwIHByaW50X2V4dGVybmFsKCdqcy1qcXVlcnktZGF0YXRhYmxlcycpOyA/Pgo8P3BocCBpZiAoRk1fVVNFX0hJR0hMSUdIVEpTICYmIGlzc2V0KCRfR0VUWyd2aWV3J10pKTogPz4KICAgIDw/cGhwIHByaW50X2V4dGVybmFsKCdqcy1oaWdobGlnaHRqcycpOyA/PgogICAgPHNjcmlwdD5obGpzLmhpZ2hsaWdodEFsbCgpOyB2YXIgaXNIaWdobGlnaHRpbmdFbmFibGVkID0gdHJ1ZTs8L3NjcmlwdD4KPD9waHAgZW5kaWY7ID8+CjxzY3JpcHQ+CiAgICBmdW5jdGlvbiB0ZW1wbGF0ZShodG1sLG9wdGlvbnMpewogICAgICAgIHZhciByZT0vPFwlKFteXCU+XSspP1wlPi9nLHJlRXhwPS8oXiggKT8oaWZ8Zm9yfGVsc2V8c3dpdGNofGNhc2V8YnJlYWt8e3x9KSkoLiopPy9nLGNvZGU9J3ZhciByPVtdO1xuJyxjdXJzb3I9MCxtYXRjaDt2YXIgYWRkPWZ1bmN0aW9uKGxpbmUsanMpe2pzPyhjb2RlKz1saW5lLm1hdGNoKHJlRXhwKT9saW5lKydcbic6J3IucHVzaCgnK2xpbmUrJyk7XG4nKTooY29kZSs9bGluZSE9Jyc/J3IucHVzaCgiJytsaW5lLnJlcGxhY2UoLyIvZywnXFwiJykrJyIpO1xuJzonJyk7cmV0dXJuIGFkZH0KICAgICAgICB3aGlsZShtYXRjaD1yZS5leGVjKGh0bWwpKXthZGQoaHRtbC5zbGljZShjdXJzb3IsbWF0Y2guaW5kZXgpKShtYXRjaFsxXSwhMCk7Y3Vyc29yPW1hdGNoLmluZGV4K21hdGNoWzBdLmxlbmd0aH0KICAgICAgICBhZGQoaHRtbC5zdWJzdHIoY3Vyc29yLGh0bWwubGVuZ3RoLWN1cnNvcikpO2NvZGUrPSdyZXR1cm4gci5qb2luKCIiKTsnO3JldHVybiBuZXcgRnVuY3Rpb24oY29kZS5yZXBsYWNlKC9bXHJcdFxuXS9nLCcnKSkuYXBwbHkob3B0aW9ucykKICAgIH0KICAgIGZ1bmN0aW9uIHJlbmFtZShlLCB0KSB7IGlmKHQpIHsgJCgiI2pzLXJlbmFtZS1mcm9tIikudmFsKHQpOyQoIiNqcy1yZW5hbWUtdG8iKS52YWwodCk7ICQoIiNyZW5hbWVEYWlsb2ciKS5tb2RhbCgnc2hvdycpOyB9IH0KICAgIGZ1bmN0aW9uIGNoYW5nZV9jaGVja2JveGVzKGUsIHQpIHsgZm9yICh2YXIgbiA9IGUubGVuZ3RoIC0gMTsgbiA+PSAwOyBuLS0pIGVbbl0uY2hlY2tlZCA9ICJib29sZWFuIiA9PSB0eXBlb2YgdCA/IHQgOiAhZVtuXS5jaGVja2VkIH0KICAgIGZ1bmN0aW9uIGdldF9jaGVja2JveGVzKCkgeyBmb3IgKHZhciBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoImZpbGVbXSIpLCB0ID0gW10sIG4gPSBlLmxlbmd0aCAtIDE7IG4gPj0gMDsgbi0tKSAoZVtuXS50eXBlID0gImNoZWNrYm94IikgJiYgdC5wdXNoKGVbbl0pOyByZXR1cm4gdCB9CiAgICBmdW5jdGlvbiBzZWxlY3RfYWxsKCkgeyBjaGFuZ2VfY2hlY2tib3hlcyhnZXRfY2hlY2tib3hlcygpLCAhMCkgfQogICAgZnVuY3Rpb24gdW5zZWxlY3RfYWxsKCkgeyBjaGFuZ2VfY2hlY2tib3hlcyhnZXRfY2hlY2tib3hlcygpLCAhMSkgfQogICAgZnVuY3Rpb24gaW52ZXJ0X2FsbCgpIHsgY2hhbmdlX2NoZWNrYm94ZXMoZ2V0X2NoZWNrYm94ZXMoKSkgfQogICAgZnVuY3Rpb24gY2hlY2tib3hfdG9nZ2xlKCkgeyB2YXIgZSA9IGdldF9jaGVja2JveGVzKCk7IGUucHVzaCh0aGlzKSwgY2hhbmdlX2NoZWNrYm94ZXMoZSkgfQogICAgZnVuY3Rpb24gYmFja3VwKGUsIHQpIHsgLy8gQ3JlYXRlIGZpbGUgYmFja3VwIHdpdGggLmJjawogICAgICAgIHZhciBuID0gbmV3IFhNTEh0dHBSZXF1ZXN0LAogICAgICAgICAgICBhID0gInBhdGg9IiArIGUgKyAiJmZpbGU9IiArIHQgKyAiJnRva2VuPSIrIHdpbmRvdy5jc3JmICsiJnR5cGU9YmFja3VwJmFqYXg9dHJ1ZSI7CiAgICAgICAgcmV0dXJuIG4ub3BlbigiUE9TVCIsICIiLCAhMCksIG4uc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC10eXBlIiwgImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpLCBuLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgNCA9PSBuLnJlYWR5U3RhdGUgJiYgMjAwID09IG4uc3RhdHVzICYmIHRvYXN0KG4ucmVzcG9uc2VUZXh0KQogICAgICAgIH0sIG4uc2VuZChhKSwgITEKICAgIH0KICAgIC8vIFRvYXN0IG1lc3NhZ2UKICAgIGZ1bmN0aW9uIHRvYXN0KHR4dCkgeyB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzbmFja2JhciIpO3guaW5uZXJIVE1MPXR4dDt4LmNsYXNzTmFtZSA9ICJzaG93IjtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IHguY2xhc3NOYW1lID0geC5jbGFzc05hbWUucmVwbGFjZSgic2hvdyIsICIiKTsgfSwgMzAwMCk7IH0KICAgIC8vIFNhdmUgZmlsZQogICAgZnVuY3Rpb24gZWRpdF9zYXZlKGUsIHQpIHsKICAgICAgICB2YXIgbiA9ICJhY2UiID09IHQgPyBlZGl0b3IuZ2V0U2Vzc2lvbigpLmdldFZhbHVlKCkgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibm9ybWFsLWVkaXRvciIpLnZhbHVlOwogICAgICAgIGlmICh0eXBlb2YgbiAhPT0gJ3VuZGVmaW5lZCcgJiYgbiAhPT0gbnVsbCkgewogICAgICAgICAgICBpZiAodHJ1ZSkgewogICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7YWpheDogdHJ1ZSwgY29udGVudDogbiwgdHlwZTogJ3NhdmUnLCB0b2tlbjogd2luZG93LmNzcmZ9OwoKICAgICAgICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgICAgICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KGRhdGEpLAogICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24obWVzKXt0b2FzdCgiU2F2ZWQgU3VjY2Vzc2Z1bGx5Iik7IHdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uKCkge3JldHVybn19LAogICAgICAgICAgICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uKG1lcykge3RvYXN0KCJFcnJvcjogdHJ5IGFnYWluIik7fSwKICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24obWVzKSB7dG9hc3QoYDxwIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOnJlZCI+JHttZXMucmVzcG9uc2VUZXh0fTwvcD5gKTt9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZm9ybSIpOwogICAgICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoIm1ldGhvZCIsICJQT1NUIiksIGEuc2V0QXR0cmlidXRlKCJhY3Rpb24iLCAiIik7CiAgICAgICAgICAgICAgICB2YXIgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7CiAgICAgICAgICAgICAgICBvLnNldEF0dHJpYnV0ZSgidHlwZSIsICJ0ZXh0YXJlYSIpLCBvLnNldEF0dHJpYnV0ZSgibmFtZSIsICJzYXZlZGF0YSIpOwogICAgICAgICAgICAgICAgbGV0IGN4ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsgY3guc2V0QXR0cmlidXRlKCJ0eXBlIiwgImhpZGRlbiIpO2N4LnNldEF0dHJpYnV0ZSgibmFtZSIsICJ0b2tlbiIpO2N4LnNldEF0dHJpYnV0ZSgidmFsdWUiLCB3aW5kb3cuY3NyZik7CiAgICAgICAgICAgICAgICB2YXIgYyA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4pOwogICAgICAgICAgICAgICAgby5hcHBlbmRDaGlsZChjKSwgYS5hcHBlbmRDaGlsZChvKSwgYS5hcHBlbmRDaGlsZChjeCksIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSksIGEuc3VibWl0KCkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIHNob3dfbmV3X3B3ZCgpIHsgJCgiLmpzLW5ldy1wd2QiKS50b2dnbGVDbGFzcygnaGlkZGVuJyk7IH0KICAgIC8vIFNhdmUgU2V0dGluZ3MKICAgIGZ1bmN0aW9uIHNhdmVfc2V0dGluZ3MoJHRoaXMpIHsKICAgICAgICBsZXQgZm9ybSA9ICQoJHRoaXMpOwogICAgICAgICQuYWpheCh7CiAgICAgICAgICAgIHR5cGU6IGZvcm0uYXR0cignbWV0aG9kJyksIHVybDogZm9ybS5hdHRyKCdhY3Rpb24nKSwgZGF0YTogZm9ybS5zZXJpYWxpemUoKSsiJnRva2VuPSIrIHdpbmRvdy5jc3JmICsiJmFqYXg9Iit0cnVlLAogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge2lmKGRhdGEpIHsgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO319CiAgICAgICAgfSk7IHJldHVybiBmYWxzZTsKICAgIH0KICAgIC8vQ3JlYXRlIG5ldyBwYXNzd29yZCBoYXNoCiAgICBmdW5jdGlvbiBuZXdfcGFzc3dvcmRfaGFzaCgkdGhpcykgewogICAgICAgIGxldCBmb3JtID0gJCgkdGhpcyksICRwd2QgPSAkKCIjanMtcHdkLXJlc3VsdCIpOyAkcHdkLnZhbCgnJyk7CiAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgdHlwZTogZm9ybS5hdHRyKCdtZXRob2QnKSwgdXJsOiBmb3JtLmF0dHIoJ2FjdGlvbicpLCBkYXRhOiBmb3JtLnNlcmlhbGl6ZSgpKyImdG9rZW49Iisgd2luZG93LmNzcmYgKyImYWpheD0iK3RydWUsCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7IGlmKGRhdGEpIHsgJHB3ZC52YWwoZGF0YSk7IH0gfQogICAgICAgIH0pOyByZXR1cm4gZmFsc2U7CiAgICB9CiAgICAvLyBVcGxvYWQgZmlsZXMgdXNpbmcgVVJMIEBwYXJhbSB7T2JqZWN0fQogICAgZnVuY3Rpb24gdXBsb2FkX2Zyb21fdXJsKCR0aGlzKSB7CiAgICAgICAgbGV0IGZvcm0gPSAkKCR0aGlzKSwgcmVzdWx0V3JhcHBlciA9ICQoImRpdiNqcy11cmwtdXBsb2FkX19saXN0Iik7CiAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgdHlwZTogZm9ybS5hdHRyKCdtZXRob2QnKSwgdXJsOiBmb3JtLmF0dHIoJ2FjdGlvbicpLCBkYXRhOiBmb3JtLnNlcmlhbGl6ZSgpKyImdG9rZW49Iisgd2luZG93LmNzcmYgKyImYWpheD0iK3RydWUsCiAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkgeyBmb3JtLmZpbmQoImlucHV0W25hbWU9dXBsb2FkdXJsXSIpLmF0dHIoImRpc2FibGVkIiwiZGlzYWJsZWQiKTsgZm9ybS5maW5kKCJidXR0b24iKS5oaWRlKCk7IGZvcm0uZmluZCgiLmxkcy1mYWNlYm9vayIpLmFkZENsYXNzKCdzaG93LW1lJyk7IH0sCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICAgICAgICBpZihkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kb25lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFdyYXBwZXIuYXBwZW5kKCc8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC1zdWNjZXNzIHJvdyI+VXBsb2FkZWQgU3VjY2Vzc2Z1bDogJytkYXRhLmRvbmUubmFtZSsnPC9kaXY+Jyk7IGZvcm0uZmluZCgiaW5wdXRbbmFtZT11cGxvYWR1cmxdIikudmFsKCcnKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoZGF0YVsnZmFpbCddKSB7IHJlc3VsdFdyYXBwZXIuYXBwZW5kKCc8ZGl2IGNsYXNzPSJhbGVydCBhbGVydC1kYW5nZXIgcm93Ij5FcnJvcjogJytkYXRhLmZhaWwubWVzc2FnZSsnPC9kaXY+Jyk7IH0KICAgICAgICAgICAgICAgICAgICBmb3JtLmZpbmQoImlucHV0W25hbWU9dXBsb2FkdXJsXSIpLnJlbW92ZUF0dHIoImRpc2FibGVkIik7Zm9ybS5maW5kKCJidXR0b24iKS5zaG93KCk7Zm9ybS5maW5kKCIubGRzLWZhY2Vib29rIikucmVtb3ZlQ2xhc3MoJ3Nob3ctbWUnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhocikgewogICAgICAgICAgICAgICAgZm9ybS5maW5kKCJpbnB1dFtuYW1lPXVwbG9hZHVybF0iKS5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpO2Zvcm0uZmluZCgiYnV0dG9uIikuc2hvdygpO2Zvcm0uZmluZCgiLmxkcy1mYWNlYm9vayIpLnJlbW92ZUNsYXNzKCdzaG93LW1lJyk7Y29uc29sZS5lcnJvcih4aHIpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7IHJldHVybiBmYWxzZTsKICAgIH0KICAgIC8vIFNlYXJjaCB0ZW1wbGF0ZQogICAgZnVuY3Rpb24gc2VhcmNoX3RlbXBsYXRlKGRhdGEpIHsKICAgICAgICB2YXIgcmVzcG9uc2UgPSAiIjsKICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24gKGtleSwgdmFsKSB7CiAgICAgICAgICAgIHJlc3BvbnNlICs9IGA8bGk+PGEgaHJlZj0iP3A9JHt2YWwucGF0aH0mdmlldz0ke3ZhbC5uYW1lfSI+JHt2YWwucGF0aH0vJHt2YWwubmFtZX08L2E+PC9saT5gOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0KICAgIC8vIEFkdmFuY2Ugc2VhcmNoCiAgICBmdW5jdGlvbiBmbV9zZWFyY2goKSB7CiAgICAgICAgdmFyIHNlYXJjaFR4dCA9ICQoImlucHV0I2FkdmFuY2VkLXNlYXJjaCIpLnZhbCgpLCBzZWFyY2hXcmFwcGVyID0gJCgidWwjc2VhcmNoLXdyYXBwZXIiKSwgcGF0aCA9ICQoIiNqcy1zZWFyY2gtbW9kYWwiKS5hdHRyKCJocmVmIiksIF9odG1sID0gIiIsICRsb2FkZXIgPSAkKCJkaXYubGRzLWZhY2Vib29rIik7CiAgICAgICAgaWYoISFzZWFyY2hUeHQgJiYgc2VhcmNoVHh0Lmxlbmd0aCA+IDIgJiYgcGF0aCkgewogICAgICAgICAgICB2YXIgZGF0YSA9IHthamF4OiB0cnVlLCBjb250ZW50OiBzZWFyY2hUeHQsIHBhdGg6cGF0aCwgdHlwZTogJ3NlYXJjaCcsIHRva2VuOiB3aW5kb3cuY3NyZiB9OwogICAgICAgICAgICAkLmFqYXgoewogICAgICAgICAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgICAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24sCiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgc2VhcmNoV3JhcHBlci5odG1sKCcnKTsKICAgICAgICAgICAgICAgICAgICAkbG9hZGVyLmFkZENsYXNzKCdzaG93LW1lJyk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSl7CiAgICAgICAgICAgICAgICAgICAgJGxvYWRlci5yZW1vdmVDbGFzcygnc2hvdy1tZScpOwogICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpOwogICAgICAgICAgICAgICAgICAgIGlmKGRhdGEgJiYgZGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX2h0bWwgPSBzZWFyY2hfdGVtcGxhdGUoZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFdyYXBwZXIuaHRtbChfaHRtbCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgc2VhcmNoV3JhcHBlci5odG1sKCc8cCBjbGFzcz0ibS0yIj5ObyByZXN1bHQgZm91bmQhPHA+Jyk7IH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyKSB7ICRsb2FkZXIucmVtb3ZlQ2xhc3MoJ3Nob3ctbWUnKTsgc2VhcmNoV3JhcHBlci5odG1sKCc8cCBjbGFzcz0ibS0yIj5FUlJPUjogVHJ5IGFnYWluIGxhdGVyITwvcD4nKTsgfSwKICAgICAgICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uKG1lcykgeyAkbG9hZGVyLnJlbW92ZUNsYXNzKCdzaG93LW1lJyk7IHNlYXJjaFdyYXBwZXIuaHRtbCgnPHAgY2xhc3M9Im0tMiI+RVJST1I6IFRyeSBhZ2FpbiBsYXRlciE8L3A+Jyk7fQogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgeyBzZWFyY2hXcmFwcGVyLmh0bWwoIk9PUFM6IG1pbmltdW0gMyBjaGFyYWN0ZXJzIHJlcXVpcmVkISIpOyB9CiAgICB9CgogICAgLy8gYWN0aW9uIGNvbmZpcm0gZGFpbG9nIG1vZGFsCiAgICBmdW5jdGlvbiBjb25maXJtRGFpbG9nKGUsIGlkID0gMCwgdGl0bGUgPSAiQWN0aW9uIiwgY29udGVudCA9ICIiLCBhY3Rpb24gPSBudWxsKSB7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGNvbnN0IHRwbE9iaiA9IHtpZCwgdGl0bGUsIGNvbnRlbnQ6IGRlY29kZVVSSUNvbXBvbmVudChjb250ZW50LnJlcGxhY2UoL1wrL2csICcgJykpLCBhY3Rpb259OwogICAgICAgIGxldCB0cGwgPSAkKCIjanMtdHBsLWNvbmZpcm0iKS5odG1sKCk7CiAgICAgICAgJCgiLm1vZGFsLmNvbmZpcm1EYWlsb2ciKS5yZW1vdmUoKTsKICAgICAgICAkKCcjd3JhcHBlcicpLmFwcGVuZCh0ZW1wbGF0ZSh0cGwsdHBsT2JqKSk7CiAgICAgICAgY29uc3QgJGNvbmZpcm1EYWlsb2cgPSAkKCIjY29uZmlybURhaWxvZy0iK3RwbE9iai5pZCk7CiAgICAgICAgJGNvbmZpcm1EYWlsb2cubW9kYWwoJ3Nob3cnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICAKCiAgICAvLyBvbiBtb3VzZSBob3ZlciBpbWFnZSBwcmV2aWV3CiAgICAhZnVuY3Rpb24ocyl7cy5wcmV2aWV3SW1hZ2U9ZnVuY3Rpb24oZSl7dmFyIG89cyhkb2N1bWVudCksdD0iLnByZXZpZXdJbWFnZSIsYT1zLmV4dGVuZCh7eE9mZnNldDoyMCx5T2Zmc2V0Oi0yMCxmYWRlSW46ImZhc3QiLGNzczp7cGFkZGluZzoiNXB4Iixib3JkZXI6IjFweCBzb2xpZCAjY2NjY2NjIiwiYmFja2dyb3VuZC1jb2xvciI6IiNmZmYifSxldmVudFNlbGVjdG9yOiJbZGF0YS1wcmV2aWV3LWltYWdlXSIsZGF0YUtleToicHJldmlld0ltYWdlIixvdmVybGF5SWQ6InByZXZpZXctaW1hZ2UtcGx1Z2luLW92ZXJsYXkifSxlKTtyZXR1cm4gby5vZmYodCksby5vbigibW91c2VvdmVyIit0LGEuZXZlbnRTZWxlY3RvcixmdW5jdGlvbihlKXtzKCJwIyIrYS5vdmVybGF5SWQpLnJlbW92ZSgpO3ZhciBvPXMoIjxwPiIpLmF0dHIoImlkIixhLm92ZXJsYXlJZCkuY3NzKCJwb3NpdGlvbiIsImFic29sdXRlIikuY3NzKCJkaXNwbGF5Iiwibm9uZSIpLmFwcGVuZChzKCc8aW1nIGNsYXNzPSJjLXByZXZpZXctaW1nIj4nKS5hdHRyKCJzcmMiLHModGhpcykuZGF0YShhLmRhdGFLZXkpKSk7YS5jc3MmJm8uY3NzKGEuY3NzKSxzKCJib2R5IikuYXBwZW5kKG8pLG8uY3NzKCJ0b3AiLGUucGFnZVkrYS55T2Zmc2V0KyJweCIpLmNzcygibGVmdCIsZS5wYWdlWCthLnhPZmZzZXQrInB4IikuZmFkZUluKGEuZmFkZUluKX0pLG8ub24oIm1vdXNlb3V0Iit0LGEuZXZlbnRTZWxlY3RvcixmdW5jdGlvbigpe3MoIiMiK2Eub3ZlcmxheUlkKS5yZW1vdmUoKX0pLG8ub24oIm1vdXNlbW92ZSIrdCxhLmV2ZW50U2VsZWN0b3IsZnVuY3Rpb24oZSl7cygiIyIrYS5vdmVybGF5SWQpLmNzcygidG9wIixlLnBhZ2VZK2EueU9mZnNldCsicHgiKS5jc3MoImxlZnQiLGUucGFnZVgrYS54T2Zmc2V0KyJweCIpfSksdGhpc30scy5wcmV2aWV3SW1hZ2UoKX0oalF1ZXJ5KTsKCiAgICAvLyBEb20gUmVhZHkgRXZlbnRzCiAgICAkKGRvY3VtZW50KS5yZWFkeSggZnVuY3Rpb24gKCkgewogICAgICAgIC8vIGRhdGFUYWJsZSBpbml0CiAgICAgICAgdmFyICR0YWJsZSA9ICQoJyNtYWluLXRhYmxlJyksCiAgICAgICAgICAgIHRhYmxlTG5nID0gJHRhYmxlLmZpbmQoJ3RoJykubGVuZ3RoLAogICAgICAgICAgICBfdGFyZ2V0cyA9ICh0YWJsZUxuZyAmJiB0YWJsZUxuZyA9PSA3ICkgPyBbMCwgNCw1LDZdIDogdGFibGVMbmcgPT0gNSA/IFswLDRdIDogWzNdOwogICAgICAgICAgICBtYWluVGFibGUgPSAkKCcjbWFpbi10YWJsZScpLkRhdGFUYWJsZSh7cGFnaW5nOiBmYWxzZSwgaW5mbzogZmFsc2UsIG9yZGVyOiBbXSwgY29sdW1uRGVmczogW3t0YXJnZXRzOiBfdGFyZ2V0cywgb3JkZXJhYmxlOiBmYWxzZX1dCiAgICAgICAgfSk7CiAgICAgICAgLy8gZmlsdGVyIHRhYmxlCiAgICAgICAgJCgnI3NlYXJjaC1hZGRvbicpLm9uKCAna2V5dXAnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIG1haW5UYWJsZS5zZWFyY2goIHRoaXMudmFsdWUgKS5kcmF3KCk7CiAgICAgICAgfSk7CiAgICAgICAgJCgiaW5wdXQjYWR2YW5jZWQtc2VhcmNoIikub24oJ2tleXVwJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHsgZm1fc2VhcmNoKCk7IH0KICAgICAgICB9KTsKICAgICAgICAkKCcjc2VhcmNoLWFkZG9uMycpLm9uKCAnY2xpY2snLCBmdW5jdGlvbiAoKSB7IGZtX3NlYXJjaCgpOyB9KTsKICAgICAgICAvL3VwbG9hZCBuYXYgdGFicwogICAgICAgICQoIi5mbS11cGxvYWQtd3JhcHBlciAuY2FyZC1oZWFkZXItdGFicyIpLm9uKCJjbGljayIsICdhJywgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtsZXQgdGFyZ2V0PSQodGhpcykuZGF0YSgndGFyZ2V0Jyk7CiAgICAgICAgICAgICQoIi5mbS11cGxvYWQtd3JhcHBlciAuY2FyZC1oZWFkZXItdGFicyBhIikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOyQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpOwogICAgICAgICAgICAkKCIuZm0tdXBsb2FkLXdyYXBwZXIgLmNhcmQtdGFicy1jb250YWluZXIiKS5hZGRDbGFzcygnaGlkZGVuJyk7JCh0YXJnZXQpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTsKICAgICAgICB9KTsKICAgIH0pOwo8L3NjcmlwdD4KPD9waHAgaWYgKGlzc2V0KCRfR0VUWydlZGl0J10pICYmIGlzc2V0KCRfR0VUWydlbnYnXSkgJiYgRk1fRURJVF9GSUxFICYmICFGTV9SRUFET05MWSk6CiAgICAgICAgCiAgICAgICAgJGV4dCA9IHBhdGhpbmZvKCRfR0VUWyJlZGl0Il0sIFBBVEhJTkZPX0VYVEVOU0lPTik7CiAgICAgICAgJGV4dCA9ICAkZXh0ID09ICJqcyIgPyAiamF2YXNjcmlwdCIgOiAgJGV4dDsKICAgICAgICA/PgogICAgPD9waHAgcHJpbnRfZXh0ZXJuYWwoJ2pzLWFjZScpOyA/PgogICAgPHNjcmlwdD4KICAgICAgICB2YXIgZWRpdG9yID0gYWNlLmVkaXQoImVkaXRvciIpOwogICAgICAgIGVkaXRvci5nZXRTZXNzaW9uKCkuc2V0TW9kZSgge3BhdGg6ImFjZS9tb2RlLzw/cGhwIGVjaG8gJGV4dDsgPz4iLCBpbmxpbmU6dHJ1ZX0gKTsKICAgICAgICAvL2VkaXRvci5zZXRUaGVtZSgiYWNlL3RoZW1lL3R3aWxpZ2h0Iik7IC8vRGFyayBUaGVtZQogICAgICAgIGVkaXRvci5zZXRTaG93UHJpbnRNYXJnaW4oZmFsc2UpOyAvLyBIaWRlIHRoZSB2ZXJ0aWNhbCBydWxlcgogICAgICAgIGZ1bmN0aW9uIGFjZV9jb21tZW5kIChjbWQpIHsgZWRpdG9yLmNvbW1hbmRzLmV4ZWMoY21kLCBlZGl0b3IpOyB9CiAgICAgICAgZWRpdG9yLmNvbW1hbmRzLmFkZENvbW1hbmRzKFt7CiAgICAgICAgICAgIG5hbWU6ICdzYXZlJywgYmluZEtleToge3dpbjogJ0N0cmwtUycsICBtYWM6ICdDb21tYW5kLVMnfSwKICAgICAgICAgICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7IGVkaXRfc2F2ZSh0aGlzLCAnYWNlJyk7IH0KICAgICAgICB9XSk7CiAgICAgICAgZnVuY3Rpb24gcmVuZGVyVGhlbWVNb2RlKCkgewogICAgICAgICAgICB2YXIgJG1vZGVFbCA9ICQoInNlbGVjdCNqcy1hY2UtbW9kZSIpLCAkdGhlbWVFbCA9ICQoInNlbGVjdCNqcy1hY2UtdGhlbWUiKSwgJGZvbnRTaXplRWwgPSAkKCJzZWxlY3QjanMtYWNlLWZvbnRTaXplIiksIG9wdGlvbk5vZGUgPSBmdW5jdGlvbih0eXBlLCBhcnIpeyB2YXIgJE9wdGlvbiA9ICIiOyAkLmVhY2goYXJyLCBmdW5jdGlvbihpLCB2YWwpIHsgJE9wdGlvbiArPSAiPG9wdGlvbiB2YWx1ZT0nIit0eXBlK2krIic+IiArIHZhbCArICI8L29wdGlvbj4iOyB9KTsgcmV0dXJuICRPcHRpb247IH0sCiAgICAgICAgICAgICAgICBfZGF0YSA9IHsiYWNlVGhlbWUiOnsiYnJpZ2h0Ijp7ImNocm9tZSI6IkNocm9tZSIsImNsb3VkcyI6IkNsb3VkcyIsImNyaW1zb25fZWRpdG9yIjoiQ3JpbXNvbiBFZGl0b3IiLCJkYXduIjoiRGF3biIsImRyZWFtd2VhdmVyIjoiRHJlYW13ZWF2ZXIiLCJlY2xpcHNlIjoiRWNsaXBzZSIsImdpdGh1YiI6IkdpdEh1YiIsImlwbGFzdGljIjoiSVBsYXN0aWMiLCJzb2xhcml6ZWRfbGlnaHQiOiJTb2xhcml6ZWQgTGlnaHQiLCJ0ZXh0bWF0ZSI6IlRleHRNYXRlIiwidG9tb3Jyb3ciOiJUb21vcnJvdyIsInhjb2RlIjoiWENvZGUiLCJrdXJvaXIiOiJLdXJvaXIiLCJrYXR6ZW5taWxjaCI6IkthdHplbk1pbGNoIiwic3Fsc2VydmVyIjoiU1FMIFNlcnZlciJ9LCJkYXJrIjp7ImFtYmlhbmNlIjoiQW1iaWFuY2UiLCJjaGFvcyI6IkNoYW9zIiwiY2xvdWRzX21pZG5pZ2h0IjoiQ2xvdWRzIE1pZG5pZ2h0IiwiZHJhY3VsYSI6IkRyYWN1bGEiLCJjb2JhbHQiOiJDb2JhbHQiLCJncnV2Ym94IjoiR3J1dmJveCIsImdvYiI6IkdyZWVuIG9uIEJsYWNrIiwiaWRsZV9maW5nZXJzIjoiaWRsZSBGaW5nZXJzIiwia3JfdGhlbWUiOiJrclRoZW1lIiwibWVyYml2b3JlIjoiTWVyYml2b3JlIiwibWVyYml2b3JlX3NvZnQiOiJNZXJiaXZvcmUgU29mdCIsIm1vbm9faW5kdXN0cmlhbCI6Ik1vbm8gSW5kdXN0cmlhbCIsIm1vbm9rYWkiOiJNb25va2FpIiwicGFzdGVsX29uX2RhcmsiOiJQYXN0ZWwgb24gZGFyayIsInNvbGFyaXplZF9kYXJrIjoiU29sYXJpemVkIERhcmsiLCJ0ZXJtaW5hbCI6IlRlcm1pbmFsIiwidG9tb3Jyb3dfbmlnaHQiOiJUb21vcnJvdyBOaWdodCIsInRvbW9ycm93X25pZ2h0X2JsdWUiOiJUb21vcnJvdyBOaWdodCBCbHVlIiwidG9tb3Jyb3dfbmlnaHRfYnJpZ2h0IjoiVG9tb3Jyb3cgTmlnaHQgQnJpZ2h0IiwidG9tb3Jyb3dfbmlnaHRfZWlnaHRpZXMiOiJUb21vcnJvdyBOaWdodCA4MHMiLCJ0d2lsaWdodCI6IlR3aWxpZ2h0IiwidmlicmFudF9pbmsiOiJWaWJyYW50IEluayJ9fSwiYWNlTW9kZSI6eyJqYXZhc2NyaXB0IjoiSmF2YVNjcmlwdCIsImFiYXAiOiJBQkFQIiwiYWJjIjoiQUJDIiwiYWN0aW9uc2NyaXB0IjoiQWN0aW9uU2NyaXB0IiwiYWRhIjoiQURBIiwiYXBhY2hlX2NvbmYiOiJBcGFjaGUgQ29uZiIsImFzY2lpZG9jIjoiQXNjaWlEb2MiLCJhc2wiOiJBU0wiLCJhc3NlbWJseV94ODYiOiJBc3NlbWJseSB4ODYiLCJhdXRvaG90a2V5IjoiQXV0b0hvdEtleSIsImFwZXgiOiJBcGV4IiwiYmF0Y2hmaWxlIjoiQmF0Y2hGaWxlIiwiYnJvIjoiQnJvIiwiY19jcHAiOiJDIGFuZCBDKysiLCJjOXNlYXJjaCI6IkM5U2VhcmNoIiwiY2lycnUiOiJDaXJydSIsImNsb2p1cmUiOiJDbG9qdXJlIiwiY29ib2wiOiJDb2JvbCIsImNvZmZlZSI6IkNvZmZlZVNjcmlwdCIsImNvbGRmdXNpb24iOiJDb2xkRnVzaW9uIiwiY3NoYXJwIjoiQyMiLCJjc291bmRfZG9jdW1lbnQiOiJDc291bmQgRG9jdW1lbnQiLCJjc291bmRfb3JjaGVzdHJhIjoiQ3NvdW5kIiwiY3NvdW5kX3Njb3JlIjoiQ3NvdW5kIFNjb3JlIiwiY3NzIjoiQ1NTIiwiY3VybHkiOiJDdXJseSIsImQiOiJEIiwiZGFydCI6IkRhcnQiLCJkaWZmIjoiRGlmZiIsImRvY2tlcmZpbGUiOiJEb2NrZXJmaWxlIiwiZG90IjoiRG90IiwiZHJvb2xzIjoiRHJvb2xzIiwiZWRpZmFjdCI6IkVkaWZhY3QiLCJlaWZmZWwiOiJFaWZmZWwiLCJlanMiOiJFSlMiLCJlbGl4aXIiOiJFbGl4aXIiLCJlbG0iOiJFbG0iLCJlcmxhbmciOiJFcmxhbmciLCJmb3J0aCI6IkZvcnRoIiwiZm9ydHJhbiI6IkZvcnRyYW4iLCJmc2hhcnAiOiJGU2hhcnAiLCJmc2wiOiJGU0wiLCJmdGwiOiJGcmVlTWFya2VyIiwiZ2NvZGUiOiJHY29kZSIsImdoZXJraW4iOiJHaGVya2luIiwiZ2l0aWdub3JlIjoiR2l0aWdub3JlIiwiZ2xzbCI6Ikdsc2wiLCJnb2JzdG9uZXMiOiJHb2JzdG9uZXMiLCJnb2xhbmciOiJHbyIsImdyYXBocWxzY2hlbWEiOiJHcmFwaFFMU2NoZW1hIiwiZ3Jvb3Z5IjoiR3Jvb3Z5IiwiaGFtbCI6IkhBTUwiLCJoYW5kbGViYXJzIjoiSGFuZGxlYmFycyIsImhhc2tlbGwiOiJIYXNrZWxsIiwiaGFza2VsbF9jYWJhbCI6Ikhhc2tlbGwgQ2FiYWwiLCJoYXhlIjoiaGFYZSIsImhqc29uIjoiSGpzb24iLCJodG1sIjoiSFRNTCIsImh0bWxfZWxpeGlyIjoiSFRNTCAoRWxpeGlyKSIsImh0bWxfcnVieSI6IkhUTUwgKFJ1YnkpIiwiaW5pIjoiSU5JIiwiaW8iOiJJbyIsImphY2siOiJKYWNrIiwiamFkZSI6IkphZGUiLCJqYXZhIjoiSmF2YSIsImpzb24iOiJKU09OIiwianNvbmlxIjoiSlNPTmlxIiwianNwIjoiSlNQIiwianNzbSI6IkpTU00iLCJqc3giOiJKU1giLCJqdWxpYSI6Ikp1bGlhIiwia290bGluIjoiS290bGluIiwibGF0ZXgiOiJMYVRlWCIsImxlc3MiOiJMRVNTIiwibGlxdWlkIjoiTGlxdWlkIiwibGlzcCI6Ikxpc3AiLCJsaXZlc2NyaXB0IjoiTGl2ZVNjcmlwdCIsImxvZ2lxbCI6IkxvZ2lRTCIsImxzbCI6IkxTTCIsImx1YSI6Ikx1YSIsImx1YXBhZ2UiOiJMdWFQYWdlIiwibHVjZW5lIjoiTHVjZW5lIiwibWFrZWZpbGUiOiJNYWtlZmlsZSIsIm1hcmtkb3duIjoiTWFya2Rvd24iLCJtYXNrIjoiTWFzayIsIm1hdGxhYiI6Ik1BVExBQiIsIm1hemUiOiJNYXplIiwibWVsIjoiTUVMIiwibWl4YWwiOiJNSVhBTCIsIm11c2hjb2RlIjoiTVVTSENvZGUiLCJteXNxbCI6Ik15U1FMIiwibml4IjoiTml4IiwibnNpcyI6Ik5TSVMiLCJvYmplY3RpdmVjIjoiT2JqZWN0aXZlLUMiLCJvY2FtbCI6Ik9DYW1sIiwicGFzY2FsIjoiUGFzY2FsIiwicGVybCI6IlBlcmwiLCJwZXJsNiI6IlBlcmwgNiIsInBnc3FsIjoicGdTUUwiLCJwaHBfbGFyYXZlbF9ibGFkZSI6IlBIUCAoQmxhZGUgVGVtcGxhdGUpIiwicGhwIjoiUEhQIiwicHVwcGV0IjoiUHVwcGV0IiwicGlnIjoiUGlnIiwicG93ZXJzaGVsbCI6IlBvd2Vyc2hlbGwiLCJwcmFhdCI6IlByYWF0IiwicHJvbG9nIjoiUHJvbG9nIiwicHJvcGVydGllcyI6IlByb3BlcnRpZXMiLCJwcm90b2J1ZiI6IlByb3RvYnVmIiwicHl0aG9uIjoiUHl0aG9uIiwiciI6IlIiLCJyYXpvciI6IlJhem9yIiwicmRvYyI6IlJEb2MiLCJyZWQiOiJSZWQiLCJyaHRtbCI6IlJIVE1MIiwicnN0IjoiUlNUIiwicnVieSI6IlJ1YnkiLCJydXN0IjoiUnVzdCIsInNhc3MiOiJTQVNTIiwic2NhZCI6IlNDQUQiLCJzY2FsYSI6IlNjYWxhIiwic2NoZW1lIjoiU2NoZW1lIiwic2NzcyI6IlNDU1MiLCJzaCI6IlNIIiwic2pzIjoiU0pTIiwic2xpbSI6IlNsaW0iLCJzbWFydHkiOiJTbWFydHkiLCJzbmlwcGV0cyI6InNuaXBwZXRzIiwic295X3RlbXBsYXRlIjoiU295IFRlbXBsYXRlIiwic3BhY2UiOiJTcGFjZSIsInNxbCI6IlNRTCIsInNxbHNlcnZlciI6IlNRTFNlcnZlciIsInN0eWx1cyI6IlN0eWx1cyIsInN2ZyI6IlNWRyIsInN3aWZ0IjoiU3dpZnQiLCJ0Y2wiOiJUY2wiLCJ0ZXJyYWZvcm0iOiJUZXJyYWZvcm0iLCJ0ZXgiOiJUZXgiLCJ0ZXh0IjoiVGV4dCIsInRleHRpbGUiOiJUZXh0aWxlIiwidG9tbCI6IlRvbWwiLCJ0c3giOiJUU1giLCJ0d2lnIjoiVHdpZyIsInR5cGVzY3JpcHQiOiJUeXBlc2NyaXB0IiwidmFsYSI6IlZhbGEiLCJ2YnNjcmlwdCI6IlZCU2NyaXB0IiwidmVsb2NpdHkiOiJWZWxvY2l0eSIsInZlcmlsb2ciOiJWZXJpbG9nIiwidmhkbCI6IlZIREwiLCJ2aXN1YWxmb3JjZSI6IlZpc3VhbGZvcmNlIiwid29sbG9rIjoiV29sbG9rIiwieG1sIjoiWE1MIiwieHF1ZXJ5IjoiWFF1ZXJ5IiwieWFtbCI6IllBTUwiLCJkamFuZ28iOiJEamFuZ28ifSwiZm9udFNpemUiOns4OjgsMTA6MTAsMTE6MTEsMTI6MTIsMTM6MTMsMTQ6MTQsMTU6MTUsMTY6MTYsMTc6MTcsMTg6MTgsMjA6MjAsMjI6MjIsMjQ6MjQsMjY6MjYsMzA6MzB9fTsKICAgICAgICAgICAgaWYoX2RhdGEgJiYgX2RhdGEuYWNlTW9kZSkgeyAkbW9kZUVsLmh0bWwob3B0aW9uTm9kZSgiYWNlL21vZGUvIiwgX2RhdGEuYWNlTW9kZSkpOyB9CiAgICAgICAgICAgIGlmKF9kYXRhICYmIF9kYXRhLmFjZVRoZW1lKSB7IHZhciBsaWdodFRoZW1lID0gb3B0aW9uTm9kZSgiYWNlL3RoZW1lLyIsIF9kYXRhLmFjZVRoZW1lLmJyaWdodCksIGRhcmtUaGVtZSA9IG9wdGlvbk5vZGUoImFjZS90aGVtZS8iLCBfZGF0YS5hY2VUaGVtZS5kYXJrKTsgJHRoZW1lRWwuaHRtbCgiPG9wdGdyb3VwIGxhYmVsPVwiQnJpZ2h0XCI+IitsaWdodFRoZW1lKyI8L29wdGdyb3VwPjxvcHRncm91cCBsYWJlbD1cIkRhcmtcIj4iK2RhcmtUaGVtZSsiPC9vcHRncm91cD4iKTt9CiAgICAgICAgICAgIGlmKF9kYXRhICYmIF9kYXRhLmZvbnRTaXplKSB7ICRmb250U2l6ZUVsLmh0bWwob3B0aW9uTm9kZSgiIiwgX2RhdGEuZm9udFNpemUpKTsgfQogICAgICAgICAgICAkbW9kZUVsLnZhbCggZWRpdG9yLmdldFNlc3Npb24oKS4kbW9kZUlkICk7CiAgICAgICAgICAgICR0aGVtZUVsLnZhbCggZWRpdG9yLmdldFRoZW1lKCkgKTsKICAgICAgICAgICAgJChmdW5jdGlvbigpIHsgJGZvbnRTaXplRWwudmFsKDEyKS5jaGFuZ2UoKTsgfSk7IC8vc2V0IGRlZmF1bHQgZm9udCBzaXplIGluIGRyb3AgZG93bgogICAgICAgIH0KCiAgICAgICAgJChmdW5jdGlvbigpewogICAgICAgICAgICByZW5kZXJUaGVtZU1vZGUoKTsKICAgICAgICAgICAgJCgiLmpzLWFjZS10b29sYmFyIikub24oImNsaWNrIiwgJ2J1dHRvbicsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgbGV0IGNtZFZhbHVlID0gJCh0aGlzKS5hdHRyKCJkYXRhLWNtZCIpLCBlZGl0b3JPcHRpb24gPSAkKHRoaXMpLmF0dHIoImRhdGEtb3B0aW9uIik7CiAgICAgICAgICAgICAgICBpZihjbWRWYWx1ZSAmJiBjbWRWYWx1ZSAhPSAibm9uZSIpIHsKICAgICAgICAgICAgICAgICAgICBhY2VfY29tbWVuZChjbWRWYWx1ZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoZWRpdG9yT3B0aW9uKSB7CiAgICAgICAgICAgICAgICAgICAgaWYoZWRpdG9yT3B0aW9uID09ICJmdWxsc2NyZWVuIikgewogICAgICAgICAgICAgICAgICAgICAgICAodm9pZCAwIT09ZG9jdW1lbnQuZnVsbFNjcmVlbkVsZW1lbnQmJm51bGw9PT1kb2N1bWVudC5mdWxsU2NyZWVuRWxlbWVudHx8dm9pZCAwIT09ZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudCYmbnVsbD09PWRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnR8fHZvaWQgMCE9PWRvY3VtZW50Lm1vekZ1bGxTY3JlZW4mJiFkb2N1bWVudC5tb3pGdWxsU2NyZWVufHx2b2lkIDAhPT1kb2N1bWVudC53ZWJraXRJc0Z1bGxTY3JlZW4mJiFkb2N1bWVudC53ZWJraXRJc0Z1bGxTY3JlZW4pCiAgICAgICAgICAgICAgICAgICAgICAgICYmKGVkaXRvci5jb250YWluZXIucmVxdWVzdEZ1bGxTY3JlZW4/ZWRpdG9yLmNvbnRhaW5lci5yZXF1ZXN0RnVsbFNjcmVlbigpOmVkaXRvci5jb250YWluZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4/ZWRpdG9yLmNvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpOmVkaXRvci5jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4/ZWRpdG9yLmNvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbihFbGVtZW50LkFMTE9XX0tFWUJPQVJEX0lOUFVUKTplZGl0b3IuY29udGFpbmVyLm1zUmVxdWVzdEZ1bGxzY3JlZW4mJmVkaXRvci5jb250YWluZXIubXNSZXF1ZXN0RnVsbHNjcmVlbigpKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYoZWRpdG9yT3B0aW9uID09ICJ3cmFwIikgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgd3JhcFN0YXR1cyA9IChlZGl0b3IuZ2V0U2Vzc2lvbigpLmdldFVzZVdyYXBNb2RlKCkpID8gZmFsc2UgOiB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZ2V0U2Vzc2lvbigpLnNldFVzZVdyYXBNb2RlKHdyYXBTdGF0dXMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoInNlbGVjdCNqcy1hY2UtbW9kZSwgc2VsZWN0I2pzLWFjZS10aGVtZSwgc2VsZWN0I2pzLWFjZS1mb250U2l6ZSIpLm9uKCJjaGFuZ2UiLCBmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgIGxldCBzZWxlY3RlZFZhbHVlID0gJCh0aGlzKS52YWwoKSwgc2VsZWN0aW9uVHlwZSA9ICQodGhpcykuYXR0cigiZGF0YS10eXBlIik7CiAgICAgICAgICAgICAgICBpZihzZWxlY3RlZFZhbHVlICYmIHNlbGVjdGlvblR5cGUgPT0gIm1vZGUiKSB7CiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmdldFNlc3Npb24oKS5zZXRNb2RlKHNlbGVjdGVkVmFsdWUpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKHNlbGVjdGVkVmFsdWUgJiYgc2VsZWN0aW9uVHlwZSA9PSAidGhlbWUiKSB7CiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnNldFRoZW1lKHNlbGVjdGVkVmFsdWUpOwogICAgICAgICAgICAgICAgfWVsc2UgaWYoc2VsZWN0ZWRWYWx1ZSAmJiBzZWxlY3Rpb25UeXBlID09ICJmb250U2l6ZSIpIHsKICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc2V0Rm9udFNpemUocGFyc2VJbnQoc2VsZWN0ZWRWYWx1ZSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIDwvc2NyaXB0Pgo8P3BocCBlbmRpZjsgPz4KPGRpdiBpZD0ic25hY2tiYXIiPjwvZGl2Pgo8L2JvZHk+CjwvaHRtbD4KPD9waHAKfQoKLyoqCiAqIExhbmd1YWdlIFRyYW5zbGF0aW9uIFN5c3RlbQogKiBAcGFyYW0gc3RyaW5nICR0eHQKICogQHJldHVybiBzdHJpbmcKICovCmZ1bmN0aW9uIGxuZygkdHh0KSB7CiAgICBnbG9iYWwgJGxhbmc7CgogICAgLy8gRW5nbGlzaCBMYW5ndWFnZQogICAgJHRyWydlbiddWydBcHBOYW1lJ10gICAgICAgID0gJ1RpbnkgRmlsZSBNYW5hZ2VyJzsgICAgICAkdHJbJ2VuJ11bJ0FwcFRpdGxlJ10gICAgICAgICAgID0gJ0ZpbGUgTWFuYWdlcic7CiAgICAkdHJbJ2VuJ11bJ0xvZ2luJ10gICAgICAgICAgPSAnU2lnbiBpbic7ICAgICAgICAgICAgICAgICR0clsnZW4nXVsnVXNlcm5hbWUnXSAgICAgICAgICAgPSAnVXNlcm5hbWUnOwogICAgJHRyWydlbiddWydQYXNzd29yZCddICAgICAgID0gJ1Bhc3N3b3JkJzsgICAgICAgICAgICAgICAkdHJbJ2VuJ11bJ0xvZ291dCddICAgICAgICAgICAgID0gJ1NpZ24gT3V0JzsKICAgICR0clsnZW4nXVsnTW92ZSddICAgICAgICAgICA9ICdNb3ZlJzsgICAgICAgICAgICAgICAgICAgJHRyWydlbiddWydDb3B5J10gICAgICAgICAgICAgICA9ICdDb3B5JzsKICAgICR0clsnZW4nXVsnU2F2ZSddICAgICAgICAgICA9ICdTYXZlJzsgICAgICAgICAgICAgICAgICAgJHRyWydlbiddWydTZWxlY3RBbGwnXSAgICAgICAgICA9ICdTZWxlY3QgYWxsJzsKICAgICR0clsnZW4nXVsnVW5TZWxlY3RBbGwnXSAgICA9ICdVbnNlbGVjdCBhbGwnOyAgICAgICAgICAgJHRyWydlbiddWydGaWxlJ10gICAgICAgICAgICAgICA9ICdGaWxlJzsKICAgICR0clsnZW4nXVsnQmFjayddICAgICAgICAgICA9ICdCYWNrJzsgICAgICAgICAgICAgICAgICAgJHRyWydlbiddWydTaXplJ10gICAgICAgICAgICAgICA9ICdTaXplJzsKICAgICR0clsnZW4nXVsnUGVybXMnXSAgICAgICAgICA9ICdQZXJtcyc7ICAgICAgICAgICAgICAgICAgJHRyWydlbiddWydNb2RpZmllZCddICAgICAgICAgICA9ICdNb2RpZmllZCc7CiAgICAkdHJbJ2VuJ11bJ093bmVyJ10gICAgICAgICAgPSAnT3duZXInOyAgICAgICAgICAgICAgICAgICR0clsnZW4nXVsnU2VhcmNoJ10gICAgICAgICAgICAgPSAnU2VhcmNoJzsKICAgICR0clsnZW4nXVsnTmV3SXRlbSddICAgICAgICA9ICdOZXcgSXRlbSc7ICAgICAgICAgICAgICAgJHRyWydlbiddWydGb2xkZXInXSAgICAgICAgICAgICA9ICdGb2xkZXInOwogICAgJHRyWydlbiddWydEZWxldGUnXSAgICAgICAgID0gJ0RlbGV0ZSc7ICAgICAgICAgICAgICAgICAkdHJbJ2VuJ11bJ1JlbmFtZSddICAgICAgICAgICAgID0gJ1JlbmFtZSc7CiAgICAkdHJbJ2VuJ11bJ0NvcHlUbyddICAgICAgICAgPSAnQ29weSB0byc7ICAgICAgICAgICAgICAgICR0clsnZW4nXVsnRGlyZWN0TGluayddICAgICAgICAgPSAnRGlyZWN0IGxpbmsnOwogICAgJHRyWydlbiddWydVcGxvYWRpbmdGaWxlcyddID0gJ1VwbG9hZCBGaWxlcyc7ICAgICAgICAgICAkdHJbJ2VuJ11bJ0NoYW5nZVBlcm1pc3Npb25zJ10gID0gJ0NoYW5nZSBQZXJtaXNzaW9ucyc7CiAgICAkdHJbJ2VuJ11bJ0NvcHlpbmcnXSAgICAgICAgPSAnQ29weWluZyc7ICAgICAgICAgICAgICAgICR0clsnZW4nXVsnQ3JlYXRlTmV3SXRlbSddICAgICAgPSAnQ3JlYXRlIE5ldyBJdGVtJzsKICAgICR0clsnZW4nXVsnTmFtZSddICAgICAgICAgICA9ICdOYW1lJzsgICAgICAgICAgICAgICAgICAgJHRyWydlbiddWydBZHZhbmNlZEVkaXRvciddICAgICA9ICdBZHZhbmNlZCBFZGl0b3InOwogICAgJHRyWydlbiddWydBY3Rpb25zJ10gICAgICAgID0gJ0FjdGlvbnMnOyAgICAgICAgICAgICAgICAkdHJbJ2VuJ11bJ0ZvbGRlciBpcyBlbXB0eSddICAgID0gJ0ZvbGRlciBpcyBlbXB0eSc7CiAgICAkdHJbJ2VuJ11bJ1VwbG9hZCddICAgICAgICAgPSAnVXBsb2FkJzsgICAgICAgICAgICAgICAgICR0clsnZW4nXVsnQ2FuY2VsJ10gICAgICAgICAgICAgPSAnQ2FuY2VsJzsKICAgICR0clsnZW4nXVsnSW52ZXJ0U2VsZWN0aW9uJ109ICdJbnZlcnQgU2VsZWN0aW9uJzsgICAgICAgJHRyWydlbiddWydEZXN0aW5hdGlvbkZvbGRlciddICA9ICdEZXN0aW5hdGlvbiBGb2xkZXInOwogICAgJHRyWydlbiddWydJdGVtVHlwZSddICAgICAgID0gJ0l0ZW0gVHlwZSc7ICAgICAgICAgICAgICAkdHJbJ2VuJ11bJ0l0ZW1OYW1lJ10gICAgICAgICAgID0gJ0l0ZW0gTmFtZSc7CiAgICAkdHJbJ2VuJ11bJ0NyZWF0ZU5vdyddICAgICAgPSAnQ3JlYXRlIE5vdyc7ICAgICAgICAgICAgICR0clsnZW4nXVsnRG93bmxvYWQnXSAgICAgICAgICAgPSAnRG93bmxvYWQnOwogICAgJHRyWydlbiddWydPcGVuJ10gICAgICAgICAgID0gJ09wZW4nOyAgICAgICAgICAgICAgICAgICAkdHJbJ2VuJ11bJ1VuWmlwJ10gICAgICAgICAgICAgID0gJ1VuWmlwJzsKICAgICR0clsnZW4nXVsnVW5aaXBUb0ZvbGRlciddICA9ICdVblppcCB0byBmb2xkZXInOyAgICAgICAgJHRyWydlbiddWydFZGl0J10gICAgICAgICAgICAgICA9ICdFZGl0JzsKICAgICR0clsnZW4nXVsnTm9ybWFsRWRpdG9yJ10gICA9ICdOb3JtYWwgRWRpdG9yJzsgICAgICAgICAgJHRyWydlbiddWydCYWNrVXAnXSAgICAgICAgICAgICA9ICdCYWNrIFVwJzsKICAgICR0clsnZW4nXVsnU291cmNlRm9sZGVyJ10gICA9ICdTb3VyY2UgRm9sZGVyJzsgICAgICAgICAgJHRyWydlbiddWydGaWxlcyddICAgICAgICAgICAgICA9ICdGaWxlcyc7CiAgICAkdHJbJ2VuJ11bJ01vdmUnXSAgICAgICAgICAgPSAnTW92ZSc7ICAgICAgICAgICAgICAgICAgICR0clsnZW4nXVsnQ2hhbmdlJ10gICAgICAgICAgICAgPSAnQ2hhbmdlJzsKICAgICR0clsnZW4nXVsnU2V0dGluZ3MnXSAgICAgICA9ICdTZXR0aW5ncyc7ICAgICAgICAgICAgICAgJHRyWydlbiddWydMYW5ndWFnZSddICAgICAgICAgICA9ICdMYW5ndWFnZSc7ICAgICAgICAKICAgICR0clsnZW4nXVsnRXJyb3JSZXBvcnRpbmcnXSA9ICdFcnJvciBSZXBvcnRpbmcnOyAgICAgICAgJHRyWydlbiddWydTaG93SGlkZGVuRmlsZXMnXSAgICA9ICdTaG93IEhpZGRlbiBGaWxlcyc7CiAgICAkdHJbJ2VuJ11bJ0hlbHAnXSAgICAgICAgICAgPSAnSGVscCc7ICAgICAgICAgICAgICAgICAgICR0clsnZW4nXVsnQ3JlYXRlZCddICAgICAgICAgICAgPSAnQ3JlYXRlZCc7CiAgICAkdHJbJ2VuJ11bJ0hlbHAgRG9jdW1lbnRzJ10gPSAnSGVscCBEb2N1bWVudHMnOyAgICAgICAgICR0clsnZW4nXVsnUmVwb3J0IElzc3VlJ10gICAgICAgPSAnUmVwb3J0IElzc3VlJzsKICAgICR0clsnZW4nXVsnR2VuZXJhdGUnXSAgICAgICA9ICdHZW5lcmF0ZSc7ICAgICAgICAgICAgICAgJHRyWydlbiddWydGdWxsU2l6ZSddICAgICAgICAgICA9ICdGdWxsIFNpemUnOyAgICAgICAgICAgICAgCiAgICAkdHJbJ2VuJ11bJ0hpZGVDb2x1bW5zJ10gICAgPSAnSGlkZSBQZXJtcy9Pd25lciBjb2x1bW5zJzskdHJbJ2VuJ11bJ1lvdSBhcmUgbG9nZ2VkIGluJ10gPSAnWW91IGFyZSBsb2dnZWQgaW4nOwogICAgJHRyWydlbiddWydOb3RoaW5nIHNlbGVjdGVkJ10gICA9ICdOb3RoaW5nIHNlbGVjdGVkJzsgICAkdHJbJ2VuJ11bJ1BhdGhzIG11c3QgYmUgbm90IGVxdWFsJ10gICAgPSAnUGF0aHMgbXVzdCBiZSBub3QgZXF1YWwnOwogICAgJHRyWydlbiddWydSZW5hbWVkIGZyb20nXSAgICAgICA9ICdSZW5hbWVkIGZyb20nOyAgICAgICAkdHJbJ2VuJ11bJ0FyY2hpdmUgbm90IHVucGFja2VkJ10gICAgICAgPSAnQXJjaGl2ZSBub3QgdW5wYWNrZWQnOwogICAgJHRyWydlbiddWydEZWxldGVkJ10gICAgICAgICAgICA9ICdEZWxldGVkJzsgICAgICAgICAgICAkdHJbJ2VuJ11bJ0FyY2hpdmUgbm90IGNyZWF0ZWQnXSAgICAgICAgPSAnQXJjaGl2ZSBub3QgY3JlYXRlZCc7CiAgICAkdHJbJ2VuJ11bJ0NvcGllZCBmcm9tJ10gICAgICAgID0gJ0NvcGllZCBmcm9tJzsgICAgICAgICR0clsnZW4nXVsnUGVybWlzc2lvbnMgY2hhbmdlZCddICAgICAgICA9ICdQZXJtaXNzaW9ucyBjaGFuZ2VkJzsKICAgICR0clsnZW4nXVsndG8nXSAgICAgICAgICAgICAgICAgPSAndG8nOyAgICAgICAgICAgICAgICAgJHRyWydlbiddWydTYXZlZCBTdWNjZXNzZnVsbHknXSAgICAgICAgID0gJ1NhdmVkIFN1Y2Nlc3NmdWxseSc7CiAgICAkdHJbJ2VuJ11bJ25vdCBmb3VuZCEnXSAgICAgICAgID0gJ25vdCBmb3VuZCEnOyAgICAgICAgICR0clsnZW4nXVsnRmlsZSBTYXZlZCBTdWNjZXNzZnVsbHknXSAgICA9ICdGaWxlIFNhdmVkIFN1Y2Nlc3NmdWxseSc7CiAgICAkdHJbJ2VuJ11bJ0FyY2hpdmUnXSAgICAgICAgICAgID0gJ0FyY2hpdmUnOyAgICAgICAgICAgICR0clsnZW4nXVsnUGVybWlzc2lvbnMgbm90IGNoYW5nZWQnXSAgICA9ICdQZXJtaXNzaW9ucyBub3QgY2hhbmdlZCc7CiAgICAkdHJbJ2VuJ11bJ1NlbGVjdCBmb2xkZXInXSAgICAgID0gJ1NlbGVjdCBmb2xkZXInOyAgICAgICR0clsnZW4nXVsnU291cmNlIHBhdGggbm90IGRlZmluZWQnXSAgICA9ICdTb3VyY2UgcGF0aCBub3QgZGVmaW5lZCc7CiAgICAkdHJbJ2VuJ11bJ2FscmVhZHkgZXhpc3RzJ10gICAgID0gJ2FscmVhZHkgZXhpc3RzJzsgICAgICR0clsnZW4nXVsnRXJyb3Igd2hpbGUgbW92aW5nIGZyb20nXSAgICA9ICdFcnJvciB3aGlsZSBtb3ZpbmcgZnJvbSc7CiAgICAkdHJbJ2VuJ11bJ0NyZWF0ZSBhcmNoaXZlPyddICAgID0gJ0NyZWF0ZSBhcmNoaXZlPyc7ICAgICR0clsnZW4nXVsnSW52YWxpZCBmaWxlIG9yIGZvbGRlciBuYW1lJ10gICAgPSAnSW52YWxpZCBmaWxlIG9yIGZvbGRlciBuYW1lJzsKICAgICR0clsnZW4nXVsnQXJjaGl2ZSB1bnBhY2tlZCddICAgPSAnQXJjaGl2ZSB1bnBhY2tlZCc7ICAgJHRyWydlbiddWydGaWxlIGV4dGVuc2lvbiBpcyBub3QgYWxsb3dlZCddICA9ICdGaWxlIGV4dGVuc2lvbiBpcyBub3QgYWxsb3dlZCc7CiAgICAkdHJbJ2VuJ11bJ1Jvb3QgcGF0aCddICAgICAgICAgID0gJ1Jvb3QgcGF0aCc7ICAgICAgICAgICR0clsnZW4nXVsnRXJyb3Igd2hpbGUgcmVuYW1pbmcgZnJvbSddICA9ICdFcnJvciB3aGlsZSByZW5hbWluZyBmcm9tJzsKICAgICR0clsnZW4nXVsnRmlsZSBub3QgZm91bmQnXSAgICAgPSAnRmlsZSBub3QgZm91bmQnOyAgICAgJHRyWydlbiddWydFcnJvciB3aGlsZSBkZWxldGluZyBpdGVtcyddID0gJ0Vycm9yIHdoaWxlIGRlbGV0aW5nIGl0ZW1zJzsKICAgICR0clsnZW4nXVsnTW92ZWQgZnJvbSddICAgICAgICAgPSAnTW92ZWQgZnJvbSc7ICAgICAgICAgJHRyWydlbiddWydHZW5lcmF0ZSBuZXcgcGFzc3dvcmQgaGFzaCddID0gJ0dlbmVyYXRlIG5ldyBwYXNzd29yZCBoYXNoJzsKICAgICR0clsnZW4nXVsnTG9naW4gZmFpbGVkLiBJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkJ10gPSAnTG9naW4gZmFpbGVkLiBJbnZhbGlkIHVzZXJuYW1lIG9yIHBhc3N3b3JkJzsKICAgICR0clsnZW4nXVsncGFzc3dvcmRfaGFzaCBub3Qgc3VwcG9ydGVkLCBVcGdyYWRlIFBIUCB2ZXJzaW9uJ10gPSAncGFzc3dvcmRfaGFzaCBub3Qgc3VwcG9ydGVkLCBVcGdyYWRlIFBIUCB2ZXJzaW9uJzsKICAgICR0clsnZW4nXVsnQWR2YW5jZWQgU2VhcmNoJ10gICAgPSAnQWR2YW5jZWQgU2VhcmNoJzsgICAgJHRyWydlbiddWydFcnJvciB3aGlsZSBjb3B5aW5nIGZyb20nXSAgICA9ICdFcnJvciB3aGlsZSBjb3B5aW5nIGZyb20nOwogICAgJHRyWydlbiddWydJbnZhbGlkIGNoYXJhY3RlcnMgaW4gZmlsZSBuYW1lJ10gICAgICAgICAgICAgICAgPSAnSW52YWxpZCBjaGFyYWN0ZXJzIGluIGZpbGUgbmFtZSc7CiAgICAkdHJbJ2VuJ11bJ0ZJTEUgRVhURU5TSU9OIEhBUyBOT1QgU1VQUE9SVEVEJ10gICAgICAgICAgICAgICA9ICdGSUxFIEVYVEVOU0lPTiBIQVMgTk9UIFNVUFBPUlRFRCc7CiAgICAkdHJbJ2VuJ11bJ1NlbGVjdGVkIGZpbGVzIGFuZCBmb2xkZXIgZGVsZXRlZCddICAgICAgICAgICAgICA9ICdTZWxlY3RlZCBmaWxlcyBhbmQgZm9sZGVyIGRlbGV0ZWQnOwogICAgJHRyWydlbiddWydFcnJvciB3aGlsZSBmZXRjaGluZyBhcmNoaXZlIGluZm8nXSAgICAgICAgICAgICAgPSAnRXJyb3Igd2hpbGUgZmV0Y2hpbmcgYXJjaGl2ZSBpbmZvJzsKICAgICR0clsnZW4nXVsnRGVsZXRlIHNlbGVjdGVkIGZpbGVzIGFuZCBmb2xkZXJzPyddICAgICAgICAgICAgID0gJ0RlbGV0ZSBzZWxlY3RlZCBmaWxlcyBhbmQgZm9sZGVycz8nOwogICAgJHRyWydlbiddWydTZWFyY2ggZmlsZSBpbiBmb2xkZXIgYW5kIHN1YmZvbGRlcnMuLi4nXSAgICAgICAgPSAnU2VhcmNoIGZpbGUgaW4gZm9sZGVyIGFuZCBzdWJmb2xkZXJzLi4uJzsKICAgICR0clsnZW4nXVsnQWNjZXNzIGRlbmllZC4gSVAgcmVzdHJpY3Rpb24gYXBwbGljYWJsZSddICAgICAgID0gJ0FjY2VzcyBkZW5pZWQuIElQIHJlc3RyaWN0aW9uIGFwcGxpY2FibGUnOwogICAgJHRyWydlbiddWydJbnZhbGlkIGNoYXJhY3RlcnMgaW4gZmlsZSBvciBmb2xkZXIgbmFtZSddICAgICAgPSAnSW52YWxpZCBjaGFyYWN0ZXJzIGluIGZpbGUgb3IgZm9sZGVyIG5hbWUnOwogICAgJHRyWydlbiddWydPcGVyYXRpb25zIHdpdGggYXJjaGl2ZXMgYXJlIG5vdCBhdmFpbGFibGUnXSAgICAgPSAnT3BlcmF0aW9ucyB3aXRoIGFyY2hpdmVzIGFyZSBub3QgYXZhaWxhYmxlJzsKICAgICR0clsnZW4nXVsnRmlsZSBvciBmb2xkZXIgd2l0aCB0aGlzIHBhdGggYWxyZWFkeSBleGlzdHMnXSAgID0gJ0ZpbGUgb3IgZm9sZGVyIHdpdGggdGhpcyBwYXRoIGFscmVhZHkgZXhpc3RzJzsKICAgICR0clsnZW4nXVsnQXJlIHlvdSBzdXJlIHdhbnQgdG8gcmVuYW1lPyddICAgICAgICAgICAgICAgICAgID0gJ0FyZSB5b3Ugc3VyZSB3YW50IHRvIHJlbmFtZT8nOwogICAgJHRyWydlbiddWydBcmUgeW91IHN1cmUgd2FudCB0byddICAgICAgICAgICAgICAgICAgICAgICAgICAgPSAnQXJlIHlvdSBzdXJlIHdhbnQgdG8nOwoKICAgICRpMThuID0gZm1fZ2V0X3RyYW5zbGF0aW9ucygkdHIpOwogICAgJHRyID0gJGkxOG4gPyAkaTE4biA6ICR0cjsKCiAgICBpZiAoIXN0cmxlbigkbGFuZykpICRsYW5nID0gJ2VuJzsKICAgIGlmIChpc3NldCgkdHJbJGxhbmddWyR0eHRdKSkgcmV0dXJuIGZtX2VuYygkdHJbJGxhbmddWyR0eHRdKTsKICAgIGVsc2UgaWYgKGlzc2V0KCR0clsnZW4nXVskdHh0XSkpIHJldHVybiBmbV9lbmMoJHRyWydlbiddWyR0eHRdKTsKICAgIGVsc2UgcmV0dXJuICIkdHh0IjsKfQoKPz4=</embed>
    </cover>
  </covers>
  <issue_galleys xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://pkp.sfu.ca native.xsd"/>
  <articles xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://pkp.sfu.ca native.xsd">
  </articles>
</issue>
